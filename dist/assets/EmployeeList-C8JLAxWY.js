import{c as b,r as l,j as e,a3 as F,f as _,a4 as g,o as z,X as q}from"./index-CfPzR3wC.js";import"./vendor--Eh9ivFN.js";import"./genai-IPx1z701.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],I=b("ellipsis",M);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],O=b("square-pen",R),V=({employees:j,onAddEmployee:v,onEditEmployee:w,onDeleteEmployee:y,onViewProfile:C})=>{const[k,i]=l.useState(!1),[c,d]=l.useState(!1),[u,m]=l.useState(null),[p,n]=l.useState(null),[h,E]=l.useState("lastName_asc"),x=l.useRef(null),[a,r]=l.useState({firstName:"",lastName:"",email:"",position:"",department:""}),[o,L]=l.useState("");l.useEffect(()=>{const s=t=>{x.current&&!x.current.contains(t.target)&&n(null)};return document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[]);const f=()=>{d(!1),m(null),r({firstName:"",lastName:"",email:"",position:"",department:""}),i(!0),n(null)},D=(s,t)=>{s.stopPropagation(),d(!0),m(t.id),r({firstName:t.firstName,lastName:t.lastName,email:t.email,position:t.position,department:t.department}),i(!0),n(null)},S=(s,t)=>{s.stopPropagation(),n(null),y(t)},A=s=>{s.preventDefault(),a.firstName&&a.lastName&&(c&&u?w(u,a):v(a),i(!1),r({firstName:"",lastName:"",email:"",position:"",department:""}),d(!1),m(null))},N=[...j.filter(s=>s.firstName.toLowerCase().includes(o.toLowerCase())||s.lastName.toLowerCase().includes(o.toLowerCase())||s.position.toLowerCase().includes(o.toLowerCase())||s.department.toLowerCase().includes(o.toLowerCase()))].sort((s,t)=>{switch(h){case"lastName_asc":return s.lastName.localeCompare(t.lastName);case"lastName_desc":return t.lastName.localeCompare(s.lastName);case"firstName_asc":return s.firstName.localeCompare(t.firstName);case"firstName_desc":return t.firstName.localeCompare(s.firstName);case"department_asc":return s.department.localeCompare(t.department);default:return 0}});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",style:{minHeight:"600px"},children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col xl:flex-row justify-between items-start xl:items-center gap-4",children:[e.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Listado de Funcionarios"}),e.jsxs("div",{className:"flex flex-col sm:flex-row w-full xl:w-auto gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 border border-slate-200 rounded-lg px-3 py-2 w-full sm:w-auto",children:[e.jsx(F,{size:16,className:"text-slate-400"}),e.jsxs("select",{value:h,onChange:s=>E(s.target.value),className:"bg-transparent border-none text-sm text-slate-700 focus:ring-0 focus:outline-none cursor-pointer w-full","aria-label":"Ordenar funcionarios por",children:[e.jsx("option",{value:"lastName_asc",children:"Apellido (A-Z)"}),e.jsx("option",{value:"lastName_desc",children:"Apellido (Z-A)"}),e.jsx("option",{value:"firstName_asc",children:"Nombre (A-Z)"}),e.jsx("option",{value:"firstName_desc",children:"Nombre (Z-A)"}),e.jsx("option",{value:"department_asc",children:"Departamento"})]})]}),e.jsxs("div",{className:"relative w-full sm:w-64",children:[e.jsx(_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Buscar funcionario...",value:o,onChange:s=>L(s.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm","aria-label":"Buscar funcionario por nombre, cargo o departamento"})]}),e.jsxs("button",{onClick:f,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 shadow-sm whitespace-nowrap justify-center",children:[e.jsx(g,{size:18,"aria-hidden":"true"}),e.jsx("span",{className:"hidden sm:inline",children:"Nuevo Funcionario"}),e.jsx("span",{className:"sm:hidden",children:"Nuevo"})]})]})]}),N.length===0?e.jsxs("div",{className:"p-12 text-center text-slate-400 bg-slate-50/50",children:[e.jsx(g,{size:48,className:"mx-auto mb-4 text-slate-300"}),e.jsx("h3",{className:"text-lg font-medium text-slate-600",children:"No hay funcionarios encontrados"}),e.jsx("p",{className:"mb-6",children:"Intenta ajustar tu bÃºsqueda o agrega un nuevo miembro."}),e.jsx("button",{onClick:f,className:"text-indigo-600 font-medium hover:underline",children:"Agregar Funcionario"})]}):e.jsx("div",{className:"overflow-visible",children:e.jsxs("table",{className:"w-full text-left border-collapse","aria-label":"Lista de funcionarios",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-50 text-slate-600 text-xs uppercase tracking-wider font-semibold",children:[e.jsx("th",{className:"px-6 py-4",scope:"col",children:"Funcionario"}),e.jsx("th",{className:"px-6 py-4",scope:"col",children:"Departamento"}),e.jsx("th",{className:"px-6 py-4 text-center",scope:"col",children:"Feriado Legal"}),e.jsx("th",{className:"px-6 py-4 text-center",scope:"col",children:"Administrativos"}),e.jsx("th",{className:"px-6 py-4 text-center",scope:"col",children:"Licencias"}),e.jsx("th",{className:"px-6 py-4 text-right",scope:"col",children:"Acciones"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:N.map(s=>e.jsxs("tr",{className:"hover:bg-slate-50 transition-colors cursor-pointer",onClick:()=>C(s),children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:s.avatarUrl,alt:"",className:"w-10 h-10 rounded-full object-cover","aria-hidden":"true"}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-slate-900",children:[s.lastName,", ",s.firstName]}),e.jsx("p",{className:"text-xs text-slate-500",children:s.position})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:s.department})}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"font-bold text-slate-800",children:s.totalVacationDays-s.usedVacationDays}),e.jsxs("span",{className:"text-[10px] text-slate-400",children:["de ",s.totalVacationDays]})]})}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"font-bold text-slate-800",children:s.totalAdminDays-s.usedAdminDays}),e.jsxs("span",{className:"text-[10px] text-slate-400",children:["de ",s.totalAdminDays]})]})}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:`font-bold ${s.usedSickLeaveDays>0?"text-rose-600":"text-slate-800"}`,children:s.usedSickLeaveDays}),e.jsx("span",{className:"text-[10px] text-slate-400",children:"usados"})]})}),e.jsxs("td",{className:"px-6 py-4 text-right relative",children:[e.jsx("button",{onClick:t=>{t.stopPropagation(),n(p===s.id?null:s.id)},className:"text-slate-400 hover:text-indigo-600 p-2 rounded-full hover:bg-slate-100 transition-colors",children:e.jsx(I,{size:20,"aria-hidden":"true"})}),p===s.id&&e.jsxs("div",{ref:x,className:"absolute right-8 top-8 w-40 bg-white rounded-lg shadow-xl border border-slate-100 z-50 animate-fade-in origin-top-right",children:[e.jsxs("button",{onClick:t=>D(t,s),className:"w-full flex items-center gap-2 px-4 py-2.5 text-sm text-slate-700 hover:bg-slate-50 hover:text-indigo-600 transition-colors first:rounded-t-lg",children:[e.jsx(O,{size:16}),"Editar"]}),e.jsxs("button",{onClick:t=>S(t,s.id),className:"w-full flex items-center gap-2 px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 transition-colors last:rounded-b-lg border-t border-slate-50",children:[e.jsx(z,{size:16}),"Eliminar"]})]})]})]},s.id))})]})})]}),k&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",role:"dialog","aria-modal":"true","aria-label":c?"Editar Funcionario":"Registrar Nuevo Funcionario",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-lg overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:c?"Editar Funcionario":"Registrar Nuevo Funcionario"}),e.jsx("button",{onClick:()=>i(!1),className:"text-slate-400 hover:text-slate-600","aria-label":"Cerrar formulario",children:e.jsx(q,{size:20})})]}),e.jsxs("form",{onSubmit:A,className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"emp-firstName",className:"block text-sm font-medium text-slate-700 mb-1",children:"Nombre"}),e.jsx("input",{id:"emp-firstName",type:"text",required:!0,className:"w-full border border-slate-300 rounded-lg p-2.5 focus:ring-2 focus:ring-indigo-500",value:a.firstName,onChange:s=>r({...a,firstName:s.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"emp-lastName",className:"block text-sm font-medium text-slate-700 mb-1",children:"Apellido"}),e.jsx("input",{id:"emp-lastName",type:"text",required:!0,className:"w-full border border-slate-300 rounded-lg p-2.5 focus:ring-2 focus:ring-indigo-500",value:a.lastName,onChange:s=>r({...a,lastName:s.target.value})})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"emp-email",className:"block text-sm font-medium text-slate-700 mb-1",children:"Correo Institucional"}),e.jsx("input",{id:"emp-email",type:"email",required:!0,className:"w-full border border-slate-300 rounded-lg p-2.5 focus:ring-2 focus:ring-indigo-500",value:a.email,onChange:s=>r({...a,email:s.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"emp-position",className:"block text-sm font-medium text-slate-700 mb-1",children:"Cargo"}),e.jsx("input",{id:"emp-position",type:"text",required:!0,className:"w-full border border-slate-300 rounded-lg p-2.5 focus:ring-2 focus:ring-indigo-500",value:a.position,onChange:s=>r({...a,position:s.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"emp-department",className:"block text-sm font-medium text-slate-700 mb-1",children:"Departamento"}),e.jsx("input",{id:"emp-department",type:"text",required:!0,className:"w-full border border-slate-300 rounded-lg p-2.5 focus:ring-2 focus:ring-indigo-500",value:a.department,onChange:s=>r({...a,department:s.target.value})})]})]}),e.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg font-medium",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700",children:c?"Guardar Cambios":"Registrar"})]})]})]})})]})};export{V as EmployeeList};
