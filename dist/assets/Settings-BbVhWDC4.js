import{c as je,M as _e,L as Ne,N as L,O as pe,Q as Ve,W as Q,r as n,j as e,V as Ie,F as Me,T as xe,h as he,n as Fe,D as fe,Y as ze,_ as ge}from"./index-DpkQ8c0_.js";import{U as be}from"./upload-JOYAhknR.js";import"./vendor--Eh9ivFN.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Pe=je("database",Je);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],$e=je("file-braces",He),T=a=>typeof a=="number"&&Number.isFinite(a),A=a=>T(a)&&a>=0,d=a=>typeof a=="string",_=a=>a.trim().length>0,Ee=(a,s,h=.01)=>Math.abs(a-s)<=h,X=a=>{if(!a||typeof a!="object")return!1;const s=a;return d(s.id)&&d(s.firstName)&&d(s.lastName)&&d(s.email)&&d(s.position)&&d(s.department)&&A(s.totalVacationDays)&&A(s.usedVacationDays)&&A(s.totalAdminDays)&&A(s.usedAdminDays)&&A(s.totalSickLeaveDays)&&A(s.usedSickLeaveDays)&&d(s.avatarUrl)&&s.usedVacationDays<=s.totalVacationDays&&s.usedAdminDays<=s.totalAdminDays&&s.usedSickLeaveDays<=s.totalSickLeaveDays&&_(s.id)&&_(s.firstName)&&_(s.lastName)&&_(s.email)&&s.email.includes("@")},Z=a=>{if(!a||typeof a!="object")return!1;const s=a;return d(s.id)&&d(s.employeeId)&&d(s.startDate)&&d(s.endDate)&&A(s.daysCount)&&d(s.reason)&&d(s.type)&&d(s.status)&&d(s.shift)&&Object.values(Ve).includes(s.type)&&Object.values(Ne).includes(s.status)&&Object.values(Q).includes(s.shift)&&pe(s.startDate)&&pe(s.endDate)&&L(s.startDate).getTime()<=L(s.endDate).getTime()&&s.daysCount>0&&(s.shift===Q.JC||s.startDate===s.endDate)&&(s.shift===Q.JC||Ee(s.daysCount,.5))&&_(s.id)&&_(s.employeeId)},F=a=>{if(!a||typeof a!="object")return!1;const s=a,h=s.carryoverVacationEnabled===void 0||typeof s.carryoverVacationEnabled=="boolean",f=s.carryoverVacationMaxPeriods===void 0||T(s.carryoverVacationMaxPeriods),m=s.adminDaysExpireAtYearEnd===void 0||typeof s.adminDaysExpireAtYearEnd=="boolean",u=s.yearCloseReminderDays===void 0||T(s.yearCloseReminderDays);return T(s.defaultVacationDays)&&T(s.defaultAdminDays)&&T(s.defaultSickLeaveDays)&&d(s.notificationEmail)&&d(s.emailTemplate)&&h&&f&&m&&u},ve=a=>{const s=[],h=[];if(!a||typeof a!="object")return{valid:!1,errors:["El archivo no contiene datos válidos."],warnings:[]};if(a.employees!==void 0)if(!Array.isArray(a.employees))s.push("La lista de funcionarios no tiene formato de array.");else{const f=a.employees.map((i,g)=>({employee:i,index:g})).filter(({employee:i})=>!X(i)).map(({index:i})=>i+1);f.length>0&&s.push(`Hay funcionarios inválidos en las filas: ${f.join(", ")}.`),a.employees.length===0&&h.push("La lista de funcionarios está vacía.");const m=new Set;let u=0;a.employees.forEach(i=>{if(X(i)){if(m.has(i.id)){u+=1;return}m.add(i.id)}}),u>0&&s.push(`Se detectaron ${u} ID(s) de funcionario duplicados.`)}if(a.requests!==void 0)if(!Array.isArray(a.requests))s.push("La lista de solicitudes no tiene formato de array.");else{const f=a.requests.map((i,g)=>({request:i,index:g})).filter(({request:i})=>!Z(i)).map(({index:i})=>i+1);f.length>0&&s.push(`Hay solicitudes inválidas en las filas: ${f.join(", ")}.`);const m=new Set;let u=0;a.requests.forEach(i=>{if(Z(i)){if(m.has(i.id)){u+=1;return}m.add(i.id)}}),u>0&&s.push(`Se detectaron ${u} ID(s) de solicitud duplicados.`)}if(a.config!==void 0&&!F(a.config)&&s.push("La configuración importada no tiene una estructura válida."),Array.isArray(a.employees)&&Array.isArray(a.requests)){const f=a.employees.filter(X),m=a.requests.filter(Z),u=new Set(f.map(r=>r.id)),i=m.filter(r=>!u.has(r.employeeId));i.length>0&&s.push(`Hay ${i.length} solicitud(es) con funcionario inexistente.`);const g=m.filter(r=>{const p=_e(r.startDate,r.endDate,r.type,r.shift);return!Ee(p,r.daysCount)});g.length>0&&s.push(`Hay ${g.length} solicitud(es) con días calculados inconsistentes respecto a fechas, tipo o jornada.`);const k=new Map;m.filter(r=>r.status===Ne.APPROVED).forEach(r=>{const p=k.get(r.employeeId)||[];p.push(r),k.set(r.employeeId,p)});let E=0;k.forEach(r=>{const p=[...r].sort((N,S)=>L(N.startDate).getTime()-L(S.startDate).getTime());for(let N=1;N<p.length;N+=1){const S=L(p[N-1].endDate);L(p[N].startDate)<=S&&(E+=1)}}),E>0&&s.push(`Se detectaron ${E} solapamiento(s) entre solicitudes aprobadas de un mismo funcionario.`)}return a.employees===void 0&&a.requests===void 0&&a.config===void 0&&s.push("El archivo no contiene funcionarios, solicitudes ni configuración."),{valid:s.length===0,errors:s,warnings:h}},ye=2*1024*1024,Ye=({config:a,employees:s=[],requests:h=[],onSave:f,onImport:m})=>{const[u,i]=n.useState(a.defaultVacationDays),[g,k]=n.useState(a.defaultAdminDays),[E,r]=n.useState(a.defaultSickLeaveDays),[p,N]=n.useState(a.notificationEmail||"todos@institucion.cl"),[S,Y]=n.useState(a.carryoverVacationEnabled??!0),[z,K]=n.useState(a.carryoverVacationMaxPeriods??2),[J,ee]=n.useState(a.adminDaysExpireAtYearEnd??!0),[P,se]=n.useState(a.yearCloseReminderDays??30),[H,te]=n.useState(a.emailTemplate||"- {NOMBRE} ({CARGO}): {TIPO} {JORNADA} desde el {DESDE} hasta el {HASTA}."),[$,ae]=n.useState(a.templateLegalHoliday||"- {NOMBRE} ({CARGO}): Hará uso de Feriado Legal {JORNADA} desde el {DESDE} hasta el {HASTA}."),[q,ie]=n.useState(a.templateAdministrative||"- {NOMBRE} ({CARGO}): Solicitó Permiso Administrativo {JORNADA} el día {DESDE} (Retorna: {HASTA})."),[B,re]=n.useState(a.templateSickLeave||"- {NOMBRE} ({CARGO}): Presenta Licencia Médica desde el {DESDE} hasta el {HASTA}."),[y,G]=n.useState("legal"),[oe,Se]=n.useState(!1),[De,le]=n.useState(!1),[ne,c]=n.useState("idle"),[ce,j]=n.useState(""),de=n.useRef(null),me=n.useRef(null),ue=t=>{i(t.defaultVacationDays),k(t.defaultAdminDays),r(t.defaultSickLeaveDays),N(t.notificationEmail),te(t.emailTemplate||""),ae(t.templateLegalHoliday||""),ie(t.templateAdministrative||""),re(t.templateSickLeave||""),Y(t.carryoverVacationEnabled??!0),K(t.carryoverVacationMaxPeriods??2),ee(t.adminDaysExpireAtYearEnd??!0),se(t.yearCloseReminderDays??30)},we=t=>{t.preventDefault(),f({defaultVacationDays:u,defaultAdminDays:g,defaultSickLeaveDays:E,notificationEmail:p,emailTemplate:H,templateLegalHoliday:$,templateAdministrative:q,templateSickLeave:B,carryoverVacationEnabled:S,carryoverVacationMaxPeriods:z,adminDaysExpireAtYearEnd:J,yearCloseReminderDays:P},oe),le(!0),setTimeout(()=>le(!1),3e3)},Ae=()=>{const t={version:"1.0",timestamp:new Date().toISOString(),config:{defaultVacationDays:u,defaultAdminDays:g,defaultSickLeaveDays:E,notificationEmail:p,emailTemplate:H,templateLegalHoliday:$,templateAdministrative:q,templateSickLeave:B,carryoverVacationEnabled:S,carryoverVacationMaxPeriods:z,adminDaysExpireAtYearEnd:J,yearCloseReminderDays:P},employees:s,requests:h},l=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),b=URL.createObjectURL(l),v=document.createElement("a");v.href=b,v.download=`respaldo_rrhh_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(b)},ke=()=>{var t;(t=de.current)==null||t.click()},Ce=t=>{var D;const l=(D=t.target.files)==null?void 0:D[0];if(!l)return;if(!(l.name.toLowerCase().endsWith(".json")||l.type.includes("json"))){c("error"),j("El archivo seleccionado no es JSON válido."),setTimeout(()=>c("idle"),4e3),t.target.value="";return}if(l.size>ye){c("error"),j("El archivo JSON excede el tamaño máximo permitido (2 MB)."),setTimeout(()=>c("idle"),4e3),t.target.value="";return}const v=new FileReader;v.onload=w=>{var C;try{const o=JSON.parse((C=w.target)==null?void 0:C.result),x=ve(o);if(!x.valid){c("error"),j(x.errors.join(" ")),setTimeout(()=>c("idle"),5e3);return}if(x.warnings.length>0&&console.warn("JSON import warnings:",x.warnings),m&&(o.employees||o.requests||o.config)){const V=Array.isArray(o.employees)?o.employees:s,I=Array.isArray(o.requests)?o.requests:h,M=F(o.config)?o.config:a;m({employees:V,requests:I,config:M}),F(o.config)&&ue(o.config),c("success"),j(`Respaldo JSON restaurado correctamente.${x.warnings.length>0?` (${x.warnings.length} advertencia(s))`:""}`),setTimeout(()=>c("idle"),3e3)}else throw new Error("Estructura JSON inválida")}catch(o){console.error("Error importing JSON",o),c("error"),j("Error al leer el archivo JSON. Verifique que el formato sea válido.")}},v.readAsText(l),t.target.value=""},Oe=async()=>{try{const{utils:t,writeFile:l}=await ge(async()=>{const{utils:C,writeFile:o}=await import("./xlsx-CkFp8p6R.js");return{utils:C,writeFile:o}},[]),b=t.book_new(),v=t.json_to_sheet(s);t.book_append_sheet(b,v,"Funcionarios");const D=t.json_to_sheet(h);t.book_append_sheet(b,D,"Solicitudes");const w=t.json_to_sheet([{defaultVacationDays:u,defaultAdminDays:g,defaultSickLeaveDays:E,notificationEmail:p,emailTemplate:H,templateLegalHoliday:$,templateAdministrative:q,templateSickLeave:B,carryoverVacationEnabled:S,carryoverVacationMaxPeriods:z,adminDaysExpireAtYearEnd:J,yearCloseReminderDays:P}]);t.book_append_sheet(b,w,"Configuracion"),l(b,`planilla_rrhh_${new Date().toISOString().split("T")[0]}.xlsx`)}catch(t){console.error("Error exporting to Excel:",t),alert("Hubo un error al generar el archivo Excel.")}},Re=()=>{var t;(t=me.current)==null||t.click()},Te=async t=>{var D;const l=(D=t.target.files)==null?void 0:D[0];if(!l)return;const b=l.name.toLowerCase();if(!(b.endsWith(".xlsx")||b.endsWith(".xls"))){c("error"),j("El archivo seleccionado no es una planilla Excel válida (.xlsx o .xls)."),setTimeout(()=>c("idle"),4e3),t.target.value="";return}if(l.size>ye){c("error"),j("El archivo Excel excede el tamaño máximo permitido (2 MB)."),setTimeout(()=>c("idle"),4e3),t.target.value="";return}try{const w=await l.arrayBuffer(),{read:C,utils:o}=await ge(async()=>{const{read:U,utils:W}=await import("./xlsx-CkFp8p6R.js");return{read:U,utils:W}},[]),x=C(w),V=x.Sheets.Funcionarios?o.sheet_to_json(x.Sheets.Funcionarios):void 0,I=x.Sheets.Solicitudes?o.sheet_to_json(x.Sheets.Solicitudes):void 0,M=x.Sheets.Configuracion?o.sheet_to_json(x.Sheets.Configuracion):void 0,O=M&&M.length>0?M[0]:void 0,R=ve({employees:V,requests:I,config:O});if(!R.valid){c("error"),j(R.errors.join(" ")),setTimeout(()=>c("idle"),5e3);return}if(R.warnings.length>0&&console.warn("Excel import warnings:",R.warnings),!V&&!I&&!O)throw new Error("No se encontraron datos válidos en el Excel (hojas: Funcionarios, Solicitudes, Configuracion)");if(m){const U=V||s,W=I||h,Le=F(O)?O:a;m({employees:U,requests:W,config:Le}),F(O)&&ue(O),c("success"),j(`Datos importados desde Excel correctamente.${R.warnings.length>0?` (${R.warnings.length} advertencia(s))`:""}`),setTimeout(()=>c("idle"),3e3)}}catch(w){console.error("Error importing Excel",w),c("error"),j("Error al leer Excel. Verifique las hojas (Funcionarios, Solicitudes).")}t.target.value=""};return e.jsxs("div",{className:"max-w-3xl mx-auto space-y-6 pb-12",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Configuración Institucional"}),e.jsx("p",{className:"text-slate-500",children:"Define los parámetros base para la gestión de días libres, licencias y comunicaciones."})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-slate-100 bg-slate-50/50",children:e.jsx("h3",{className:"font-semibold text-slate-800 flex items-center gap-2",children:"Reglas Generales"})}),e.jsxs("form",{onSubmit:we,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Días de Feriado Legal (Anual)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",min:"0",max:"100",value:u,onChange:t=>i(Number(t.target.value)),className:"w-full pl-4 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"}),e.jsx("span",{className:"absolute right-4 top-2.5 text-slate-400 text-sm",children:"días"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Días Administrativos (Anual)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",min:"0",max:"20",value:g,onChange:t=>k(Number(t.target.value)),className:"w-full pl-4 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"}),e.jsx("span",{className:"absolute right-4 top-2.5 text-slate-400 text-sm",children:"días"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Tope Referencial de Licencias Médicas (Anual)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",min:"0",max:"365",value:E,onChange:t=>r(Number(t.target.value)),className:"w-full pl-4 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"}),e.jsx("span",{className:"absolute right-4 top-2.5 text-slate-400 text-sm",children:"días"})]})]}),e.jsxs("div",{className:"md:col-span-2 border-t border-slate-100 pt-4",children:[e.jsx("h4",{className:"font-medium text-slate-800 mb-4",children:"Automatización de Cierre de Año"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:J,onChange:t=>ee(t.target.checked),className:"mt-1 w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Vencer días administrativos al 31 de diciembre"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Al cierre anual, los administrativos no usados se reinician al valor anual definido."})]})]}),e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:S,onChange:t=>Y(t.target.checked),className:"mt-1 w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Permitir arrastre de vacaciones no utilizadas"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Se suma el saldo no usado al nuevo periodo anual, respetando el tope legal configurado."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Tope de acumulación de periodos de vacaciones"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",min:"1",max:"5",value:z,onChange:t=>K(Number(t.target.value)),className:"w-full pl-4 pr-16 py-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"}),e.jsx("span",{className:"absolute right-4 top-2.5 text-slate-400 text-sm",children:"periodos"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Aviso previo a RRHH antes del cierre"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",min:"1",max:"90",value:P,onChange:t=>se(Number(t.target.value)),className:"w-full pl-4 pr-16 py-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"}),e.jsx("span",{className:"absolute right-4 top-2.5 text-slate-400 text-sm",children:"días"})]})]})]})]})]})]}),e.jsxs("div",{className:"md:col-span-2 border-t border-slate-100 pt-6",children:[e.jsxs("h4",{className:"font-medium text-slate-800 mb-4 flex items-center gap-2",children:[e.jsx(Ie,{size:18,className:"text-indigo-600"}),"Configuración de Reportes y Plantillas"]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Email de Destino para Reportes"}),e.jsx("input",{type:"email",value:p,onChange:t=>N(t.target.value),placeholder:"ej: todos@institucion.cl",className:"w-full pl-4 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Plantillas de Correo por Tipo"}),e.jsxs("div",{className:"flex border-b border-slate-200 mb-2 overflow-x-auto",children:[e.jsx("button",{type:"button",onClick:()=>G("legal"),className:`px-4 py-2 text-sm font-medium transition-colors border-b-2 whitespace-nowrap ${y==="legal"?"border-blue-500 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:"Feriado Legal"}),e.jsx("button",{type:"button",onClick:()=>G("admin"),className:`px-4 py-2 text-sm font-medium transition-colors border-b-2 whitespace-nowrap ${y==="admin"?"border-purple-500 text-purple-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:"Administrativo"}),e.jsx("button",{type:"button",onClick:()=>G("sick"),className:`px-4 py-2 text-sm font-medium transition-colors border-b-2 whitespace-nowrap ${y==="sick"?"border-red-500 text-red-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:"Licencia Médica"}),e.jsx("button",{type:"button",onClick:()=>G("general"),className:`px-4 py-2 text-sm font-medium transition-colors border-b-2 whitespace-nowrap ${y==="general"?"border-indigo-500 text-indigo-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:"General / Otros"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{value:y==="legal"?$:y==="admin"?q:y==="sick"?B:H,onChange:t=>{const l=t.target.value;y==="legal"?ae(l):y==="admin"?ie(l):y==="sick"?re(l):te(l)},rows:4,className:"w-full p-4 bg-slate-50 border border-slate-200 rounded-lg text-slate-700 font-mono text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none",placeholder:"Ej: - {NOMBRE}: ..."}),e.jsx("div",{className:"absolute right-2 top-2",children:e.jsx(Me,{size:16,className:"text-slate-400"})})]}),e.jsxs("div",{className:"mt-2 text-xs text-slate-500 space-y-1",children:[e.jsx("p",{className:"font-medium text-slate-700",children:"Variables disponibles (se rellenan automáticamente):"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["{NOMBRE}","{CARGO}","{TIPO}","{JORNADA}","{DESDE}","{HASTA}","{MOTIVO}"].map(t=>e.jsx("span",{className:"bg-slate-100 border border-slate-200 px-1.5 py-0.5 rounded text-slate-600 font-mono",children:t},t))})]})]})]})]}),e.jsxs("div",{className:"bg-amber-50 border border-amber-100 rounded-lg p-4 flex items-start gap-3 mt-6",children:[e.jsx(xe,{className:"text-amber-500 flex-shrink-0 mt-0.5",size:20}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("input",{id:"applyToAll",type:"checkbox",checked:oe,onChange:t=>Se(t.target.checked),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),e.jsx("label",{htmlFor:"applyToAll",className:"text-sm font-medium text-amber-900 cursor-pointer",children:"Actualizar funcionarios existentes"})]}),e.jsxs("p",{className:"text-xs text-amber-700 ml-6",children:['Si marcas esta opción, se actualizará el "Total de Días" asignado a ',e.jsx("strong",{children:"todos"})," los funcionarios registrados."]})]})]}),e.jsxs("div",{className:"pt-4 flex items-center justify-between border-t border-slate-100",children:[e.jsx("div",{children:De&&e.jsxs("span",{className:"flex items-center gap-2 text-emerald-600 text-sm font-medium animate-fade-in",children:[e.jsx(he,{size:16}),"Configuración guardada"]})}),e.jsxs("button",{type:"submit",className:"flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-2.5 rounded-lg font-medium transition-all shadow-sm hover:shadow-md active:transform active:scale-95",children:[e.jsx(Fe,{size:18}),"Guardar Cambios"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-slate-100 bg-slate-50/50",children:e.jsxs("h3",{className:"font-semibold text-slate-800 flex items-center gap-2",children:[e.jsx(Pe,{size:18,className:"text-indigo-600"}),"Gestión de Datos"]})}),e.jsxs("div",{className:"p-6 space-y-8",children:[e.jsxs("p",{className:"text-sm text-slate-600",children:["Seleccione el método de respaldo o importación que prefiera.",e.jsx("br",{}),e.jsxs("span",{className:"text-slate-500 text-xs",children:["Recomendación: Use ",e.jsx("strong",{children:"JSON"})," para respaldos completos del sistema y ",e.jsx("strong",{children:"Excel"})," para editar datos masivamente o generar reportes."]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-bold text-slate-700 mb-3 flex items-center gap-2",children:[e.jsx($e,{size:16,className:"text-slate-400"}),"Respaldo Nativo (JSON)"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("button",{onClick:Ae,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-white border border-slate-200 text-slate-700 hover:bg-slate-50 rounded-lg font-medium transition-colors",children:[e.jsx(fe,{size:18}),"Descargar Backup JSON"]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"file",ref:de,onChange:Ce,accept:".json",className:"hidden"}),e.jsxs("button",{onClick:ke,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-white border border-slate-200 text-slate-700 hover:bg-slate-50 rounded-lg font-medium transition-colors",children:[e.jsx(be,{size:18}),"Restaurar Backup JSON"]})]})]})]}),e.jsx("div",{className:"border-t border-slate-100"}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-bold text-slate-700 mb-3 flex items-center gap-2",children:[e.jsx(ze,{size:16,className:"text-emerald-600"}),"Interoperabilidad (Excel)"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("button",{onClick:Oe,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-white border border-slate-200 text-slate-700 hover:bg-emerald-50 hover:text-emerald-700 hover:border-emerald-200 rounded-lg font-medium transition-colors group",children:[e.jsx(fe,{size:18,className:"group-hover:text-emerald-600"}),"Exportar a Excel"]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("input",{type:"file",ref:me,onChange:Te,accept:".xlsx, .xls",className:"hidden"}),e.jsxs("button",{onClick:Re,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-white border border-slate-200 text-slate-700 hover:bg-indigo-50 hover:text-indigo-700 hover:border-indigo-200 rounded-lg font-medium transition-colors group",children:[e.jsx(be,{size:18,className:"group-hover:text-indigo-600"}),"Importar desde Excel"]})]})]})]}),e.jsxs("div",{className:"mt-4 text-center h-6",children:[ne==="success"&&e.jsxs("span",{className:"text-sm font-medium text-emerald-600 flex items-center justify-center gap-2 animate-fade-in",children:[e.jsx(he,{size:16}),ce]}),ne==="error"&&e.jsxs("span",{className:"text-sm font-medium text-rose-600 flex items-center justify-center gap-2 animate-fade-in",children:[e.jsx(xe,{size:16}),ce]})]})]})]})]})};export{Ye as Settings};
