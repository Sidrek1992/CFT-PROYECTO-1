const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/EmployeeListModal-BJreNU0S.js","assets/upload-JOYAhknR.js","assets/trending-down-z5bncGCS.js","assets/vendor--Eh9ivFN.js","assets/Dashboard-CE-3C9Hc.js","assets/LowBalanceModal-DPgAvshY.js","assets/DecreeBookModal-B4fDUHkW.js","assets/CalendarView-D9V9D3V3.js","assets/ThemeSelector-B5BQBLJW.js","assets/check-mtz_w6eY.js","assets/Settings-BbVhWDC4.js","assets/Reports-FZYMBw1c.js","assets/colorUtils-DQK6Ky97.js","assets/LeaveRequests-DY4TEwMc.js","assets/EmployeeList-XMhQq6wu.js"])))=>i.map(i=>d[i]);
import{r as Wv,g as $p,a as Sw,c as qu}from"./vendor--Eh9ivFN.js";function Ew(r,e){for(var s=0;s<e.length;s++){const a=e[s];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in r)){const c=Object.getOwnPropertyDescriptor(a,o);c&&Object.defineProperty(r,o,c.get?c:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}})();var Uf={exports:{}},Dl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $b;function Aw(){if($b)return Dl;$b=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(a,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:u,ref:o!==void 0?o:null,props:c}}return Dl.Fragment=e,Dl.jsx=s,Dl.jsxs=s,Dl}var Fb;function Tw(){return Fb||(Fb=1,Uf.exports=Aw()),Uf.exports}var h=Tw(),J=Wv();const Zs=$p(J),K6=Ew({__proto__:null,default:Zs},[J]);var Mf={exports:{}},Ol={},Pf={exports:{}},zf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vb;function Nw(){return Vb||(Vb=1,(function(r){function e(te,Q){var ve=te.length;te.push(Q);e:for(;0<ve;){var ie=ve-1>>>1,se=te[ie];if(0<o(se,Q))te[ie]=Q,te[ve]=se,ve=ie;else break e}}function s(te){return te.length===0?null:te[0]}function a(te){if(te.length===0)return null;var Q=te[0],ve=te.pop();if(ve!==Q){te[0]=ve;e:for(var ie=0,se=te.length,X=se>>>1;ie<X;){var K=2*(ie+1)-1,ee=te[K],Z=K+1,re=te[Z];if(0>o(ee,ve))Z<se&&0>o(re,ee)?(te[ie]=re,te[Z]=ve,ie=Z):(te[ie]=ee,te[K]=ve,ie=K);else if(Z<se&&0>o(re,ve))te[ie]=re,te[Z]=ve,ie=Z;else break e}}return Q}function o(te,Q){var ve=te.sortIndex-Q.sortIndex;return ve!==0?ve:te.id-Q.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var u=Date,p=u.now();r.unstable_now=function(){return u.now()-p}}var m=[],b=[],x=1,_=null,S=3,y=!1,E=!1,k=!1,N=!1,C=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function V(te){for(var Q=s(b);Q!==null;){if(Q.callback===null)a(b);else if(Q.startTime<=te)a(b),Q.sortIndex=Q.expirationTime,e(m,Q);else break;Q=s(b)}}function q(te){if(k=!1,V(te),!E)if(s(m)!==null)E=!0,G||(G=!0,R());else{var Q=s(b);Q!==null&&me(q,Q.startTime-te)}}var G=!1,O=-1,j=5,I=-1;function $(){return N?!0:!(r.unstable_now()-I<j)}function H(){if(N=!1,G){var te=r.unstable_now();I=te;var Q=!0;try{e:{E=!1,k&&(k=!1,L(O),O=-1),y=!0;var ve=S;try{t:{for(V(te),_=s(m);_!==null&&!(_.expirationTime>te&&$());){var ie=_.callback;if(typeof ie=="function"){_.callback=null,S=_.priorityLevel;var se=ie(_.expirationTime<=te);if(te=r.unstable_now(),typeof se=="function"){_.callback=se,V(te),Q=!0;break t}_===s(m)&&a(m),V(te)}else a(m);_=s(m)}if(_!==null)Q=!0;else{var X=s(b);X!==null&&me(q,X.startTime-te),Q=!1}}break e}finally{_=null,S=ve,y=!1}Q=void 0}}finally{Q?R():G=!1}}}var R;if(typeof P=="function")R=function(){P(H)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,D=U.port2;U.port1.onmessage=H,R=function(){D.postMessage(null)}}else R=function(){C(H,0)};function me(te,Q){O=C(function(){te(r.unstable_now())},Q)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(te){te.callback=null},r.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<te?Math.floor(1e3/te):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(te){switch(S){case 1:case 2:case 3:var Q=3;break;default:Q=S}var ve=S;S=Q;try{return te()}finally{S=ve}},r.unstable_requestPaint=function(){N=!0},r.unstable_runWithPriority=function(te,Q){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ve=S;S=te;try{return Q()}finally{S=ve}},r.unstable_scheduleCallback=function(te,Q,ve){var ie=r.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?ie+ve:ie):ve=ie,te){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=ve+se,te={id:x++,callback:Q,priorityLevel:te,startTime:ve,expirationTime:se,sortIndex:-1},ve>ie?(te.sortIndex=ve,e(b,te),s(m)===null&&te===s(b)&&(k?(L(O),O=-1):k=!0,me(q,ve-ie))):(te.sortIndex=se,e(m,te),E||y||(E=!0,G||(G=!0,R()))),te},r.unstable_shouldYield=$,r.unstable_wrapCallback=function(te){var Q=S;return function(){var ve=S;S=Q;try{return te.apply(this,arguments)}finally{S=ve}}}})(zf)),zf}var Hb;function Cw(){return Hb||(Hb=1,Pf.exports=Nw()),Pf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qb;function jw(){if(qb)return Ol;qb=1;var r=Cw(),e=Wv(),s=Sw();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,i=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(i=n.return),t=n.return;while(t)}return n.tag===3?i:null}function u(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function m(t){if(c(t)!==t)throw Error(a(188))}function b(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var i=t,l=n;;){var f=i.return;if(f===null)break;var g=f.alternate;if(g===null){if(l=f.return,l!==null){i=l;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===i)return m(f),t;if(g===l)return m(f),n;g=g.sibling}throw Error(a(188))}if(i.return!==l.return)i=f,l=g;else{for(var w=!1,z=f.child;z;){if(z===i){w=!0,i=f,l=g;break}if(z===l){w=!0,l=f,i=g;break}z=z.sibling}if(!w){for(z=g.child;z;){if(z===i){w=!0,i=g,l=f;break}if(z===l){w=!0,l=g,i=f;break}z=z.sibling}if(!w)throw Error(a(189))}}if(i.alternate!==l)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?t:n}function x(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=x(t),n!==null)return n;t=t.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),P=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function R(t){return t===null||typeof t!="object"?null:(t=H&&t[H]||t["@@iterator"],typeof t=="function"?t:null)}var U=Symbol.for("react.client.reference");function D(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===U?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case C:return"Profiler";case N:return"StrictMode";case q:return"Suspense";case G:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case E:return"Portal";case P:return t.displayName||"Context";case L:return(t._context.displayName||"Context")+".Consumer";case V:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:D(t.type)||"Memo";case j:n=t._payload,t=t._init;try{return D(t(n))}catch{}}return null}var me=Array.isArray,te=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},ie=[],se=-1;function X(t){return{current:t}}function K(t){0>se||(t.current=ie[se],ie[se]=null,se--)}function ee(t,n){se++,ie[se]=t.current,t.current=n}var Z=X(null),re=X(null),we=X(null),Re=X(null);function Ee(t,n){switch(ee(we,n),ee(re,t),ee(Z,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?ub(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=ub(n),t=db(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(Z),ee(Z,t)}function Pe(){K(Z),K(re),K(we)}function De(t){t.memoizedState!==null&&ee(Re,t);var n=Z.current,i=db(n,t.type);n!==i&&(ee(re,t),ee(Z,i))}function Fe(t){re.current===t&&(K(Z),K(re)),Re.current===t&&(K(Re),Nl._currentValue=ve)}var gt,Qe;function A(t){if(gt===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);gt=n&&n[1]||"",Qe=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gt+t+Qe}var ye=!1;function pe(t,n){if(!t||ye)return"";ye=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(be){var he=be}Reflect.construct(t,[],Se)}else{try{Se.call()}catch(be){he=be}t.call(Se.prototype)}}else{try{throw Error()}catch(be){he=be}(Se=t())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(be){if(be&&he&&typeof be.stack=="string")return[be.stack,he.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=l.DetermineComponentFrameRoot(),w=g[0],z=g[1];if(w&&z){var W=w.split(`
`),ue=z.split(`
`);for(f=l=0;l<W.length&&!W[l].includes("DetermineComponentFrameRoot");)l++;for(;f<ue.length&&!ue[f].includes("DetermineComponentFrameRoot");)f++;if(l===W.length||f===ue.length)for(l=W.length-1,f=ue.length-1;1<=l&&0<=f&&W[l]!==ue[f];)f--;for(;1<=l&&0<=f;l--,f--)if(W[l]!==ue[f]){if(l!==1||f!==1)do if(l--,f--,0>f||W[l]!==ue[f]){var _e=`
`+W[l].replace(" at new "," at ");return t.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",t.displayName)),_e}while(1<=l&&0<=f);break}}}finally{ye=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?A(i):""}function M(t,n){switch(t.tag){case 26:case 27:case 5:return A(t.type);case 16:return A("Lazy");case 13:return t.child!==n&&n!==null?A("Suspense Fallback"):A("Suspense");case 19:return A("SuspenseList");case 0:case 15:return pe(t.type,!1);case 11:return pe(t.type.render,!1);case 1:return pe(t.type,!0);case 31:return A("Activity");default:return""}}function B(t){try{var n="",i=null;do n+=M(t,i),i=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Y=Object.prototype.hasOwnProperty,de=r.unstable_scheduleCallback,xe=r.unstable_cancelCallback,oe=r.unstable_shouldYield,Te=r.unstable_requestPaint,Ne=r.unstable_now,Ae=r.unstable_getCurrentPriorityLevel,Le=r.unstable_ImmediatePriority,Ze=r.unstable_UserBlockingPriority,Ge=r.unstable_NormalPriority,nn=r.unstable_LowPriority,Gn=r.unstable_IdlePriority,Vt=r.log,us=r.unstable_setDisableYieldValue,it=null,tt=null;function sn(t){if(typeof Vt=="function"&&us(t),tt&&typeof tt.setStrictMode=="function")try{tt.setStrictMode(it,t)}catch{}}var dt=Math.clz32?Math.clz32:Lr,tr=Math.log,nr=Math.LN2;function Lr(t){return t>>>=0,t===0?32:31-(tr(t)/nr|0)|0}var kn=256,Kn=262144,xt=4194304;function cn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Jn(t,n,i){var l=t.pendingLanes;if(l===0)return 0;var f=0,g=t.suspendedLanes,w=t.pingedLanes;t=t.warmLanes;var z=l&134217727;return z!==0?(l=z&~g,l!==0?f=cn(l):(w&=z,w!==0?f=cn(w):i||(i=z&~t,i!==0&&(f=cn(i))))):(z=l&~g,z!==0?f=cn(z):w!==0?f=cn(w):i||(i=l&~t,i!==0&&(f=cn(i)))),f===0?0:n!==0&&n!==f&&(n&g)===0&&(g=f&-f,i=n&-n,g>=i||g===32&&(i&4194048)!==0)?n:f}function Sn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function vi(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _i(){var t=xt;return xt<<=1,(xt&62914560)===0&&(xt=4194304),t}function Yn(t){for(var n=[],i=0;31>i;i++)n.push(t);return n}function sr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Io(t,n,i,l,f,g){var w=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var z=t.entanglements,W=t.expirationTimes,ue=t.hiddenUpdates;for(i=w&~i;0<i;){var _e=31-dt(i),Se=1<<_e;z[_e]=0,W[_e]=-1;var he=ue[_e];if(he!==null)for(ue[_e]=null,_e=0;_e<he.length;_e++){var be=he[_e];be!==null&&(be.lane&=-536870913)}i&=~Se}l!==0&&fe(t,l,0),g!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=g&~(w&~n))}function fe(t,n,i){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-dt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|i&261930}function Oe(t,n){var i=t.entangledLanes|=n;for(t=t.entanglements;i;){var l=31-dt(i),f=1<<l;f&n|t[l]&n&&(t[l]|=n),i&=~f}}function ze(t,n){var i=n&-n;return i=(i&42)!==0?1:Ke(i),(i&(t.suspendedLanes|n))!==0?0:i}function Ke(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function et(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function On(){var t=Q.p;return t!==0?t:(t=window.event,t===void 0?32:Ib(t.type))}function Lt(t,n){var i=Q.p;try{return Q.p=t,n()}finally{Q.p=i}}var Qt=Math.random().toString(36).slice(2),Ct="__reactFiber$"+Qt,rn="__reactProps$"+Qt,Cs="__reactContainer$"+Qt,xi="__reactEvents$"+Qt,$d="__reactListeners$"+Qt,Sc="__reactHandles$"+Qt,Ec="__reactResources$"+Qt,js="__reactMarker$"+Qt;function wi(t){delete t[Ct],delete t[rn],delete t[xi],delete t[$d],delete t[Sc]}function Rs(t){var n=t[Ct];if(n)return n;for(var i=t.parentNode;i;){if(n=i[Cs]||i[Ct]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(t=yb(t);t!==null;){if(i=t[Ct])return i;t=yb(t)}return n}t=i,i=t.parentNode}return null}function Wn(t){if(t=t[Ct]||t[Cs]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function In(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ds(t){var n=t[Ec];return n||(n=t[Ec]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ht(t){t[js]=!0}var Lo=new Set,Uo={};function Os(t,n){Is(t,n),Is(t+"Capture",n)}function Is(t,n){for(Uo[t]=n,t=0;t<n.length;t++)Lo.add(n[t])}var Mo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Po={},zo={};function Ac(t){return Y.call(zo,t)?!0:Y.call(Po,t)?!1:Mo.test(t)?zo[t]=!0:(Po[t]=!0,!1)}function ki(t,n,i){if(Ac(n))if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+i)}}function Ln(t,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+i)}}function qt(t,n,i,l){if(l===null)t.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(n,i,""+l)}}function an(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ur(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Bo(t,n,i){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,g=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return f.call(this)},set:function(w){i=""+w,g.call(this,w)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return i},setValue:function(w){i=""+w},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function bt(t){if(!t._valueTracker){var n=Ur(t)?"checked":"value";t._valueTracker=Bo(t,n,""+t[n])}}function Aa(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var i=n.getValue(),l="";return t&&(l=Ur(t)?t.checked?"true":"false":t.value),t=l,t!==i?(n.setValue(t),!0):!1}function Ls(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ta=/[\n"\\]/g;function En(t){return t.replace(Ta,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Si(t,n,i,l,f,g,w,z){t.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.type=w:t.removeAttribute("type"),n!=null?w==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+an(n)):t.value!==""+an(n)&&(t.value=""+an(n)):w!=="submit"&&w!=="reset"||t.removeAttribute("value"),n!=null?$o(t,w,an(n)):i!=null?$o(t,w,an(i)):l!=null&&t.removeAttribute("value"),f==null&&g!=null&&(t.defaultChecked=!!g),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?t.name=""+an(z):t.removeAttribute("name")}function Tc(t,n,i,l,f,g,w,z){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),n!=null||i!=null){if(!(g!=="submit"&&g!=="reset"||n!=null)){bt(t);return}i=i!=null?""+an(i):"",n=n!=null?""+an(n):i,z||n===t.value||(t.value=n),t.defaultValue=n}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=z?t.checked:!!l,t.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(t.name=w),bt(t)}function $o(t,n,i){n==="number"&&Ls(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function Mr(t,n,i,l){if(t=t.options,n){n={};for(var f=0;f<i.length;f++)n["$"+i[f]]=!0;for(i=0;i<t.length;i++)f=n.hasOwnProperty("$"+t[i].value),t[i].selected!==f&&(t[i].selected=f),f&&l&&(t[i].defaultSelected=!0)}else{for(i=""+an(i),n=null,f=0;f<t.length;f++){if(t[f].value===i){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}n!==null||t[f].disabled||(n=t[f])}n!==null&&(n.selected=!0)}}function Nc(t,n,i){if(n!=null&&(n=""+an(n),n!==t.value&&(t.value=n),i==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=i!=null?""+an(i):""}function Pr(t,n,i,l){if(n==null){if(l!=null){if(i!=null)throw Error(a(92));if(me(l)){if(1<l.length)throw Error(a(93));l=l[0]}i=l}i==null&&(i=""),n=i}i=an(n),t.defaultValue=i,l=t.textContent,l===i&&l!==""&&l!==null&&(t.value=l),bt(t)}function An(t,n){if(n){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=n;return}}t.textContent=n}var Cc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fo(t,n,i){var l=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,i):typeof i!="number"||i===0||Cc.has(n)?n==="float"?t.cssFloat=i:t[n]=(""+i).trim():t[n]=i+"px"}function Vo(t,n,i){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,i!=null){for(var l in i)!i.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in n)l=n[f],n.hasOwnProperty(f)&&i[f]!==l&&Fo(t,f,l)}else for(var g in n)n.hasOwnProperty(g)&&Fo(t,g,n[g])}function Ei(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ai(t){return zr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ds(){}var Ho=null;function Xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Br=null,Us=null;function Na(t){var n=Wn(t);if(n&&(t=n.stateNode)){var i=t[rn]||null;e:switch(t=n.stateNode,n.type){case"input":if(Si(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+En(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var l=i[n];if(l!==t&&l.form===t.form){var f=l[rn]||null;if(!f)throw Error(a(90));Si(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<i.length;n++)l=i[n],l.form===t.form&&Aa(l)}break e;case"textarea":Nc(t,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&Mr(t,!!i.multiple,n,!1)}}}var Ti=!1;function $r(t,n,i){if(Ti)return t(n,i);Ti=!0;try{var l=t(n);return l}finally{if(Ti=!1,(Br!==null||Us!==null)&&(ku(),Br&&(n=Br,t=Us,Us=Br=null,Na(n),t)))for(n=0;n<t.length;n++)Na(t[n])}}function hs(t,n){var i=t.stateNode;if(i===null)return null;var l=i[rn]||null;if(l===null)return null;i=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(a(231,n,typeof i));return i}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ca=!1;if(Zn)try{var Et={};Object.defineProperty(Et,"passive",{get:function(){Ca=!0}}),window.addEventListener("test",Et,Et),window.removeEventListener("test",Et,Et)}catch{Ca=!1}var Ms=null,qo=null,ja=null;function Go(){if(ja)return ja;var t,n=qo,i=n.length,l,f="value"in Ms?Ms.value:Ms.textContent,g=f.length;for(t=0;t<i&&n[t]===f[t];t++);var w=i-t;for(l=1;l<=w&&n[i-l]===f[g-l];l++);return ja=f.slice(t,1<l?1-l:void 0)}function Ra(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function rr(){return!0}function fs(){return!1}function un(t){function n(i,l,f,g,w){this._reactName=i,this._targetInst=f,this.type=l,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var z in t)t.hasOwnProperty(z)&&(i=t[z],this[z]=i?i(g):g[z]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?rr:fs,this.isPropagationStopped=fs,this}return _(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),n}var ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ps=un(ar),Fr=_({},ar,{view:0,detail:0}),Ko=un(Fr),Vr,Ni,zs,Ci=_({},Fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zs&&(zs&&t.type==="mousemove"?(Vr=t.screenX-zs.screenX,Ni=t.screenY-zs.screenY):Ni=Vr=0,zs=t),Vr)},movementY:function(t){return"movementY"in t?t.movementY:Ni}}),Jo=un(Ci),Da=_({},Ci,{dataTransfer:0}),Rc=un(Da),Dc=_({},Fr,{relatedTarget:0}),Oa=un(Dc),Yo=_({},ar,{animationName:0,elapsedTime:0,pseudoElement:0}),Oc=un(Yo),ji=_({},ar,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ic=un(ji),Lc=_({},ar,{data:0}),Bs=un(Lc),Uc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zc(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Pc[t])?!!n[t]:!1}function bn(){return zc}var Bc=_({},Fr,{key:function(t){if(t.key){var n=Uc[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ra(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bn,charCode:function(t){return t.type==="keypress"?Ra(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ra(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$c=un(Bc),Hr=_({},Ci,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),d=un(Hr),v=_({},Fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bn}),T=un(v),F=_({},ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),le=un(F),ge=_({},Ci,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ce=un(ge),Ye=_({},ar,{newState:0,oldState:0}),Bt=un(Ye),yt=[9,13,27,32],Ut=Zn&&"CompositionEvent"in window,yn=null;Zn&&"documentMode"in document&&(yn=document.documentMode);var ir=Zn&&"TextEvent"in window&&!yn,ps=Zn&&(!Ut||yn&&8<yn&&11>=yn),ms=" ",Ia=!1;function Ri(t,n){switch(t){case"keyup":return yt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Di=!1;function J_(t,n){switch(t){case"compositionend":return _0(n);case"keypress":return n.which!==32?null:(Ia=!0,ms);case"textInput":return t=n.data,t===ms&&Ia?null:t;default:return null}}function Y_(t,n){if(Di)return t==="compositionend"||!Ut&&Ri(t,n)?(t=Go(),ja=qo=Ms=null,Di=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ps&&n.locale!=="ko"?null:n.data;default:return null}}var W_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function x0(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!W_[t.type]:n==="textarea"}function w0(t,n,i,l){Br?Us?Us.push(l):Us=[l]:Br=l,n=ju(n,"onChange"),0<n.length&&(i=new Ps("onChange","change",null,i,l),t.push({event:i,listeners:n}))}var Wo=null,Xo=null;function X_(t){rb(t,0)}function Fc(t){var n=In(t);if(Aa(n))return t}function k0(t,n){if(t==="change")return n}var S0=!1;if(Zn){var Fd;if(Zn){var Vd="oninput"in document;if(!Vd){var E0=document.createElement("div");E0.setAttribute("oninput","return;"),Vd=typeof E0.oninput=="function"}Fd=Vd}else Fd=!1;S0=Fd&&(!document.documentMode||9<document.documentMode)}function A0(){Wo&&(Wo.detachEvent("onpropertychange",T0),Xo=Wo=null)}function T0(t){if(t.propertyName==="value"&&Fc(Xo)){var n=[];w0(n,Xo,t,Xn(t)),$r(X_,n)}}function Z_(t,n,i){t==="focusin"?(A0(),Wo=n,Xo=i,Wo.attachEvent("onpropertychange",T0)):t==="focusout"&&A0()}function Q_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fc(Xo)}function ex(t,n){if(t==="click")return Fc(n)}function tx(t,n){if(t==="input"||t==="change")return Fc(n)}function nx(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Un=typeof Object.is=="function"?Object.is:nx;function Zo(t,n){if(Un(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var i=Object.keys(t),l=Object.keys(n);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var f=i[l];if(!Y.call(n,f)||!Un(t[f],n[f]))return!1}return!0}function N0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function C0(t,n){var i=N0(t);t=0;for(var l;i;){if(i.nodeType===3){if(l=t+i.textContent.length,t<=n&&l>=n)return{node:i,offset:n-t};t=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=N0(i)}}function j0(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?j0(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function R0(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ls(t.document);n instanceof t.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)t=n.contentWindow;else break;n=Ls(t.document)}return n}function Hd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var sx=Zn&&"documentMode"in document&&11>=document.documentMode,Oi=null,qd=null,Qo=null,Gd=!1;function D0(t,n,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Gd||Oi==null||Oi!==Ls(l)||(l=Oi,"selectionStart"in l&&Hd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Qo&&Zo(Qo,l)||(Qo=l,l=ju(qd,"onSelect"),0<l.length&&(n=new Ps("onSelect","select",null,n,i),t.push({event:n,listeners:l}),n.target=Oi)))}function La(t,n){var i={};return i[t.toLowerCase()]=n.toLowerCase(),i["Webkit"+t]="webkit"+n,i["Moz"+t]="moz"+n,i}var Ii={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionrun:La("Transition","TransitionRun"),transitionstart:La("Transition","TransitionStart"),transitioncancel:La("Transition","TransitionCancel"),transitionend:La("Transition","TransitionEnd")},Kd={},O0={};Zn&&(O0=document.createElement("div").style,"AnimationEvent"in window||(delete Ii.animationend.animation,delete Ii.animationiteration.animation,delete Ii.animationstart.animation),"TransitionEvent"in window||delete Ii.transitionend.transition);function Ua(t){if(Kd[t])return Kd[t];if(!Ii[t])return t;var n=Ii[t],i;for(i in n)if(n.hasOwnProperty(i)&&i in O0)return Kd[t]=n[i];return t}var I0=Ua("animationend"),L0=Ua("animationiteration"),U0=Ua("animationstart"),rx=Ua("transitionrun"),ax=Ua("transitionstart"),ix=Ua("transitioncancel"),M0=Ua("transitionend"),P0=new Map,Jd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jd.push("scrollEnd");function gs(t,n){P0.set(t,n),Os(n,[t])}var Vc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Qn=[],Li=0,Yd=0;function Hc(){for(var t=Li,n=Yd=Li=0;n<t;){var i=Qn[n];Qn[n++]=null;var l=Qn[n];Qn[n++]=null;var f=Qn[n];Qn[n++]=null;var g=Qn[n];if(Qn[n++]=null,l!==null&&f!==null){var w=l.pending;w===null?f.next=f:(f.next=w.next,w.next=f),l.pending=f}g!==0&&z0(i,f,g)}}function qc(t,n,i,l){Qn[Li++]=t,Qn[Li++]=n,Qn[Li++]=i,Qn[Li++]=l,Yd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Wd(t,n,i,l){return qc(t,n,i,l),Gc(t)}function Ma(t,n){return qc(t,null,null,n),Gc(t)}function z0(t,n,i){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i);for(var f=!1,g=t.return;g!==null;)g.childLanes|=i,l=g.alternate,l!==null&&(l.childLanes|=i),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(f=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,f&&n!==null&&(f=31-dt(i),t=g.hiddenUpdates,l=t[f],l===null?t[f]=[n]:l.push(n),n.lane=i|536870912),g):null}function Gc(t){if(50<xl)throw xl=0,af=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ui={};function ox(t,n,i,l){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(t,n,i,l){return new ox(t,n,i,l)}function Xd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function or(t,n){var i=t.alternate;return i===null?(i=Mn(t.tag,n,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=n,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,n=t.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function B0(t,n){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,n=i.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Kc(t,n,i,l,f,g){var w=0;if(l=t,typeof t=="function")Xd(t)&&(w=1);else if(typeof t=="string")w=hw(t,i,Z.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Mn(31,i,n,f),t.elementType=I,t.lanes=g,t;case k:return Pa(i.children,f,g,n);case N:w=8,f|=24;break;case C:return t=Mn(12,i,n,f|2),t.elementType=C,t.lanes=g,t;case q:return t=Mn(13,i,n,f),t.elementType=q,t.lanes=g,t;case G:return t=Mn(19,i,n,f),t.elementType=G,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P:w=10;break e;case L:w=9;break e;case V:w=11;break e;case O:w=14;break e;case j:w=16,l=null;break e}w=29,i=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Mn(w,i,n,f),n.elementType=t,n.type=l,n.lanes=g,n}function Pa(t,n,i,l){return t=Mn(7,t,l,n),t.lanes=i,t}function Zd(t,n,i){return t=Mn(6,t,null,n),t.lanes=i,t}function $0(t){var n=Mn(18,null,null,0);return n.stateNode=t,n}function Qd(t,n,i){return n=Mn(4,t.children!==null?t.children:[],t.key,n),n.lanes=i,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var F0=new WeakMap;function es(t,n){if(typeof t=="object"&&t!==null){var i=F0.get(t);return i!==void 0?i:(n={value:t,source:n,stack:B(n)},F0.set(t,n),n)}return{value:t,source:n,stack:B(n)}}var Mi=[],Pi=0,Jc=null,el=0,ts=[],ns=0,qr=null,$s=1,Fs="";function lr(t,n){Mi[Pi++]=el,Mi[Pi++]=Jc,Jc=t,el=n}function V0(t,n,i){ts[ns++]=$s,ts[ns++]=Fs,ts[ns++]=qr,qr=t;var l=$s;t=Fs;var f=32-dt(l)-1;l&=~(1<<f),i+=1;var g=32-dt(n)+f;if(30<g){var w=f-f%5;g=(l&(1<<w)-1).toString(32),l>>=w,f-=w,$s=1<<32-dt(n)+f|i<<f|l,Fs=g+t}else $s=1<<g|i<<f|l,Fs=t}function eh(t){t.return!==null&&(lr(t,1),V0(t,1,0))}function th(t){for(;t===Jc;)Jc=Mi[--Pi],Mi[Pi]=null,el=Mi[--Pi],Mi[Pi]=null;for(;t===qr;)qr=ts[--ns],ts[ns]=null,Fs=ts[--ns],ts[ns]=null,$s=ts[--ns],ts[ns]=null}function H0(t,n){ts[ns++]=$s,ts[ns++]=Fs,ts[ns++]=qr,$s=n.id,Fs=n.overflow,qr=t}var dn=null,jt=null,ot=!1,Gr=null,ss=!1,nh=Error(a(519));function Kr(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tl(es(n,t)),nh}function q0(t){var n=t.stateNode,i=t.type,l=t.memoizedProps;switch(n[Ct]=t,n[rn]=l,i){case"dialog":st("cancel",n),st("close",n);break;case"iframe":case"object":case"embed":st("load",n);break;case"video":case"audio":for(i=0;i<kl.length;i++)st(kl[i],n);break;case"source":st("error",n);break;case"img":case"image":case"link":st("error",n),st("load",n);break;case"details":st("toggle",n);break;case"input":st("invalid",n),Tc(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":st("invalid",n);break;case"textarea":st("invalid",n),Pr(n,l.value,l.defaultValue,l.children)}i=l.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||l.suppressHydrationWarning===!0||lb(n.textContent,i)?(l.popover!=null&&(st("beforetoggle",n),st("toggle",n)),l.onScroll!=null&&st("scroll",n),l.onScrollEnd!=null&&st("scrollend",n),l.onClick!=null&&(n.onclick=ds),n=!0):n=!1,n||Kr(t,!0)}function G0(t){for(dn=t.return;dn;)switch(dn.tag){case 5:case 31:case 13:ss=!1;return;case 27:case 3:ss=!0;return;default:dn=dn.return}}function zi(t){if(t!==dn)return!1;if(!ot)return G0(t),ot=!0,!1;var n=t.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||xf(t.type,t.memoizedProps)),i=!i),i&&jt&&Kr(t),G0(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));jt=bb(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));jt=bb(t)}else n===27?(n=jt,oa(t.type)?(t=Af,Af=null,jt=t):jt=n):jt=dn?as(t.stateNode.nextSibling):null;return!0}function za(){jt=dn=null,ot=!1}function sh(){var t=Gr;return t!==null&&(jn===null?jn=t:jn.push.apply(jn,t),Gr=null),t}function tl(t){Gr===null?Gr=[t]:Gr.push(t)}var rh=X(null),Ba=null,cr=null;function Jr(t,n,i){ee(rh,n._currentValue),n._currentValue=i}function ur(t){t._currentValue=rh.current,K(rh)}function ah(t,n,i){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===i)break;t=t.return}}function ih(t,n,i,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var g=f.dependencies;if(g!==null){var w=f.child;g=g.firstContext;e:for(;g!==null;){var z=g;g=f;for(var W=0;W<n.length;W++)if(z.context===n[W]){g.lanes|=i,z=g.alternate,z!==null&&(z.lanes|=i),ah(g.return,i,t),l||(w=null);break e}g=z.next}}else if(f.tag===18){if(w=f.return,w===null)throw Error(a(341));w.lanes|=i,g=w.alternate,g!==null&&(g.lanes|=i),ah(w,i,t),w=null}else w=f.child;if(w!==null)w.return=f;else for(w=f;w!==null;){if(w===t){w=null;break}if(f=w.sibling,f!==null){f.return=w.return,w=f;break}w=w.return}f=w}}function Bi(t,n,i,l){t=null;for(var f=n,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var w=f.alternate;if(w===null)throw Error(a(387));if(w=w.memoizedProps,w!==null){var z=f.type;Un(f.pendingProps.value,w.value)||(t!==null?t.push(z):t=[z])}}else if(f===Re.current){if(w=f.alternate,w===null)throw Error(a(387));w.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}f=f.return}t!==null&&ih(n,t,i,l),n.flags|=262144}function Yc(t){for(t=t.firstContext;t!==null;){if(!Un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function $a(t){Ba=t,cr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function hn(t){return K0(Ba,t)}function Wc(t,n){return Ba===null&&$a(t),K0(t,n)}function K0(t,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},cr===null){if(t===null)throw Error(a(308));cr=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else cr=cr.next=n;return i}var lx=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(i,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(i){return i()})}},cx=r.unstable_scheduleCallback,ux=r.unstable_NormalPriority,Gt={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oh(){return{controller:new lx,data:new Map,refCount:0}}function nl(t){t.refCount--,t.refCount===0&&cx(ux,function(){t.controller.abort()})}var sl=null,lh=0,$i=0,Fi=null;function dx(t,n){if(sl===null){var i=sl=[];lh=0,$i=hf(),Fi={status:"pending",value:void 0,then:function(l){i.push(l)}}}return lh++,n.then(J0,J0),n}function J0(){if(--lh===0&&sl!==null){Fi!==null&&(Fi.status="fulfilled");var t=sl;sl=null,$i=0,Fi=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function hx(t,n){var i=[],l={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var f=0;f<i.length;f++)(0,i[f])(n)},function(f){for(l.status="rejected",l.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),l}var Y0=te.S;te.S=function(t,n){Dg=Ne(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&dx(t,n),Y0!==null&&Y0(t,n)};var Fa=X(null);function ch(){var t=Fa.current;return t!==null?t:At.pooledCache}function Xc(t,n){n===null?ee(Fa,Fa.current):ee(Fa,n.pool)}function W0(){var t=ch();return t===null?null:{parent:Gt._currentValue,pool:t}}var Vi=Error(a(460)),uh=Error(a(474)),Zc=Error(a(542)),Qc={then:function(){}};function X0(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Z0(t,n,i){switch(i=t[i],i===void 0?t.push(n):i!==n&&(n.then(ds,ds),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,em(t),t;default:if(typeof n.status=="string")n.then(ds,ds);else{if(t=At,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=l}},function(l){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,em(t),t}throw Ha=n,Vi}}function Va(t){try{var n=t._init;return n(t._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Ha=i,Vi):i}}var Ha=null;function Q0(){if(Ha===null)throw Error(a(459));var t=Ha;return Ha=null,t}function em(t){if(t===Vi||t===Zc)throw Error(a(483))}var Hi=null,rl=0;function eu(t){var n=rl;return rl+=1,Hi===null&&(Hi=[]),Z0(Hi,t,n)}function al(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function tu(t,n){throw n.$$typeof===S?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function tm(t){function n(ae,ne){if(t){var ce=ae.deletions;ce===null?(ae.deletions=[ne],ae.flags|=16):ce.push(ne)}}function i(ae,ne){if(!t)return null;for(;ne!==null;)n(ae,ne),ne=ne.sibling;return null}function l(ae){for(var ne=new Map;ae!==null;)ae.key!==null?ne.set(ae.key,ae):ne.set(ae.index,ae),ae=ae.sibling;return ne}function f(ae,ne){return ae=or(ae,ne),ae.index=0,ae.sibling=null,ae}function g(ae,ne,ce){return ae.index=ce,t?(ce=ae.alternate,ce!==null?(ce=ce.index,ce<ne?(ae.flags|=67108866,ne):ce):(ae.flags|=67108866,ne)):(ae.flags|=1048576,ne)}function w(ae){return t&&ae.alternate===null&&(ae.flags|=67108866),ae}function z(ae,ne,ce,ke){return ne===null||ne.tag!==6?(ne=Zd(ce,ae.mode,ke),ne.return=ae,ne):(ne=f(ne,ce),ne.return=ae,ne)}function W(ae,ne,ce,ke){var Be=ce.type;return Be===k?_e(ae,ne,ce.props.children,ke,ce.key):ne!==null&&(ne.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===j&&Va(Be)===ne.type)?(ne=f(ne,ce.props),al(ne,ce),ne.return=ae,ne):(ne=Kc(ce.type,ce.key,ce.props,null,ae.mode,ke),al(ne,ce),ne.return=ae,ne)}function ue(ae,ne,ce,ke){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==ce.containerInfo||ne.stateNode.implementation!==ce.implementation?(ne=Qd(ce,ae.mode,ke),ne.return=ae,ne):(ne=f(ne,ce.children||[]),ne.return=ae,ne)}function _e(ae,ne,ce,ke,Be){return ne===null||ne.tag!==7?(ne=Pa(ce,ae.mode,ke,Be),ne.return=ae,ne):(ne=f(ne,ce),ne.return=ae,ne)}function Se(ae,ne,ce){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ne=Zd(""+ne,ae.mode,ce),ne.return=ae,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case y:return ce=Kc(ne.type,ne.key,ne.props,null,ae.mode,ce),al(ce,ne),ce.return=ae,ce;case E:return ne=Qd(ne,ae.mode,ce),ne.return=ae,ne;case j:return ne=Va(ne),Se(ae,ne,ce)}if(me(ne)||R(ne))return ne=Pa(ne,ae.mode,ce,null),ne.return=ae,ne;if(typeof ne.then=="function")return Se(ae,eu(ne),ce);if(ne.$$typeof===P)return Se(ae,Wc(ae,ne),ce);tu(ae,ne)}return null}function he(ae,ne,ce,ke){var Be=ne!==null?ne.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Be!==null?null:z(ae,ne,""+ce,ke);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case y:return ce.key===Be?W(ae,ne,ce,ke):null;case E:return ce.key===Be?ue(ae,ne,ce,ke):null;case j:return ce=Va(ce),he(ae,ne,ce,ke)}if(me(ce)||R(ce))return Be!==null?null:_e(ae,ne,ce,ke,null);if(typeof ce.then=="function")return he(ae,ne,eu(ce),ke);if(ce.$$typeof===P)return he(ae,ne,Wc(ae,ce),ke);tu(ae,ce)}return null}function be(ae,ne,ce,ke,Be){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return ae=ae.get(ce)||null,z(ne,ae,""+ke,Be);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case y:return ae=ae.get(ke.key===null?ce:ke.key)||null,W(ne,ae,ke,Be);case E:return ae=ae.get(ke.key===null?ce:ke.key)||null,ue(ne,ae,ke,Be);case j:return ke=Va(ke),be(ae,ne,ce,ke,Be)}if(me(ke)||R(ke))return ae=ae.get(ce)||null,_e(ne,ae,ke,Be,null);if(typeof ke.then=="function")return be(ae,ne,ce,eu(ke),Be);if(ke.$$typeof===P)return be(ae,ne,ce,Wc(ne,ke),Be);tu(ne,ke)}return null}function Ie(ae,ne,ce,ke){for(var Be=null,ht=null,Ue=ne,Xe=ne=0,at=null;Ue!==null&&Xe<ce.length;Xe++){Ue.index>Xe?(at=Ue,Ue=null):at=Ue.sibling;var ft=he(ae,Ue,ce[Xe],ke);if(ft===null){Ue===null&&(Ue=at);break}t&&Ue&&ft.alternate===null&&n(ae,Ue),ne=g(ft,ne,Xe),ht===null?Be=ft:ht.sibling=ft,ht=ft,Ue=at}if(Xe===ce.length)return i(ae,Ue),ot&&lr(ae,Xe),Be;if(Ue===null){for(;Xe<ce.length;Xe++)Ue=Se(ae,ce[Xe],ke),Ue!==null&&(ne=g(Ue,ne,Xe),ht===null?Be=Ue:ht.sibling=Ue,ht=Ue);return ot&&lr(ae,Xe),Be}for(Ue=l(Ue);Xe<ce.length;Xe++)at=be(Ue,ae,Xe,ce[Xe],ke),at!==null&&(t&&at.alternate!==null&&Ue.delete(at.key===null?Xe:at.key),ne=g(at,ne,Xe),ht===null?Be=at:ht.sibling=at,ht=at);return t&&Ue.forEach(function(ha){return n(ae,ha)}),ot&&lr(ae,Xe),Be}function $e(ae,ne,ce,ke){if(ce==null)throw Error(a(151));for(var Be=null,ht=null,Ue=ne,Xe=ne=0,at=null,ft=ce.next();Ue!==null&&!ft.done;Xe++,ft=ce.next()){Ue.index>Xe?(at=Ue,Ue=null):at=Ue.sibling;var ha=he(ae,Ue,ft.value,ke);if(ha===null){Ue===null&&(Ue=at);break}t&&Ue&&ha.alternate===null&&n(ae,Ue),ne=g(ha,ne,Xe),ht===null?Be=ha:ht.sibling=ha,ht=ha,Ue=at}if(ft.done)return i(ae,Ue),ot&&lr(ae,Xe),Be;if(Ue===null){for(;!ft.done;Xe++,ft=ce.next())ft=Se(ae,ft.value,ke),ft!==null&&(ne=g(ft,ne,Xe),ht===null?Be=ft:ht.sibling=ft,ht=ft);return ot&&lr(ae,Xe),Be}for(Ue=l(Ue);!ft.done;Xe++,ft=ce.next())ft=be(Ue,ae,Xe,ft.value,ke),ft!==null&&(t&&ft.alternate!==null&&Ue.delete(ft.key===null?Xe:ft.key),ne=g(ft,ne,Xe),ht===null?Be=ft:ht.sibling=ft,ht=ft);return t&&Ue.forEach(function(kw){return n(ae,kw)}),ot&&lr(ae,Xe),Be}function St(ae,ne,ce,ke){if(typeof ce=="object"&&ce!==null&&ce.type===k&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case y:e:{for(var Be=ce.key;ne!==null;){if(ne.key===Be){if(Be=ce.type,Be===k){if(ne.tag===7){i(ae,ne.sibling),ke=f(ne,ce.props.children),ke.return=ae,ae=ke;break e}}else if(ne.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===j&&Va(Be)===ne.type){i(ae,ne.sibling),ke=f(ne,ce.props),al(ke,ce),ke.return=ae,ae=ke;break e}i(ae,ne);break}else n(ae,ne);ne=ne.sibling}ce.type===k?(ke=Pa(ce.props.children,ae.mode,ke,ce.key),ke.return=ae,ae=ke):(ke=Kc(ce.type,ce.key,ce.props,null,ae.mode,ke),al(ke,ce),ke.return=ae,ae=ke)}return w(ae);case E:e:{for(Be=ce.key;ne!==null;){if(ne.key===Be)if(ne.tag===4&&ne.stateNode.containerInfo===ce.containerInfo&&ne.stateNode.implementation===ce.implementation){i(ae,ne.sibling),ke=f(ne,ce.children||[]),ke.return=ae,ae=ke;break e}else{i(ae,ne);break}else n(ae,ne);ne=ne.sibling}ke=Qd(ce,ae.mode,ke),ke.return=ae,ae=ke}return w(ae);case j:return ce=Va(ce),St(ae,ne,ce,ke)}if(me(ce))return Ie(ae,ne,ce,ke);if(R(ce)){if(Be=R(ce),typeof Be!="function")throw Error(a(150));return ce=Be.call(ce),$e(ae,ne,ce,ke)}if(typeof ce.then=="function")return St(ae,ne,eu(ce),ke);if(ce.$$typeof===P)return St(ae,ne,Wc(ae,ce),ke);tu(ae,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint"?(ce=""+ce,ne!==null&&ne.tag===6?(i(ae,ne.sibling),ke=f(ne,ce),ke.return=ae,ae=ke):(i(ae,ne),ke=Zd(ce,ae.mode,ke),ke.return=ae,ae=ke),w(ae)):i(ae,ne)}return function(ae,ne,ce,ke){try{rl=0;var Be=St(ae,ne,ce,ke);return Hi=null,Be}catch(Ue){if(Ue===Vi||Ue===Zc)throw Ue;var ht=Mn(29,Ue,null,ae.mode);return ht.lanes=ke,ht.return=ae,ht}finally{}}}var qa=tm(!0),nm=tm(!1),Yr=!1;function dh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Wr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xr(t,n,i){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(pt&2)!==0){var f=l.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),l.pending=n,n=Gc(t),z0(t,null,i),n}return qc(t,l,n,i),Gc(t)}function il(t,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,i|=l,n.lanes=i,Oe(t,i)}}function fh(t,n){var i=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var f=null,g=null;if(i=i.firstBaseUpdate,i!==null){do{var w={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};g===null?f=g=w:g=g.next=w,i=i.next}while(i!==null);g===null?f=g=n:g=g.next=n}else f=g=n;i={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:l.shared,callbacks:l.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=n:t.next=n,i.lastBaseUpdate=n}var ph=!1;function ol(){if(ph){var t=Fi;if(t!==null)throw t}}function ll(t,n,i,l){ph=!1;var f=t.updateQueue;Yr=!1;var g=f.firstBaseUpdate,w=f.lastBaseUpdate,z=f.shared.pending;if(z!==null){f.shared.pending=null;var W=z,ue=W.next;W.next=null,w===null?g=ue:w.next=ue,w=W;var _e=t.alternate;_e!==null&&(_e=_e.updateQueue,z=_e.lastBaseUpdate,z!==w&&(z===null?_e.firstBaseUpdate=ue:z.next=ue,_e.lastBaseUpdate=W))}if(g!==null){var Se=f.baseState;w=0,_e=ue=W=null,z=g;do{var he=z.lane&-536870913,be=he!==z.lane;if(be?(rt&he)===he:(l&he)===he){he!==0&&he===$i&&(ph=!0),_e!==null&&(_e=_e.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var Ie=t,$e=z;he=n;var St=i;switch($e.tag){case 1:if(Ie=$e.payload,typeof Ie=="function"){Se=Ie.call(St,Se,he);break e}Se=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=$e.payload,he=typeof Ie=="function"?Ie.call(St,Se,he):Ie,he==null)break e;Se=_({},Se,he);break e;case 2:Yr=!0}}he=z.callback,he!==null&&(t.flags|=64,be&&(t.flags|=8192),be=f.callbacks,be===null?f.callbacks=[he]:be.push(he))}else be={lane:he,tag:z.tag,payload:z.payload,callback:z.callback,next:null},_e===null?(ue=_e=be,W=Se):_e=_e.next=be,w|=he;if(z=z.next,z===null){if(z=f.shared.pending,z===null)break;be=z,z=be.next,be.next=null,f.lastBaseUpdate=be,f.shared.pending=null}}while(!0);_e===null&&(W=Se),f.baseState=W,f.firstBaseUpdate=ue,f.lastBaseUpdate=_e,g===null&&(f.shared.lanes=0),na|=w,t.lanes=w,t.memoizedState=Se}}function sm(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function rm(t,n){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)sm(i[t],n)}var qi=X(null),nu=X(0);function am(t,n){t=vr,ee(nu,t),ee(qi,n),vr=t|n.baseLanes}function mh(){ee(nu,vr),ee(qi,qi.current)}function gh(){vr=nu.current,K(qi),K(nu)}var Pn=X(null),rs=null;function Zr(t){var n=t.alternate;ee($t,$t.current&1),ee(Pn,t),rs===null&&(n===null||qi.current!==null||n.memoizedState!==null)&&(rs=t)}function bh(t){ee($t,$t.current),ee(Pn,t),rs===null&&(rs=t)}function im(t){t.tag===22?(ee($t,$t.current),ee(Pn,t),rs===null&&(rs=t)):Qr()}function Qr(){ee($t,$t.current),ee(Pn,Pn.current)}function zn(t){K(Pn),rs===t&&(rs=null),K($t)}var $t=X(0);function su(t){for(var n=t;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Sf(i)||Ef(i)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var dr=0,We=null,wt=null,Kt=null,ru=!1,Gi=!1,Ga=!1,au=0,cl=0,Ki=null,fx=0;function Mt(){throw Error(a(321))}function yh(t,n){if(n===null)return!1;for(var i=0;i<n.length&&i<t.length;i++)if(!Un(t[i],n[i]))return!1;return!0}function vh(t,n,i,l,f,g){return dr=g,We=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,te.H=t===null||t.memoizedState===null?Vm:Ih,Ga=!1,g=i(l,f),Ga=!1,Gi&&(g=lm(n,i,l,f)),om(t),g}function om(t){te.H=hl;var n=wt!==null&&wt.next!==null;if(dr=0,Kt=wt=We=null,ru=!1,cl=0,Ki=null,n)throw Error(a(300));t===null||Jt||(t=t.dependencies,t!==null&&Yc(t)&&(Jt=!0))}function lm(t,n,i,l){We=t;var f=0;do{if(Gi&&(Ki=null),cl=0,Gi=!1,25<=f)throw Error(a(301));if(f+=1,Kt=wt=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}te.H=Hm,g=n(i,l)}while(Gi);return g}function px(){var t=te.H,n=t.useState()[0];return n=typeof n.then=="function"?ul(n):n,t=t.useState()[0],(wt!==null?wt.memoizedState:null)!==t&&(We.flags|=1024),n}function _h(){var t=au!==0;return au=0,t}function xh(t,n,i){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~i}function wh(t){if(ru){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ru=!1}dr=0,Kt=wt=We=null,Gi=!1,cl=au=0,Ki=null}function vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?We.memoizedState=Kt=t:Kt=Kt.next=t,Kt}function Ft(){if(wt===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=wt.next;var n=Kt===null?We.memoizedState:Kt.next;if(n!==null)Kt=n,wt=t;else{if(t===null)throw We.alternate===null?Error(a(467)):Error(a(310));wt=t,t={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Kt===null?We.memoizedState=Kt=t:Kt=Kt.next=t}return Kt}function iu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(t){var n=cl;return cl+=1,Ki===null&&(Ki=[]),t=Z0(Ki,t,n),n=We,(Kt===null?n.memoizedState:Kt.next)===null&&(n=n.alternate,te.H=n===null||n.memoizedState===null?Vm:Ih),t}function ou(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ul(t);if(t.$$typeof===P)return hn(t)}throw Error(a(438,String(t)))}function kh(t){var n=null,i=We.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var l=We.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=iu(),We.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(t),l=0;l<t;l++)i[l]=$;return n.index++,i}function hr(t,n){return typeof n=="function"?n(t):n}function lu(t){var n=Ft();return Sh(n,wt,t)}function Sh(t,n,i){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=i;var f=t.baseQueue,g=l.pending;if(g!==null){if(f!==null){var w=f.next;f.next=g.next,g.next=w}n.baseQueue=f=g,l.pending=null}if(g=t.baseState,f===null)t.memoizedState=g;else{n=f.next;var z=w=null,W=null,ue=n,_e=!1;do{var Se=ue.lane&-536870913;if(Se!==ue.lane?(rt&Se)===Se:(dr&Se)===Se){var he=ue.revertLane;if(he===0)W!==null&&(W=W.next={lane:0,revertLane:0,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),Se===$i&&(_e=!0);else if((dr&he)===he){ue=ue.next,he===$i&&(_e=!0);continue}else Se={lane:0,revertLane:ue.revertLane,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},W===null?(z=W=Se,w=g):W=W.next=Se,We.lanes|=he,na|=he;Se=ue.action,Ga&&i(g,Se),g=ue.hasEagerState?ue.eagerState:i(g,Se)}else he={lane:Se,revertLane:ue.revertLane,gesture:ue.gesture,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},W===null?(z=W=he,w=g):W=W.next=he,We.lanes|=Se,na|=Se;ue=ue.next}while(ue!==null&&ue!==n);if(W===null?w=g:W.next=z,!Un(g,t.memoizedState)&&(Jt=!0,_e&&(i=Fi,i!==null)))throw i;t.memoizedState=g,t.baseState=w,t.baseQueue=W,l.lastRenderedState=g}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Eh(t){var n=Ft(),i=n.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=t;var l=i.dispatch,f=i.pending,g=n.memoizedState;if(f!==null){i.pending=null;var w=f=f.next;do g=t(g,w.action),w=w.next;while(w!==f);Un(g,n.memoizedState)||(Jt=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),i.lastRenderedState=g}return[g,l]}function cm(t,n,i){var l=We,f=Ft(),g=ot;if(g){if(i===void 0)throw Error(a(407));i=i()}else i=n();var w=!Un((wt||f).memoizedState,i);if(w&&(f.memoizedState=i,Jt=!0),f=f.queue,Nh(hm.bind(null,l,f,t),[t]),f.getSnapshot!==n||w||Kt!==null&&Kt.memoizedState.tag&1){if(l.flags|=2048,Ji(9,{destroy:void 0},dm.bind(null,l,f,i,n),null),At===null)throw Error(a(349));g||(dr&127)!==0||um(l,n,i)}return i}function um(t,n,i){t.flags|=16384,t={getSnapshot:n,value:i},n=We.updateQueue,n===null?(n=iu(),We.updateQueue=n,n.stores=[t]):(i=n.stores,i===null?n.stores=[t]:i.push(t))}function dm(t,n,i,l){n.value=i,n.getSnapshot=l,fm(n)&&pm(t)}function hm(t,n,i){return i(function(){fm(n)&&pm(t)})}function fm(t){var n=t.getSnapshot;t=t.value;try{var i=n();return!Un(t,i)}catch{return!0}}function pm(t){var n=Ma(t,2);n!==null&&Rn(n,t,2)}function Ah(t){var n=vn();if(typeof t=="function"){var i=t;if(t=i(),Ga){sn(!0);try{i()}finally{sn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:t},n}function mm(t,n,i,l){return t.baseState=i,Sh(t,wt,typeof l=="function"?l:hr)}function mx(t,n,i,l,f){if(du(t))throw Error(a(485));if(t=n.action,t!==null){var g={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};te.T!==null?i(!0):g.isTransition=!1,l(g),i=n.pending,i===null?(g.next=n.pending=g,gm(n,g)):(g.next=i.next,n.pending=i.next=g)}}function gm(t,n){var i=n.action,l=n.payload,f=t.state;if(n.isTransition){var g=te.T,w={};te.T=w;try{var z=i(f,l),W=te.S;W!==null&&W(w,z),bm(t,n,z)}catch(ue){Th(t,n,ue)}finally{g!==null&&w.types!==null&&(g.types=w.types),te.T=g}}else try{g=i(f,l),bm(t,n,g)}catch(ue){Th(t,n,ue)}}function bm(t,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(l){ym(t,n,l)},function(l){return Th(t,n,l)}):ym(t,n,i)}function ym(t,n,i){n.status="fulfilled",n.value=i,vm(n),t.state=i,n=t.pending,n!==null&&(i=n.next,i===n?t.pending=null:(i=i.next,n.next=i,gm(t,i)))}function Th(t,n,i){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=i,vm(n),n=n.next;while(n!==l)}t.action=null}function vm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function _m(t,n){return n}function xm(t,n){if(ot){var i=At.formState;if(i!==null){e:{var l=We;if(ot){if(jt){t:{for(var f=jt,g=ss;f.nodeType!==8;){if(!g){f=null;break t}if(f=as(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){jt=as(f.nextSibling),l=f.data==="F!";break e}}Kr(l)}l=!1}l&&(n=i[0])}}return i=vn(),i.memoizedState=i.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_m,lastRenderedState:n},i.queue=l,i=Bm.bind(null,We,l),l.dispatch=i,l=Ah(!1),g=Oh.bind(null,We,!1,l.queue),l=vn(),f={state:n,dispatch:null,action:t,pending:null},l.queue=f,i=mx.bind(null,We,f,g,i),f.dispatch=i,l.memoizedState=t,[n,i,!1]}function wm(t){var n=Ft();return km(n,wt,t)}function km(t,n,i){if(n=Sh(t,n,_m)[0],t=lu(hr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ul(n)}catch(w){throw w===Vi?Zc:w}else l=n;n=Ft();var f=n.queue,g=f.dispatch;return i!==n.memoizedState&&(We.flags|=2048,Ji(9,{destroy:void 0},gx.bind(null,f,i),null)),[l,g,t]}function gx(t,n){t.action=n}function Sm(t){var n=Ft(),i=wt;if(i!==null)return km(n,i,t);Ft(),n=n.memoizedState,i=Ft();var l=i.queue.dispatch;return i.memoizedState=t,[n,l,!1]}function Ji(t,n,i,l){return t={tag:t,create:i,deps:l,inst:n,next:null},n=We.updateQueue,n===null&&(n=iu(),We.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=t.next=t:(l=i.next,i.next=t,t.next=l,n.lastEffect=t),t}function Em(){return Ft().memoizedState}function cu(t,n,i,l){var f=vn();We.flags|=t,f.memoizedState=Ji(1|n,{destroy:void 0},i,l===void 0?null:l)}function uu(t,n,i,l){var f=Ft();l=l===void 0?null:l;var g=f.memoizedState.inst;wt!==null&&l!==null&&yh(l,wt.memoizedState.deps)?f.memoizedState=Ji(n,g,i,l):(We.flags|=t,f.memoizedState=Ji(1|n,g,i,l))}function Am(t,n){cu(8390656,8,t,n)}function Nh(t,n){uu(2048,8,t,n)}function bx(t){We.flags|=4;var n=We.updateQueue;if(n===null)n=iu(),We.updateQueue=n,n.events=[t];else{var i=n.events;i===null?n.events=[t]:i.push(t)}}function Tm(t){var n=Ft().memoizedState;return bx({ref:n,nextImpl:t}),function(){if((pt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Nm(t,n){return uu(4,2,t,n)}function Cm(t,n){return uu(4,4,t,n)}function jm(t,n){if(typeof n=="function"){t=t();var i=n(t);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Rm(t,n,i){i=i!=null?i.concat([t]):null,uu(4,4,jm.bind(null,n,t),i)}function Ch(){}function Dm(t,n){var i=Ft();n=n===void 0?null:n;var l=i.memoizedState;return n!==null&&yh(n,l[1])?l[0]:(i.memoizedState=[t,n],t)}function Om(t,n){var i=Ft();n=n===void 0?null:n;var l=i.memoizedState;if(n!==null&&yh(n,l[1]))return l[0];if(l=t(),Ga){sn(!0);try{t()}finally{sn(!1)}}return i.memoizedState=[l,n],l}function jh(t,n,i){return i===void 0||(dr&1073741824)!==0&&(rt&261930)===0?t.memoizedState=n:(t.memoizedState=i,t=Ig(),We.lanes|=t,na|=t,i)}function Im(t,n,i,l){return Un(i,n)?i:qi.current!==null?(t=jh(t,i,l),Un(t,n)||(Jt=!0),t):(dr&42)===0||(dr&1073741824)!==0&&(rt&261930)===0?(Jt=!0,t.memoizedState=i):(t=Ig(),We.lanes|=t,na|=t,n)}function Lm(t,n,i,l,f){var g=Q.p;Q.p=g!==0&&8>g?g:8;var w=te.T,z={};te.T=z,Oh(t,!1,n,i);try{var W=f(),ue=te.S;if(ue!==null&&ue(z,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var _e=hx(W,l);dl(t,n,_e,Fn(t))}else dl(t,n,l,Fn(t))}catch(Se){dl(t,n,{then:function(){},status:"rejected",reason:Se},Fn())}finally{Q.p=g,w!==null&&z.types!==null&&(w.types=z.types),te.T=w}}function yx(){}function Rh(t,n,i,l){if(t.tag!==5)throw Error(a(476));var f=Um(t).queue;Lm(t,f,n,ve,i===null?yx:function(){return Mm(t),i(l)})}function Um(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:ve},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hr,lastRenderedState:i},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Mm(t){var n=Um(t);n.next===null&&(n=t.alternate.memoizedState),dl(t,n.next.queue,{},Fn())}function Dh(){return hn(Nl)}function Pm(){return Ft().memoizedState}function zm(){return Ft().memoizedState}function vx(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var i=Fn();t=Wr(i);var l=Xr(n,t,i);l!==null&&(Rn(l,n,i),il(l,n,i)),n={cache:oh()},t.payload=n;return}n=n.return}}function _x(t,n,i){var l=Fn();i={lane:l,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},du(t)?$m(n,i):(i=Wd(t,n,i,l),i!==null&&(Rn(i,t,l),Fm(i,n,l)))}function Bm(t,n,i){var l=Fn();dl(t,n,i,l)}function dl(t,n,i,l){var f={lane:l,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(du(t))$m(n,f);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var w=n.lastRenderedState,z=g(w,i);if(f.hasEagerState=!0,f.eagerState=z,Un(z,w))return qc(t,n,f,0),At===null&&Hc(),!1}catch{}finally{}if(i=Wd(t,n,f,l),i!==null)return Rn(i,t,l),Fm(i,n,l),!0}return!1}function Oh(t,n,i,l){if(l={lane:2,revertLane:hf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},du(t)){if(n)throw Error(a(479))}else n=Wd(t,i,l,2),n!==null&&Rn(n,t,2)}function du(t){var n=t.alternate;return t===We||n!==null&&n===We}function $m(t,n){Gi=ru=!0;var i=t.pending;i===null?n.next=n:(n.next=i.next,i.next=n),t.pending=n}function Fm(t,n,i){if((i&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,i|=l,n.lanes=i,Oe(t,i)}}var hl={readContext:hn,use:ou,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useLayoutEffect:Mt,useInsertionEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useSyncExternalStore:Mt,useId:Mt,useHostTransitionStatus:Mt,useFormState:Mt,useActionState:Mt,useOptimistic:Mt,useMemoCache:Mt,useCacheRefresh:Mt};hl.useEffectEvent=Mt;var Vm={readContext:hn,use:ou,useCallback:function(t,n){return vn().memoizedState=[t,n===void 0?null:n],t},useContext:hn,useEffect:Am,useImperativeHandle:function(t,n,i){i=i!=null?i.concat([t]):null,cu(4194308,4,jm.bind(null,n,t),i)},useLayoutEffect:function(t,n){return cu(4194308,4,t,n)},useInsertionEffect:function(t,n){cu(4,2,t,n)},useMemo:function(t,n){var i=vn();n=n===void 0?null:n;var l=t();if(Ga){sn(!0);try{t()}finally{sn(!1)}}return i.memoizedState=[l,n],l},useReducer:function(t,n,i){var l=vn();if(i!==void 0){var f=i(n);if(Ga){sn(!0);try{i(n)}finally{sn(!1)}}}else f=n;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=_x.bind(null,We,t),[l.memoizedState,t]},useRef:function(t){var n=vn();return t={current:t},n.memoizedState=t},useState:function(t){t=Ah(t);var n=t.queue,i=Bm.bind(null,We,n);return n.dispatch=i,[t.memoizedState,i]},useDebugValue:Ch,useDeferredValue:function(t,n){var i=vn();return jh(i,t,n)},useTransition:function(){var t=Ah(!1);return t=Lm.bind(null,We,t.queue,!0,!1),vn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,i){var l=We,f=vn();if(ot){if(i===void 0)throw Error(a(407));i=i()}else{if(i=n(),At===null)throw Error(a(349));(rt&127)!==0||um(l,n,i)}f.memoizedState=i;var g={value:i,getSnapshot:n};return f.queue=g,Am(hm.bind(null,l,g,t),[t]),l.flags|=2048,Ji(9,{destroy:void 0},dm.bind(null,l,g,i,n),null),i},useId:function(){var t=vn(),n=At.identifierPrefix;if(ot){var i=Fs,l=$s;i=(l&~(1<<32-dt(l)-1)).toString(32)+i,n="_"+n+"R_"+i,i=au++,0<i&&(n+="H"+i.toString(32)),n+="_"}else i=fx++,n="_"+n+"r_"+i.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Dh,useFormState:xm,useActionState:xm,useOptimistic:function(t){var n=vn();n.memoizedState=n.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=Oh.bind(null,We,!0,i),i.dispatch=n,[t,n]},useMemoCache:kh,useCacheRefresh:function(){return vn().memoizedState=vx.bind(null,We)},useEffectEvent:function(t){var n=vn(),i={impl:t};return n.memoizedState=i,function(){if((pt&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}},Ih={readContext:hn,use:ou,useCallback:Dm,useContext:hn,useEffect:Nh,useImperativeHandle:Rm,useInsertionEffect:Nm,useLayoutEffect:Cm,useMemo:Om,useReducer:lu,useRef:Em,useState:function(){return lu(hr)},useDebugValue:Ch,useDeferredValue:function(t,n){var i=Ft();return Im(i,wt.memoizedState,t,n)},useTransition:function(){var t=lu(hr)[0],n=Ft().memoizedState;return[typeof t=="boolean"?t:ul(t),n]},useSyncExternalStore:cm,useId:Pm,useHostTransitionStatus:Dh,useFormState:wm,useActionState:wm,useOptimistic:function(t,n){var i=Ft();return mm(i,wt,t,n)},useMemoCache:kh,useCacheRefresh:zm};Ih.useEffectEvent=Tm;var Hm={readContext:hn,use:ou,useCallback:Dm,useContext:hn,useEffect:Nh,useImperativeHandle:Rm,useInsertionEffect:Nm,useLayoutEffect:Cm,useMemo:Om,useReducer:Eh,useRef:Em,useState:function(){return Eh(hr)},useDebugValue:Ch,useDeferredValue:function(t,n){var i=Ft();return wt===null?jh(i,t,n):Im(i,wt.memoizedState,t,n)},useTransition:function(){var t=Eh(hr)[0],n=Ft().memoizedState;return[typeof t=="boolean"?t:ul(t),n]},useSyncExternalStore:cm,useId:Pm,useHostTransitionStatus:Dh,useFormState:Sm,useActionState:Sm,useOptimistic:function(t,n){var i=Ft();return wt!==null?mm(i,wt,t,n):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:kh,useCacheRefresh:zm};Hm.useEffectEvent=Tm;function Lh(t,n,i,l){n=t.memoizedState,i=i(l,n),i=i==null?n:_({},n,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Uh={enqueueSetState:function(t,n,i){t=t._reactInternals;var l=Fn(),f=Wr(l);f.payload=n,i!=null&&(f.callback=i),n=Xr(t,f,l),n!==null&&(Rn(n,t,l),il(n,t,l))},enqueueReplaceState:function(t,n,i){t=t._reactInternals;var l=Fn(),f=Wr(l);f.tag=1,f.payload=n,i!=null&&(f.callback=i),n=Xr(t,f,l),n!==null&&(Rn(n,t,l),il(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var i=Fn(),l=Wr(i);l.tag=2,n!=null&&(l.callback=n),n=Xr(t,l,i),n!==null&&(Rn(n,t,i),il(n,t,i))}};function qm(t,n,i,l,f,g,w){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,g,w):n.prototype&&n.prototype.isPureReactComponent?!Zo(i,l)||!Zo(f,g):!0}function Gm(t,n,i,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,l),n.state!==t&&Uh.enqueueReplaceState(n,n.state,null)}function Ka(t,n){var i=n;if("ref"in n){i={};for(var l in n)l!=="ref"&&(i[l]=n[l])}if(t=t.defaultProps){i===n&&(i=_({},i));for(var f in t)i[f]===void 0&&(i[f]=t[f])}return i}function Km(t){Vc(t)}function Jm(t){console.error(t)}function Ym(t){Vc(t)}function hu(t,n){try{var i=t.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Wm(t,n,i){try{var l=t.onCaughtError;l(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Mh(t,n,i){return i=Wr(i),i.tag=3,i.payload={element:null},i.callback=function(){hu(t,n)},i}function Xm(t){return t=Wr(t),t.tag=3,t}function Zm(t,n,i,l){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var g=l.value;t.payload=function(){return f(g)},t.callback=function(){Wm(n,i,l)}}var w=i.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(t.callback=function(){Wm(n,i,l),typeof f!="function"&&(sa===null?sa=new Set([this]):sa.add(this));var z=l.stack;this.componentDidCatch(l.value,{componentStack:z!==null?z:""})})}function xx(t,n,i,l,f){if(i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=i.alternate,n!==null&&Bi(n,i,f,!0),i=Pn.current,i!==null){switch(i.tag){case 31:case 13:return rs===null?Su():i.alternate===null&&Pt===0&&(Pt=3),i.flags&=-257,i.flags|=65536,i.lanes=f,l===Qc?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([l]):n.add(l),cf(t,l,f)),!1;case 22:return i.flags|=65536,l===Qc?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([l]):i.add(l)),cf(t,l,f)),!1}throw Error(a(435,i.tag))}return cf(t,l,f),Su(),!1}if(ot)return n=Pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,l!==nh&&(t=Error(a(422),{cause:l}),tl(es(t,i)))):(l!==nh&&(n=Error(a(423),{cause:l}),tl(es(n,i))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=es(l,i),f=Mh(t.stateNode,l,f),fh(t,f),Pt!==4&&(Pt=2)),!1;var g=Error(a(520),{cause:l});if(g=es(g,i),_l===null?_l=[g]:_l.push(g),Pt!==4&&(Pt=2),n===null)return!0;l=es(l,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,t=f&-f,i.lanes|=t,t=Mh(i.stateNode,l,t),fh(i,t),!1;case 1:if(n=i.type,g=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(sa===null||!sa.has(g))))return i.flags|=65536,f&=-f,i.lanes|=f,f=Xm(f),Zm(f,t,i,l),fh(i,f),!1}i=i.return}while(i!==null);return!1}var Ph=Error(a(461)),Jt=!1;function fn(t,n,i,l){n.child=t===null?nm(n,null,i,l):qa(n,t.child,i,l)}function Qm(t,n,i,l,f){i=i.render;var g=n.ref;if("ref"in l){var w={};for(var z in l)z!=="ref"&&(w[z]=l[z])}else w=l;return $a(n),l=vh(t,n,i,w,g,f),z=_h(),t!==null&&!Jt?(xh(t,n,f),fr(t,n,f)):(ot&&z&&eh(n),n.flags|=1,fn(t,n,l,f),n.child)}function eg(t,n,i,l,f){if(t===null){var g=i.type;return typeof g=="function"&&!Xd(g)&&g.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=g,tg(t,n,g,l,f)):(t=Kc(i.type,null,l,n,n.mode,f),t.ref=n.ref,t.return=n,n.child=t)}if(g=t.child,!Gh(t,f)){var w=g.memoizedProps;if(i=i.compare,i=i!==null?i:Zo,i(w,l)&&t.ref===n.ref)return fr(t,n,f)}return n.flags|=1,t=or(g,l),t.ref=n.ref,t.return=n,n.child=t}function tg(t,n,i,l,f){if(t!==null){var g=t.memoizedProps;if(Zo(g,l)&&t.ref===n.ref)if(Jt=!1,n.pendingProps=l=g,Gh(t,f))(t.flags&131072)!==0&&(Jt=!0);else return n.lanes=t.lanes,fr(t,n,f)}return zh(t,n,i,l,f)}function ng(t,n,i,l){var f=l.children,g=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(g=g!==null?g.baseLanes|i:i,t!==null){for(l=n.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~g}else l=0,n.child=null;return sg(t,n,g,i,l)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xc(n,g!==null?g.cachePool:null),g!==null?am(n,g):mh(),im(n);else return l=n.lanes=536870912,sg(t,n,g!==null?g.baseLanes|i:i,i,l)}else g!==null?(Xc(n,g.cachePool),am(n,g),Qr(),n.memoizedState=null):(t!==null&&Xc(n,null),mh(),Qr());return fn(t,n,f,i),n.child}function fl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function sg(t,n,i,l,f){var g=ch();return g=g===null?null:{parent:Gt._currentValue,pool:g},n.memoizedState={baseLanes:i,cachePool:g},t!==null&&Xc(n,null),mh(),im(n),t!==null&&Bi(t,n,l,!0),n.childLanes=f,null}function fu(t,n){return n=mu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function rg(t,n,i){return qa(n,t.child,null,i),t=fu(n,n.pendingProps),t.flags|=2,zn(n),n.memoizedState=null,t}function wx(t,n,i){var l=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(ot){if(l.mode==="hidden")return t=fu(n,l),n.lanes=536870912,fl(null,t);if(bh(n),(t=jt)?(t=gb(t,ss),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:qr!==null?{id:$s,overflow:Fs}:null,retryLane:536870912,hydrationErrors:null},i=$0(t),i.return=n,n.child=i,dn=n,jt=null)):t=null,t===null)throw Kr(n);return n.lanes=536870912,null}return fu(n,l)}var g=t.memoizedState;if(g!==null){var w=g.dehydrated;if(bh(n),f)if(n.flags&256)n.flags&=-257,n=rg(t,n,i);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Jt||Bi(t,n,i,!1),f=(i&t.childLanes)!==0,Jt||f){if(l=At,l!==null&&(w=ze(l,i),w!==0&&w!==g.retryLane))throw g.retryLane=w,Ma(t,w),Rn(l,t,w),Ph;Su(),n=rg(t,n,i)}else t=g.treeContext,jt=as(w.nextSibling),dn=n,ot=!0,Gr=null,ss=!1,t!==null&&H0(n,t),n=fu(n,l),n.flags|=4096;return n}return t=or(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function pu(t,n){var i=n.ref;if(i===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(a(284));(t===null||t.ref!==i)&&(n.flags|=4194816)}}function zh(t,n,i,l,f){return $a(n),i=vh(t,n,i,l,void 0,f),l=_h(),t!==null&&!Jt?(xh(t,n,f),fr(t,n,f)):(ot&&l&&eh(n),n.flags|=1,fn(t,n,i,f),n.child)}function ag(t,n,i,l,f,g){return $a(n),n.updateQueue=null,i=lm(n,l,i,f),om(t),l=_h(),t!==null&&!Jt?(xh(t,n,g),fr(t,n,g)):(ot&&l&&eh(n),n.flags|=1,fn(t,n,i,g),n.child)}function ig(t,n,i,l,f){if($a(n),n.stateNode===null){var g=Ui,w=i.contextType;typeof w=="object"&&w!==null&&(g=hn(w)),g=new i(l,g),n.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Uh,n.stateNode=g,g._reactInternals=n,g=n.stateNode,g.props=l,g.state=n.memoizedState,g.refs={},dh(n),w=i.contextType,g.context=typeof w=="object"&&w!==null?hn(w):Ui,g.state=n.memoizedState,w=i.getDerivedStateFromProps,typeof w=="function"&&(Lh(n,i,w,l),g.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&Uh.enqueueReplaceState(g,g.state,null),ll(n,l,g,f),ol(),g.state=n.memoizedState),typeof g.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){g=n.stateNode;var z=n.memoizedProps,W=Ka(i,z);g.props=W;var ue=g.context,_e=i.contextType;w=Ui,typeof _e=="object"&&_e!==null&&(w=hn(_e));var Se=i.getDerivedStateFromProps;_e=typeof Se=="function"||typeof g.getSnapshotBeforeUpdate=="function",z=n.pendingProps!==z,_e||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(z||ue!==w)&&Gm(n,g,l,w),Yr=!1;var he=n.memoizedState;g.state=he,ll(n,l,g,f),ol(),ue=n.memoizedState,z||he!==ue||Yr?(typeof Se=="function"&&(Lh(n,i,Se,l),ue=n.memoizedState),(W=Yr||qm(n,i,W,l,he,ue,w))?(_e||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(n.flags|=4194308)):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=ue),g.props=l,g.state=ue,g.context=w,l=W):(typeof g.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{g=n.stateNode,hh(t,n),w=n.memoizedProps,_e=Ka(i,w),g.props=_e,Se=n.pendingProps,he=g.context,ue=i.contextType,W=Ui,typeof ue=="object"&&ue!==null&&(W=hn(ue)),z=i.getDerivedStateFromProps,(ue=typeof z=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==Se||he!==W)&&Gm(n,g,l,W),Yr=!1,he=n.memoizedState,g.state=he,ll(n,l,g,f),ol();var be=n.memoizedState;w!==Se||he!==be||Yr||t!==null&&t.dependencies!==null&&Yc(t.dependencies)?(typeof z=="function"&&(Lh(n,i,z,l),be=n.memoizedState),(_e=Yr||qm(n,i,_e,l,he,be,W)||t!==null&&t.dependencies!==null&&Yc(t.dependencies))?(ue||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(l,be,W),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(l,be,W)),typeof g.componentDidUpdate=="function"&&(n.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===t.memoizedProps&&he===t.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&he===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=be),g.props=l,g.state=be,g.context=W,l=_e):(typeof g.componentDidUpdate!="function"||w===t.memoizedProps&&he===t.memoizedState||(n.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&he===t.memoizedState||(n.flags|=1024),l=!1)}return g=l,pu(t,n),l=(n.flags&128)!==0,g||l?(g=n.stateNode,i=l&&typeof i.getDerivedStateFromError!="function"?null:g.render(),n.flags|=1,t!==null&&l?(n.child=qa(n,t.child,null,f),n.child=qa(n,null,i,f)):fn(t,n,i,f),n.memoizedState=g.state,t=n.child):t=fr(t,n,f),t}function og(t,n,i,l){return za(),n.flags|=256,fn(t,n,i,l),n.child}var Bh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $h(t){return{baseLanes:t,cachePool:W0()}}function Fh(t,n,i){return t=t!==null?t.childLanes&~i:0,n&&(t|=$n),t}function lg(t,n,i){var l=n.pendingProps,f=!1,g=(n.flags&128)!==0,w;if((w=g)||(w=t!==null&&t.memoizedState===null?!1:($t.current&2)!==0),w&&(f=!0,n.flags&=-129),w=(n.flags&32)!==0,n.flags&=-33,t===null){if(ot){if(f?Zr(n):Qr(),(t=jt)?(t=gb(t,ss),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:qr!==null?{id:$s,overflow:Fs}:null,retryLane:536870912,hydrationErrors:null},i=$0(t),i.return=n,n.child=i,dn=n,jt=null)):t=null,t===null)throw Kr(n);return Ef(t)?n.lanes=32:n.lanes=536870912,null}var z=l.children;return l=l.fallback,f?(Qr(),f=n.mode,z=mu({mode:"hidden",children:z},f),l=Pa(l,f,i,null),z.return=n,l.return=n,z.sibling=l,n.child=z,l=n.child,l.memoizedState=$h(i),l.childLanes=Fh(t,w,i),n.memoizedState=Bh,fl(null,l)):(Zr(n),Vh(n,z))}var W=t.memoizedState;if(W!==null&&(z=W.dehydrated,z!==null)){if(g)n.flags&256?(Zr(n),n.flags&=-257,n=Hh(t,n,i)):n.memoizedState!==null?(Qr(),n.child=t.child,n.flags|=128,n=null):(Qr(),z=l.fallback,f=n.mode,l=mu({mode:"visible",children:l.children},f),z=Pa(z,f,i,null),z.flags|=2,l.return=n,z.return=n,l.sibling=z,n.child=l,qa(n,t.child,null,i),l=n.child,l.memoizedState=$h(i),l.childLanes=Fh(t,w,i),n.memoizedState=Bh,n=fl(null,l));else if(Zr(n),Ef(z)){if(w=z.nextSibling&&z.nextSibling.dataset,w)var ue=w.dgst;w=ue,l=Error(a(419)),l.stack="",l.digest=w,tl({value:l,source:null,stack:null}),n=Hh(t,n,i)}else if(Jt||Bi(t,n,i,!1),w=(i&t.childLanes)!==0,Jt||w){if(w=At,w!==null&&(l=ze(w,i),l!==0&&l!==W.retryLane))throw W.retryLane=l,Ma(t,l),Rn(w,t,l),Ph;Sf(z)||Su(),n=Hh(t,n,i)}else Sf(z)?(n.flags|=192,n.child=t.child,n=null):(t=W.treeContext,jt=as(z.nextSibling),dn=n,ot=!0,Gr=null,ss=!1,t!==null&&H0(n,t),n=Vh(n,l.children),n.flags|=4096);return n}return f?(Qr(),z=l.fallback,f=n.mode,W=t.child,ue=W.sibling,l=or(W,{mode:"hidden",children:l.children}),l.subtreeFlags=W.subtreeFlags&65011712,ue!==null?z=or(ue,z):(z=Pa(z,f,i,null),z.flags|=2),z.return=n,l.return=n,l.sibling=z,n.child=l,fl(null,l),l=n.child,z=t.child.memoizedState,z===null?z=$h(i):(f=z.cachePool,f!==null?(W=Gt._currentValue,f=f.parent!==W?{parent:W,pool:W}:f):f=W0(),z={baseLanes:z.baseLanes|i,cachePool:f}),l.memoizedState=z,l.childLanes=Fh(t,w,i),n.memoizedState=Bh,fl(t.child,l)):(Zr(n),i=t.child,t=i.sibling,i=or(i,{mode:"visible",children:l.children}),i.return=n,i.sibling=null,t!==null&&(w=n.deletions,w===null?(n.deletions=[t],n.flags|=16):w.push(t)),n.child=i,n.memoizedState=null,i)}function Vh(t,n){return n=mu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function mu(t,n){return t=Mn(22,t,null,n),t.lanes=0,t}function Hh(t,n,i){return qa(n,t.child,null,i),t=Vh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function cg(t,n,i){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),ah(t.return,n,i)}function qh(t,n,i,l,f,g){var w=t.memoizedState;w===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:f,treeForkCount:g}:(w.isBackwards=n,w.rendering=null,w.renderingStartTime=0,w.last=l,w.tail=i,w.tailMode=f,w.treeForkCount=g)}function ug(t,n,i){var l=n.pendingProps,f=l.revealOrder,g=l.tail;l=l.children;var w=$t.current,z=(w&2)!==0;if(z?(w=w&1|2,n.flags|=128):w&=1,ee($t,w),fn(t,n,l,i),l=ot?el:0,!z&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cg(t,i,n);else if(t.tag===19)cg(t,i,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(i=n.child,f=null;i!==null;)t=i.alternate,t!==null&&su(t)===null&&(f=i),i=i.sibling;i=f,i===null?(f=n.child,n.child=null):(f=i.sibling,i.sibling=null),qh(n,!1,f,i,g,l);break;case"backwards":case"unstable_legacy-backwards":for(i=null,f=n.child,n.child=null;f!==null;){if(t=f.alternate,t!==null&&su(t)===null){n.child=f;break}t=f.sibling,f.sibling=i,i=f,f=t}qh(n,!0,i,null,g,l);break;case"together":qh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function fr(t,n,i){if(t!==null&&(n.dependencies=t.dependencies),na|=n.lanes,(i&n.childLanes)===0)if(t!==null){if(Bi(t,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,i=or(t,t.pendingProps),n.child=i,i.return=n;t.sibling!==null;)t=t.sibling,i=i.sibling=or(t,t.pendingProps),i.return=n;i.sibling=null}return n.child}function Gh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Yc(t)))}function kx(t,n,i){switch(n.tag){case 3:Ee(n,n.stateNode.containerInfo),Jr(n,Gt,t.memoizedState.cache),za();break;case 27:case 5:De(n);break;case 4:Ee(n,n.stateNode.containerInfo);break;case 10:Jr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,bh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Zr(n),n.flags|=128,null):(i&n.child.childLanes)!==0?lg(t,n,i):(Zr(n),t=fr(t,n,i),t!==null?t.sibling:null);Zr(n);break;case 19:var f=(t.flags&128)!==0;if(l=(i&n.childLanes)!==0,l||(Bi(t,n,i,!1),l=(i&n.childLanes)!==0),f){if(l)return ug(t,n,i);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ee($t,$t.current),l)break;return null;case 22:return n.lanes=0,ng(t,n,i,n.pendingProps);case 24:Jr(n,Gt,t.memoizedState.cache)}return fr(t,n,i)}function dg(t,n,i){if(t!==null)if(t.memoizedProps!==n.pendingProps)Jt=!0;else{if(!Gh(t,i)&&(n.flags&128)===0)return Jt=!1,kx(t,n,i);Jt=(t.flags&131072)!==0}else Jt=!1,ot&&(n.flags&1048576)!==0&&V0(n,el,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Va(n.elementType),n.type=t,typeof t=="function")Xd(t)?(l=Ka(t,l),n.tag=1,n=ig(null,n,t,l,i)):(n.tag=0,n=zh(null,n,t,l,i));else{if(t!=null){var f=t.$$typeof;if(f===V){n.tag=11,n=Qm(null,n,t,l,i);break e}else if(f===O){n.tag=14,n=eg(null,n,t,l,i);break e}}throw n=D(t)||t,Error(a(306,n,""))}}return n;case 0:return zh(t,n,n.type,n.pendingProps,i);case 1:return l=n.type,f=Ka(l,n.pendingProps),ig(t,n,l,f,i);case 3:e:{if(Ee(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var g=n.memoizedState;f=g.element,hh(t,n),ll(n,l,null,i);var w=n.memoizedState;if(l=w.cache,Jr(n,Gt,l),l!==g.cache&&ih(n,[Gt],i,!0),ol(),l=w.element,g.isDehydrated)if(g={element:l,isDehydrated:!1,cache:w.cache},n.updateQueue.baseState=g,n.memoizedState=g,n.flags&256){n=og(t,n,l,i);break e}else if(l!==f){f=es(Error(a(424)),n),tl(f),n=og(t,n,l,i);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(jt=as(t.firstChild),dn=n,ot=!0,Gr=null,ss=!0,i=nm(n,null,l,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(za(),l===f){n=fr(t,n,i);break e}fn(t,n,l,i)}n=n.child}return n;case 26:return pu(t,n),t===null?(i=wb(n.type,null,n.pendingProps,null))?n.memoizedState=i:ot||(i=n.type,t=n.pendingProps,l=Ru(we.current).createElement(i),l[Ct]=n,l[rn]=t,pn(l,i,t),Ht(l),n.stateNode=l):n.memoizedState=wb(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return De(n),t===null&&ot&&(l=n.stateNode=vb(n.type,n.pendingProps,we.current),dn=n,ss=!0,f=jt,oa(n.type)?(Af=f,jt=as(l.firstChild)):jt=f),fn(t,n,n.pendingProps.children,i),pu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&ot&&((f=l=jt)&&(l=Qx(l,n.type,n.pendingProps,ss),l!==null?(n.stateNode=l,dn=n,jt=as(l.firstChild),ss=!1,f=!0):f=!1),f||Kr(n)),De(n),f=n.type,g=n.pendingProps,w=t!==null?t.memoizedProps:null,l=g.children,xf(f,g)?l=null:w!==null&&xf(f,w)&&(n.flags|=32),n.memoizedState!==null&&(f=vh(t,n,px,null,null,i),Nl._currentValue=f),pu(t,n),fn(t,n,l,i),n.child;case 6:return t===null&&ot&&((t=i=jt)&&(i=ew(i,n.pendingProps,ss),i!==null?(n.stateNode=i,dn=n,jt=null,t=!0):t=!1),t||Kr(n)),null;case 13:return lg(t,n,i);case 4:return Ee(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=qa(n,null,l,i):fn(t,n,l,i),n.child;case 11:return Qm(t,n,n.type,n.pendingProps,i);case 7:return fn(t,n,n.pendingProps,i),n.child;case 8:return fn(t,n,n.pendingProps.children,i),n.child;case 12:return fn(t,n,n.pendingProps.children,i),n.child;case 10:return l=n.pendingProps,Jr(n,n.type,l.value),fn(t,n,l.children,i),n.child;case 9:return f=n.type._context,l=n.pendingProps.children,$a(n),f=hn(f),l=l(f),n.flags|=1,fn(t,n,l,i),n.child;case 14:return eg(t,n,n.type,n.pendingProps,i);case 15:return tg(t,n,n.type,n.pendingProps,i);case 19:return ug(t,n,i);case 31:return wx(t,n,i);case 22:return ng(t,n,i,n.pendingProps);case 24:return $a(n),l=hn(Gt),t===null?(f=ch(),f===null&&(f=At,g=oh(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=i),f=g),n.memoizedState={parent:l,cache:f},dh(n),Jr(n,Gt,f)):((t.lanes&i)!==0&&(hh(t,n),ll(n,null,null,i),ol()),f=t.memoizedState,g=n.memoizedState,f.parent!==l?(f={parent:l,cache:l},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Jr(n,Gt,l)):(l=g.cache,Jr(n,Gt,l),l!==f.cache&&ih(n,[Gt],i,!0))),fn(t,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function pr(t){t.flags|=4}function Kh(t,n,i,l,f){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(Pg())t.flags|=8192;else throw Ha=Qc,uh}else t.flags&=-16777217}function hg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Tb(n))if(Pg())t.flags|=8192;else throw Ha=Qc,uh}function gu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?_i():536870912,t.lanes|=n,Zi|=n)}function pl(t,n){if(!ot)switch(t.tailMode){case"hidden":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Rt(t){var n=t.alternate!==null&&t.alternate.child===t.child,i=0,l=0;if(n)for(var f=t.child;f!==null;)i|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)i|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=i,n}function Sx(t,n,i){var l=n.pendingProps;switch(th(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(n),null;case 1:return Rt(n),null;case 3:return i=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ur(Gt),Pe(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(zi(n)?pr(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,sh())),Rt(n),null;case 26:var f=n.type,g=n.memoizedState;return t===null?(pr(n),g!==null?(Rt(n),hg(n,g)):(Rt(n),Kh(n,f,null,l,i))):g?g!==t.memoizedState?(pr(n),Rt(n),hg(n,g)):(Rt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&pr(n),Rt(n),Kh(n,f,t,l,i)),null;case 27:if(Fe(n),i=we.current,f=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&pr(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Rt(n),null}t=Z.current,zi(n)?q0(n):(t=vb(f,l,i),n.stateNode=t,pr(n))}return Rt(n),null;case 5:if(Fe(n),f=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&pr(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Rt(n),null}if(g=Z.current,zi(n))q0(n);else{var w=Ru(we.current);switch(g){case 1:g=w.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:g=w.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":g=w.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":g=w.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":g=w.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof l.is=="string"?w.createElement("select",{is:l.is}):w.createElement("select"),l.multiple?g.multiple=!0:l.size&&(g.size=l.size);break;default:g=typeof l.is=="string"?w.createElement(f,{is:l.is}):w.createElement(f)}}g[Ct]=n,g[rn]=l;e:for(w=n.child;w!==null;){if(w.tag===5||w.tag===6)g.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===n)break e;for(;w.sibling===null;){if(w.return===null||w.return===n)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}n.stateNode=g;e:switch(pn(g,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&pr(n)}}return Rt(n),Kh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,i),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&pr(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=we.current,zi(n)){if(t=n.stateNode,i=n.memoizedProps,l=null,f=dn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Ct]=n,t=!!(t.nodeValue===i||l!==null&&l.suppressHydrationWarning===!0||lb(t.nodeValue,i)),t||Kr(n,!0)}else t=Ru(t).createTextNode(l),t[Ct]=n,n.stateNode=t}return Rt(n),null;case 31:if(i=n.memoizedState,t===null||t.memoizedState!==null){if(l=zi(n),i!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Ct]=n}else za(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Rt(n),t=!1}else i=sh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),t=!0;if(!t)return n.flags&256?(zn(n),n):(zn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Rt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=zi(n),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Ct]=n}else za(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Rt(n),f=!1}else f=sh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(zn(n),n):(zn(n),null)}return zn(n),(n.flags&128)!==0?(n.lanes=i,n):(i=l!==null,t=t!==null&&t.memoizedState!==null,i&&(l=n.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==f&&(l.flags|=2048)),i!==t&&i&&(n.child.flags|=8192),gu(n,n.updateQueue),Rt(n),null);case 4:return Pe(),t===null&&gf(n.stateNode.containerInfo),Rt(n),null;case 10:return ur(n.type),Rt(n),null;case 19:if(K($t),l=n.memoizedState,l===null)return Rt(n),null;if(f=(n.flags&128)!==0,g=l.rendering,g===null)if(f)pl(l,!1);else{if(Pt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(g=su(t),g!==null){for(n.flags|=128,pl(l,!1),t=g.updateQueue,n.updateQueue=t,gu(n,t),n.subtreeFlags=0,t=i,i=n.child;i!==null;)B0(i,t),i=i.sibling;return ee($t,$t.current&1|2),ot&&lr(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ne()>xu&&(n.flags|=128,f=!0,pl(l,!1),n.lanes=4194304)}else{if(!f)if(t=su(g),t!==null){if(n.flags|=128,f=!0,t=t.updateQueue,n.updateQueue=t,gu(n,t),pl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!g.alternate&&!ot)return Rt(n),null}else 2*Ne()-l.renderingStartTime>xu&&i!==536870912&&(n.flags|=128,f=!0,pl(l,!1),n.lanes=4194304);l.isBackwards?(g.sibling=n.child,n.child=g):(t=l.last,t!==null?t.sibling=g:n.child=g,l.last=g)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ne(),t.sibling=null,i=$t.current,ee($t,f?i&1|2:i&1),ot&&lr(n,l.treeForkCount),t):(Rt(n),null);case 22:case 23:return zn(n),gh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(i&536870912)!==0&&(n.flags&128)===0&&(Rt(n),n.subtreeFlags&6&&(n.flags|=8192)):Rt(n),i=n.updateQueue,i!==null&&gu(n,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==i&&(n.flags|=2048),t!==null&&K(Fa),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),ur(Gt),Rt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Ex(t,n){switch(th(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ur(Gt),Pe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Fe(n),null;case 31:if(n.memoizedState!==null){if(zn(n),n.alternate===null)throw Error(a(340));za()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(zn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));za()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K($t),null;case 4:return Pe(),null;case 10:return ur(n.type),null;case 22:case 23:return zn(n),gh(),t!==null&&K(Fa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ur(Gt),null;case 25:return null;default:return null}}function fg(t,n){switch(th(n),n.tag){case 3:ur(Gt),Pe();break;case 26:case 27:case 5:Fe(n);break;case 4:Pe();break;case 31:n.memoizedState!==null&&zn(n);break;case 13:zn(n);break;case 19:K($t);break;case 10:ur(n.type);break;case 22:case 23:zn(n),gh(),t!==null&&K(Fa);break;case 24:ur(Gt)}}function ml(t,n){try{var i=n.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var f=l.next;i=f;do{if((i.tag&t)===t){l=void 0;var g=i.create,w=i.inst;l=g(),w.destroy=l}i=i.next}while(i!==f)}}catch(z){_t(n,n.return,z)}}function ea(t,n,i){try{var l=n.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var g=f.next;l=g;do{if((l.tag&t)===t){var w=l.inst,z=w.destroy;if(z!==void 0){w.destroy=void 0,f=n;var W=i,ue=z;try{ue()}catch(_e){_t(f,W,_e)}}}l=l.next}while(l!==g)}}catch(_e){_t(n,n.return,_e)}}function pg(t){var n=t.updateQueue;if(n!==null){var i=t.stateNode;try{rm(n,i)}catch(l){_t(t,t.return,l)}}}function mg(t,n,i){i.props=Ka(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(l){_t(t,n,l)}}function gl(t,n){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof i=="function"?t.refCleanup=i(l):i.current=l}}catch(f){_t(t,n,f)}}function Vs(t,n){var i=t.ref,l=t.refCleanup;if(i!==null)if(typeof l=="function")try{l()}catch(f){_t(t,n,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){_t(t,n,f)}else i.current=null}function gg(t){var n=t.type,i=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&l.focus();break e;case"img":i.src?l.src=i.src:i.srcSet&&(l.srcset=i.srcSet)}}catch(f){_t(t,t.return,f)}}function Jh(t,n,i){try{var l=t.stateNode;Kx(l,t.type,i,n),l[rn]=n}catch(f){_t(t,t.return,f)}}function bg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&oa(t.type)||t.tag===4}function Yh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&oa(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wh(t,n,i){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(t),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=ds));else if(l!==4&&(l===27&&oa(t.type)&&(i=t.stateNode,n=null),t=t.child,t!==null))for(Wh(t,n,i),t=t.sibling;t!==null;)Wh(t,n,i),t=t.sibling}function bu(t,n,i){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?i.insertBefore(t,n):i.appendChild(t);else if(l!==4&&(l===27&&oa(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(bu(t,n,i),t=t.sibling;t!==null;)bu(t,n,i),t=t.sibling}function yg(t){var n=t.stateNode,i=t.memoizedProps;try{for(var l=t.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);pn(n,l,i),n[Ct]=t,n[rn]=i}catch(g){_t(t,t.return,g)}}var mr=!1,Yt=!1,Xh=!1,vg=typeof WeakSet=="function"?WeakSet:Set,on=null;function Ax(t,n){if(t=t.containerInfo,vf=Pu,t=R0(t),Hd(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var f=l.anchorOffset,g=l.focusNode;l=l.focusOffset;try{i.nodeType,g.nodeType}catch{i=null;break e}var w=0,z=-1,W=-1,ue=0,_e=0,Se=t,he=null;t:for(;;){for(var be;Se!==i||f!==0&&Se.nodeType!==3||(z=w+f),Se!==g||l!==0&&Se.nodeType!==3||(W=w+l),Se.nodeType===3&&(w+=Se.nodeValue.length),(be=Se.firstChild)!==null;)he=Se,Se=be;for(;;){if(Se===t)break t;if(he===i&&++ue===f&&(z=w),he===g&&++_e===l&&(W=w),(be=Se.nextSibling)!==null)break;Se=he,he=Se.parentNode}Se=be}i=z===-1||W===-1?null:{start:z,end:W}}else i=null}i=i||{start:0,end:0}}else i=null;for(_f={focusedElem:t,selectionRange:i},Pu=!1,on=n;on!==null;)if(n=on,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,on=t;else for(;on!==null;){switch(n=on,g=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(i=0;i<t.length;i++)f=t[i],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,i=n,f=g.memoizedProps,g=g.memoizedState,l=i.stateNode;try{var Ie=Ka(i.type,f);t=l.getSnapshotBeforeUpdate(Ie,g),l.__reactInternalSnapshotBeforeUpdate=t}catch($e){_t(i,i.return,$e)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,i=t.nodeType,i===9)kf(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":kf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,on=t;break}on=n.return}}function _g(t,n,i){var l=i.flags;switch(i.tag){case 0:case 11:case 15:br(t,i),l&4&&ml(5,i);break;case 1:if(br(t,i),l&4)if(t=i.stateNode,n===null)try{t.componentDidMount()}catch(w){_t(i,i.return,w)}else{var f=Ka(i.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(f,n,t.__reactInternalSnapshotBeforeUpdate)}catch(w){_t(i,i.return,w)}}l&64&&pg(i),l&512&&gl(i,i.return);break;case 3:if(br(t,i),l&64&&(t=i.updateQueue,t!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{rm(t,n)}catch(w){_t(i,i.return,w)}}break;case 27:n===null&&l&4&&yg(i);case 26:case 5:br(t,i),n===null&&l&4&&gg(i),l&512&&gl(i,i.return);break;case 12:br(t,i);break;case 31:br(t,i),l&4&&kg(t,i);break;case 13:br(t,i),l&4&&Sg(t,i),l&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=Lx.bind(null,i),tw(t,i))));break;case 22:if(l=i.memoizedState!==null||mr,!l){n=n!==null&&n.memoizedState!==null||Yt,f=mr;var g=Yt;mr=l,(Yt=n)&&!g?yr(t,i,(i.subtreeFlags&8772)!==0):br(t,i),mr=f,Yt=g}break;case 30:break;default:br(t,i)}}function xg(t){var n=t.alternate;n!==null&&(t.alternate=null,xg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&wi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ot=null,Tn=!1;function gr(t,n,i){for(i=i.child;i!==null;)wg(t,n,i),i=i.sibling}function wg(t,n,i){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(it,i)}catch{}switch(i.tag){case 26:Yt||Vs(i,n),gr(t,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Yt||Vs(i,n);var l=Ot,f=Tn;oa(i.type)&&(Ot=i.stateNode,Tn=!1),gr(t,n,i),El(i.stateNode),Ot=l,Tn=f;break;case 5:Yt||Vs(i,n);case 6:if(l=Ot,f=Tn,Ot=null,gr(t,n,i),Ot=l,Tn=f,Ot!==null)if(Tn)try{(Ot.nodeType===9?Ot.body:Ot.nodeName==="HTML"?Ot.ownerDocument.body:Ot).removeChild(i.stateNode)}catch(g){_t(i,n,g)}else try{Ot.removeChild(i.stateNode)}catch(g){_t(i,n,g)}break;case 18:Ot!==null&&(Tn?(t=Ot,pb(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),io(t)):pb(Ot,i.stateNode));break;case 4:l=Ot,f=Tn,Ot=i.stateNode.containerInfo,Tn=!0,gr(t,n,i),Ot=l,Tn=f;break;case 0:case 11:case 14:case 15:ea(2,i,n),Yt||ea(4,i,n),gr(t,n,i);break;case 1:Yt||(Vs(i,n),l=i.stateNode,typeof l.componentWillUnmount=="function"&&mg(i,n,l)),gr(t,n,i);break;case 21:gr(t,n,i);break;case 22:Yt=(l=Yt)||i.memoizedState!==null,gr(t,n,i),Yt=l;break;default:gr(t,n,i)}}function kg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{io(t)}catch(i){_t(n,n.return,i)}}}function Sg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{io(t)}catch(i){_t(n,n.return,i)}}function Tx(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new vg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new vg),n;default:throw Error(a(435,t.tag))}}function yu(t,n){var i=Tx(t);n.forEach(function(l){if(!i.has(l)){i.add(l);var f=Ux.bind(null,t,l);l.then(f,f)}})}function Nn(t,n){var i=n.deletions;if(i!==null)for(var l=0;l<i.length;l++){var f=i[l],g=t,w=n,z=w;e:for(;z!==null;){switch(z.tag){case 27:if(oa(z.type)){Ot=z.stateNode,Tn=!1;break e}break;case 5:Ot=z.stateNode,Tn=!1;break e;case 3:case 4:Ot=z.stateNode.containerInfo,Tn=!0;break e}z=z.return}if(Ot===null)throw Error(a(160));wg(g,w,f),Ot=null,Tn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Eg(n,t),n=n.sibling}var bs=null;function Eg(t,n){var i=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Nn(n,t),Cn(t),l&4&&(ea(3,t,t.return),ml(3,t),ea(5,t,t.return));break;case 1:Nn(n,t),Cn(t),l&512&&(Yt||i===null||Vs(i,i.return)),l&64&&mr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?l:i.concat(l))));break;case 26:var f=bs;if(Nn(n,t),Cn(t),l&512&&(Yt||i===null||Vs(i,i.return)),l&4){var g=i!==null?i.memoizedState:null;if(l=t.memoizedState,i===null)if(l===null)if(t.stateNode===null){e:{l=t.type,i=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":g=f.getElementsByTagName("title")[0],(!g||g[js]||g[Ct]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(l),f.head.insertBefore(g,f.querySelector("head > title"))),pn(g,l,i),g[Ct]=t,Ht(g),l=g;break e;case"link":var w=Eb("link","href",f).get(l+(i.href||""));if(w){for(var z=0;z<w.length;z++)if(g=w[z],g.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&g.getAttribute("rel")===(i.rel==null?null:i.rel)&&g.getAttribute("title")===(i.title==null?null:i.title)&&g.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){w.splice(z,1);break t}}g=f.createElement(l),pn(g,l,i),f.head.appendChild(g);break;case"meta":if(w=Eb("meta","content",f).get(l+(i.content||""))){for(z=0;z<w.length;z++)if(g=w[z],g.getAttribute("content")===(i.content==null?null:""+i.content)&&g.getAttribute("name")===(i.name==null?null:i.name)&&g.getAttribute("property")===(i.property==null?null:i.property)&&g.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&g.getAttribute("charset")===(i.charSet==null?null:i.charSet)){w.splice(z,1);break t}}g=f.createElement(l),pn(g,l,i),f.head.appendChild(g);break;default:throw Error(a(468,l))}g[Ct]=t,Ht(g),l=g}t.stateNode=l}else Ab(f,t.type,t.stateNode);else t.stateNode=Sb(f,l,t.memoizedProps);else g!==l?(g===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):g.count--,l===null?Ab(f,t.type,t.stateNode):Sb(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Jh(t,t.memoizedProps,i.memoizedProps)}break;case 27:Nn(n,t),Cn(t),l&512&&(Yt||i===null||Vs(i,i.return)),i!==null&&l&4&&Jh(t,t.memoizedProps,i.memoizedProps);break;case 5:if(Nn(n,t),Cn(t),l&512&&(Yt||i===null||Vs(i,i.return)),t.flags&32){f=t.stateNode;try{An(f,"")}catch(Ie){_t(t,t.return,Ie)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Jh(t,f,i!==null?i.memoizedProps:f)),l&1024&&(Xh=!0);break;case 6:if(Nn(n,t),Cn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,i=t.stateNode;try{i.nodeValue=l}catch(Ie){_t(t,t.return,Ie)}}break;case 3:if(Iu=null,f=bs,bs=Du(n.containerInfo),Nn(n,t),bs=f,Cn(t),l&4&&i!==null&&i.memoizedState.isDehydrated)try{io(n.containerInfo)}catch(Ie){_t(t,t.return,Ie)}Xh&&(Xh=!1,Ag(t));break;case 4:l=bs,bs=Du(t.stateNode.containerInfo),Nn(n,t),Cn(t),bs=l;break;case 12:Nn(n,t),Cn(t);break;case 31:Nn(n,t),Cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yu(t,l)));break;case 13:Nn(n,t),Cn(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(_u=Ne()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yu(t,l)));break;case 22:f=t.memoizedState!==null;var W=i!==null&&i.memoizedState!==null,ue=mr,_e=Yt;if(mr=ue||f,Yt=_e||W,Nn(n,t),Yt=_e,mr=ue,Cn(t),l&8192)e:for(n=t.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(i===null||W||mr||Yt||Ja(t)),i=null,n=t;;){if(n.tag===5||n.tag===26){if(i===null){W=i=n;try{if(g=W.stateNode,f)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{z=W.stateNode;var Se=W.memoizedProps.style,he=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;z.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(Ie){_t(W,W.return,Ie)}}}else if(n.tag===6){if(i===null){W=n;try{W.stateNode.nodeValue=f?"":W.memoizedProps}catch(Ie){_t(W,W.return,Ie)}}}else if(n.tag===18){if(i===null){W=n;try{var be=W.stateNode;f?mb(be,!0):mb(W.stateNode,!1)}catch(Ie){_t(W,W.return,Ie)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(i=l.retryQueue,i!==null&&(l.retryQueue=null,yu(t,i))));break;case 19:Nn(n,t),Cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yu(t,l)));break;case 30:break;case 21:break;default:Nn(n,t),Cn(t)}}function Cn(t){var n=t.flags;if(n&2){try{for(var i,l=t.return;l!==null;){if(bg(l)){i=l;break}l=l.return}if(i==null)throw Error(a(160));switch(i.tag){case 27:var f=i.stateNode,g=Yh(t);bu(t,g,f);break;case 5:var w=i.stateNode;i.flags&32&&(An(w,""),i.flags&=-33);var z=Yh(t);bu(t,z,w);break;case 3:case 4:var W=i.stateNode.containerInfo,ue=Yh(t);Wh(t,ue,W);break;default:throw Error(a(161))}}catch(_e){_t(t,t.return,_e)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ag(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ag(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function br(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)_g(t,n.alternate,n),n=n.sibling}function Ja(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ea(4,n,n.return),Ja(n);break;case 1:Vs(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&mg(n,n.return,i),Ja(n);break;case 27:El(n.stateNode);case 26:case 5:Vs(n,n.return),Ja(n);break;case 22:n.memoizedState===null&&Ja(n);break;case 30:Ja(n);break;default:Ja(n)}t=t.sibling}}function yr(t,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,f=t,g=n,w=g.flags;switch(g.tag){case 0:case 11:case 15:yr(f,g,i),ml(4,g);break;case 1:if(yr(f,g,i),l=g,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(ue){_t(l,l.return,ue)}if(l=g,f=l.updateQueue,f!==null){var z=l.stateNode;try{var W=f.shared.hiddenCallbacks;if(W!==null)for(f.shared.hiddenCallbacks=null,f=0;f<W.length;f++)sm(W[f],z)}catch(ue){_t(l,l.return,ue)}}i&&w&64&&pg(g),gl(g,g.return);break;case 27:yg(g);case 26:case 5:yr(f,g,i),i&&l===null&&w&4&&gg(g),gl(g,g.return);break;case 12:yr(f,g,i);break;case 31:yr(f,g,i),i&&w&4&&kg(f,g);break;case 13:yr(f,g,i),i&&w&4&&Sg(f,g);break;case 22:g.memoizedState===null&&yr(f,g,i),gl(g,g.return);break;case 30:break;default:yr(f,g,i)}n=n.sibling}}function Zh(t,n){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&nl(i))}function Qh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&nl(t))}function ys(t,n,i,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Tg(t,n,i,l),n=n.sibling}function Tg(t,n,i,l){var f=n.flags;switch(n.tag){case 0:case 11:case 15:ys(t,n,i,l),f&2048&&ml(9,n);break;case 1:ys(t,n,i,l);break;case 3:ys(t,n,i,l),f&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&nl(t)));break;case 12:if(f&2048){ys(t,n,i,l),t=n.stateNode;try{var g=n.memoizedProps,w=g.id,z=g.onPostCommit;typeof z=="function"&&z(w,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(W){_t(n,n.return,W)}}else ys(t,n,i,l);break;case 31:ys(t,n,i,l);break;case 13:ys(t,n,i,l);break;case 23:break;case 22:g=n.stateNode,w=n.alternate,n.memoizedState!==null?g._visibility&2?ys(t,n,i,l):bl(t,n):g._visibility&2?ys(t,n,i,l):(g._visibility|=2,Yi(t,n,i,l,(n.subtreeFlags&10256)!==0||!1)),f&2048&&Zh(w,n);break;case 24:ys(t,n,i,l),f&2048&&Qh(n.alternate,n);break;default:ys(t,n,i,l)}}function Yi(t,n,i,l,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var g=t,w=n,z=i,W=l,ue=w.flags;switch(w.tag){case 0:case 11:case 15:Yi(g,w,z,W,f),ml(8,w);break;case 23:break;case 22:var _e=w.stateNode;w.memoizedState!==null?_e._visibility&2?Yi(g,w,z,W,f):bl(g,w):(_e._visibility|=2,Yi(g,w,z,W,f)),f&&ue&2048&&Zh(w.alternate,w);break;case 24:Yi(g,w,z,W,f),f&&ue&2048&&Qh(w.alternate,w);break;default:Yi(g,w,z,W,f)}n=n.sibling}}function bl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=t,l=n,f=l.flags;switch(l.tag){case 22:bl(i,l),f&2048&&Zh(l.alternate,l);break;case 24:bl(i,l),f&2048&&Qh(l.alternate,l);break;default:bl(i,l)}n=n.sibling}}var yl=8192;function Wi(t,n,i){if(t.subtreeFlags&yl)for(t=t.child;t!==null;)Ng(t,n,i),t=t.sibling}function Ng(t,n,i){switch(t.tag){case 26:Wi(t,n,i),t.flags&yl&&t.memoizedState!==null&&fw(i,bs,t.memoizedState,t.memoizedProps);break;case 5:Wi(t,n,i);break;case 3:case 4:var l=bs;bs=Du(t.stateNode.containerInfo),Wi(t,n,i),bs=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=yl,yl=16777216,Wi(t,n,i),yl=l):Wi(t,n,i));break;default:Wi(t,n,i)}}function Cg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function vl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];on=l,Rg(l,t)}Cg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jg(t),t=t.sibling}function jg(t){switch(t.tag){case 0:case 11:case 15:vl(t),t.flags&2048&&ea(9,t,t.return);break;case 3:vl(t);break;case 12:vl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,vu(t)):vl(t);break;default:vl(t)}}function vu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var l=n[i];on=l,Rg(l,t)}Cg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ea(8,n,n.return),vu(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,vu(n));break;default:vu(n)}t=t.sibling}}function Rg(t,n){for(;on!==null;){var i=on;switch(i.tag){case 0:case 11:case 15:ea(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var l=i.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:nl(i.memoizedState.cache)}if(l=i.child,l!==null)l.return=i,on=l;else e:for(i=t;on!==null;){l=on;var f=l.sibling,g=l.return;if(xg(l),l===i){on=null;break e}if(f!==null){f.return=g,on=f;break e}on=g}}}var Nx={getCacheForType:function(t){var n=hn(Gt),i=n.data.get(t);return i===void 0&&(i=t(),n.data.set(t,i)),i},cacheSignal:function(){return hn(Gt).controller.signal}},Cx=typeof WeakMap=="function"?WeakMap:Map,pt=0,At=null,nt=null,rt=0,vt=0,Bn=null,ta=!1,Xi=!1,ef=!1,vr=0,Pt=0,na=0,Ya=0,tf=0,$n=0,Zi=0,_l=null,jn=null,nf=!1,_u=0,Dg=0,xu=1/0,wu=null,sa=null,en=0,ra=null,Qi=null,_r=0,sf=0,rf=null,Og=null,xl=0,af=null;function Fn(){return(pt&2)!==0&&rt!==0?rt&-rt:te.T!==null?hf():On()}function Ig(){if($n===0)if((rt&536870912)===0||ot){var t=Kn;Kn<<=1,(Kn&3932160)===0&&(Kn=262144),$n=t}else $n=536870912;return t=Pn.current,t!==null&&(t.flags|=32),$n}function Rn(t,n,i){(t===At&&(vt===2||vt===9)||t.cancelPendingCommit!==null)&&(eo(t,0),aa(t,rt,$n,!1)),sr(t,i),((pt&2)===0||t!==At)&&(t===At&&((pt&2)===0&&(Ya|=i),Pt===4&&aa(t,rt,$n,!1)),Hs(t))}function Lg(t,n,i){if((pt&6)!==0)throw Error(a(327));var l=!i&&(n&127)===0&&(n&t.expiredLanes)===0||Sn(t,n),f=l?Dx(t,n):lf(t,n,!0),g=l;do{if(f===0){Xi&&!l&&aa(t,n,0,!1);break}else{if(i=t.current.alternate,g&&!jx(i)){f=lf(t,n,!1),g=!1;continue}if(f===2){if(g=n,t.errorRecoveryDisabledLanes&g)var w=0;else w=t.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){n=w;e:{var z=t;f=_l;var W=z.current.memoizedState.isDehydrated;if(W&&(eo(z,w).flags|=256),w=lf(z,w,!1),w!==2){if(ef&&!W){z.errorRecoveryDisabledLanes|=g,Ya|=g,f=4;break e}g=jn,jn=f,g!==null&&(jn===null?jn=g:jn.push.apply(jn,g))}f=w}if(g=!1,f!==2)continue}}if(f===1){eo(t,0),aa(t,n,0,!0);break}e:{switch(l=t,g=f,g){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:aa(l,n,$n,!ta);break e;case 2:jn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(f=_u+300-Ne(),10<f)){if(aa(l,n,$n,!ta),Jn(l,0,!0)!==0)break e;_r=n,l.timeoutHandle=hb(Ug.bind(null,l,i,jn,wu,nf,n,$n,Ya,Zi,ta,g,"Throttled",-0,0),f);break e}Ug(l,i,jn,wu,nf,n,$n,Ya,Zi,ta,g,null,-0,0)}}break}while(!0);Hs(t)}function Ug(t,n,i,l,f,g,w,z,W,ue,_e,Se,he,be){if(t.timeoutHandle=-1,Se=n.subtreeFlags,Se&8192||(Se&16785408)===16785408){Se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ds},Ng(n,g,Se);var Ie=(g&62914560)===g?_u-Ne():(g&4194048)===g?Dg-Ne():0;if(Ie=pw(Se,Ie),Ie!==null){_r=g,t.cancelPendingCommit=Ie(Hg.bind(null,t,n,g,i,l,f,w,z,W,_e,Se,null,he,be)),aa(t,g,w,!ue);return}}Hg(t,n,g,i,l,f,w,z,W)}function jx(t){for(var n=t;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var l=0;l<i.length;l++){var f=i[l],g=f.getSnapshot;f=f.value;try{if(!Un(g(),f))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function aa(t,n,i,l){n&=~tf,n&=~Ya,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var f=n;0<f;){var g=31-dt(f),w=1<<g;l[g]=-1,f&=~w}i!==0&&fe(t,i,n)}function ku(){return(pt&6)===0?(wl(0),!1):!0}function of(){if(nt!==null){if(vt===0)var t=nt.return;else t=nt,cr=Ba=null,wh(t),Hi=null,rl=0,t=nt;for(;t!==null;)fg(t.alternate,t),t=t.return;nt=null}}function eo(t,n){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,Wx(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),_r=0,of(),At=t,nt=i=or(t.current,null),rt=n,vt=0,Bn=null,ta=!1,Xi=Sn(t,n),ef=!1,Zi=$n=tf=Ya=na=Pt=0,jn=_l=null,nf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var f=31-dt(l),g=1<<f;n|=t[f],l&=~g}return vr=n,Hc(),i}function Mg(t,n){We=null,te.H=hl,n===Vi||n===Zc?(n=Q0(),vt=3):n===uh?(n=Q0(),vt=4):vt=n===Ph?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Bn=n,nt===null&&(Pt=1,hu(t,es(n,t.current)))}function Pg(){var t=Pn.current;return t===null?!0:(rt&4194048)===rt?rs===null:(rt&62914560)===rt||(rt&536870912)!==0?t===rs:!1}function zg(){var t=te.H;return te.H=hl,t===null?hl:t}function Bg(){var t=te.A;return te.A=Nx,t}function Su(){Pt=4,ta||(rt&4194048)!==rt&&Pn.current!==null||(Xi=!0),(na&134217727)===0&&(Ya&134217727)===0||At===null||aa(At,rt,$n,!1)}function lf(t,n,i){var l=pt;pt|=2;var f=zg(),g=Bg();(At!==t||rt!==n)&&(wu=null,eo(t,n)),n=!1;var w=Pt;e:do try{if(vt!==0&&nt!==null){var z=nt,W=Bn;switch(vt){case 8:of(),w=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(n=!0);var ue=vt;if(vt=0,Bn=null,to(t,z,W,ue),i&&Xi){w=0;break e}break;default:ue=vt,vt=0,Bn=null,to(t,z,W,ue)}}Rx(),w=Pt;break}catch(_e){Mg(t,_e)}while(!0);return n&&t.shellSuspendCounter++,cr=Ba=null,pt=l,te.H=f,te.A=g,nt===null&&(At=null,rt=0,Hc()),w}function Rx(){for(;nt!==null;)$g(nt)}function Dx(t,n){var i=pt;pt|=2;var l=zg(),f=Bg();At!==t||rt!==n?(wu=null,xu=Ne()+500,eo(t,n)):Xi=Sn(t,n);e:do try{if(vt!==0&&nt!==null){n=nt;var g=Bn;t:switch(vt){case 1:vt=0,Bn=null,to(t,n,g,1);break;case 2:case 9:if(X0(g)){vt=0,Bn=null,Fg(n);break}n=function(){vt!==2&&vt!==9||At!==t||(vt=7),Hs(t)},g.then(n,n);break e;case 3:vt=7;break e;case 4:vt=5;break e;case 7:X0(g)?(vt=0,Bn=null,Fg(n)):(vt=0,Bn=null,to(t,n,g,7));break;case 5:var w=null;switch(nt.tag){case 26:w=nt.memoizedState;case 5:case 27:var z=nt;if(w?Tb(w):z.stateNode.complete){vt=0,Bn=null;var W=z.sibling;if(W!==null)nt=W;else{var ue=z.return;ue!==null?(nt=ue,Eu(ue)):nt=null}break t}}vt=0,Bn=null,to(t,n,g,5);break;case 6:vt=0,Bn=null,to(t,n,g,6);break;case 8:of(),Pt=6;break e;default:throw Error(a(462))}}Ox();break}catch(_e){Mg(t,_e)}while(!0);return cr=Ba=null,te.H=l,te.A=f,pt=i,nt!==null?0:(At=null,rt=0,Hc(),Pt)}function Ox(){for(;nt!==null&&!oe();)$g(nt)}function $g(t){var n=dg(t.alternate,t,vr);t.memoizedProps=t.pendingProps,n===null?Eu(t):nt=n}function Fg(t){var n=t,i=n.alternate;switch(n.tag){case 15:case 0:n=ag(i,n,n.pendingProps,n.type,void 0,rt);break;case 11:n=ag(i,n,n.pendingProps,n.type.render,n.ref,rt);break;case 5:wh(n);default:fg(i,n),n=nt=B0(n,vr),n=dg(i,n,vr)}t.memoizedProps=t.pendingProps,n===null?Eu(t):nt=n}function to(t,n,i,l){cr=Ba=null,wh(n),Hi=null,rl=0;var f=n.return;try{if(xx(t,f,n,i,rt)){Pt=1,hu(t,es(i,t.current)),nt=null;return}}catch(g){if(f!==null)throw nt=f,g;Pt=1,hu(t,es(i,t.current)),nt=null;return}n.flags&32768?(ot||l===1?t=!0:Xi||(rt&536870912)!==0?t=!1:(ta=t=!0,(l===2||l===9||l===3||l===6)&&(l=Pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Vg(n,t)):Eu(n)}function Eu(t){var n=t;do{if((n.flags&32768)!==0){Vg(n,ta);return}t=n.return;var i=Sx(n.alternate,n,vr);if(i!==null){nt=i;return}if(n=n.sibling,n!==null){nt=n;return}nt=n=t}while(n!==null);Pt===0&&(Pt=5)}function Vg(t,n){do{var i=Ex(t.alternate,t);if(i!==null){i.flags&=32767,nt=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(t=t.sibling,t!==null)){nt=t;return}nt=t=i}while(t!==null);Pt=6,nt=null}function Hg(t,n,i,l,f,g,w,z,W){t.cancelPendingCommit=null;do Au();while(en!==0);if((pt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(g=n.lanes|n.childLanes,g|=Yd,Io(t,i,g,w,z,W),t===At&&(nt=At=null,rt=0),Qi=n,ra=t,_r=i,sf=g,rf=f,Og=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Mx(Ge,function(){return Yg(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=te.T,te.T=null,f=Q.p,Q.p=2,w=pt,pt|=4;try{Ax(t,n,i)}finally{pt=w,Q.p=f,te.T=l}}en=1,qg(),Gg(),Kg()}}function qg(){if(en===1){en=0;var t=ra,n=Qi,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=te.T,te.T=null;var l=Q.p;Q.p=2;var f=pt;pt|=4;try{Eg(n,t);var g=_f,w=R0(t.containerInfo),z=g.focusedElem,W=g.selectionRange;if(w!==z&&z&&z.ownerDocument&&j0(z.ownerDocument.documentElement,z)){if(W!==null&&Hd(z)){var ue=W.start,_e=W.end;if(_e===void 0&&(_e=ue),"selectionStart"in z)z.selectionStart=ue,z.selectionEnd=Math.min(_e,z.value.length);else{var Se=z.ownerDocument||document,he=Se&&Se.defaultView||window;if(he.getSelection){var be=he.getSelection(),Ie=z.textContent.length,$e=Math.min(W.start,Ie),St=W.end===void 0?$e:Math.min(W.end,Ie);!be.extend&&$e>St&&(w=St,St=$e,$e=w);var ae=C0(z,$e),ne=C0(z,St);if(ae&&ne&&(be.rangeCount!==1||be.anchorNode!==ae.node||be.anchorOffset!==ae.offset||be.focusNode!==ne.node||be.focusOffset!==ne.offset)){var ce=Se.createRange();ce.setStart(ae.node,ae.offset),be.removeAllRanges(),$e>St?(be.addRange(ce),be.extend(ne.node,ne.offset)):(ce.setEnd(ne.node,ne.offset),be.addRange(ce))}}}}for(Se=[],be=z;be=be.parentNode;)be.nodeType===1&&Se.push({element:be,left:be.scrollLeft,top:be.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<Se.length;z++){var ke=Se[z];ke.element.scrollLeft=ke.left,ke.element.scrollTop=ke.top}}Pu=!!vf,_f=vf=null}finally{pt=f,Q.p=l,te.T=i}}t.current=n,en=2}}function Gg(){if(en===2){en=0;var t=ra,n=Qi,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=te.T,te.T=null;var l=Q.p;Q.p=2;var f=pt;pt|=4;try{_g(t,n.alternate,n)}finally{pt=f,Q.p=l,te.T=i}}en=3}}function Kg(){if(en===4||en===3){en=0,Te();var t=ra,n=Qi,i=_r,l=Og;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?en=5:(en=0,Qi=ra=null,Jg(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(sa=null),et(i),n=n.stateNode,tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(it,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=te.T,f=Q.p,Q.p=2,te.T=null;try{for(var g=t.onRecoverableError,w=0;w<l.length;w++){var z=l[w];g(z.value,{componentStack:z.stack})}}finally{te.T=n,Q.p=f}}(_r&3)!==0&&Au(),Hs(t),f=t.pendingLanes,(i&261930)!==0&&(f&42)!==0?t===af?xl++:(xl=0,af=t):xl=0,wl(0)}}function Jg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,nl(n)))}function Au(){return qg(),Gg(),Kg(),Yg()}function Yg(){if(en!==5)return!1;var t=ra,n=sf;sf=0;var i=et(_r),l=te.T,f=Q.p;try{Q.p=32>i?32:i,te.T=null,i=rf,rf=null;var g=ra,w=_r;if(en=0,Qi=ra=null,_r=0,(pt&6)!==0)throw Error(a(331));var z=pt;if(pt|=4,jg(g.current),Tg(g,g.current,w,i),pt=z,wl(0,!1),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(it,g)}catch{}return!0}finally{Q.p=f,te.T=l,Jg(t,n)}}function Wg(t,n,i){n=es(i,n),n=Mh(t.stateNode,n,2),t=Xr(t,n,2),t!==null&&(sr(t,2),Hs(t))}function _t(t,n,i){if(t.tag===3)Wg(t,t,i);else for(;n!==null;){if(n.tag===3){Wg(n,t,i);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(sa===null||!sa.has(l))){t=es(i,t),i=Xm(2),l=Xr(n,i,2),l!==null&&(Zm(i,l,n,t),sr(l,2),Hs(l));break}}n=n.return}}function cf(t,n,i){var l=t.pingCache;if(l===null){l=t.pingCache=new Cx;var f=new Set;l.set(n,f)}else f=l.get(n),f===void 0&&(f=new Set,l.set(n,f));f.has(i)||(ef=!0,f.add(i),t=Ix.bind(null,t,n,i),n.then(t,t))}function Ix(t,n,i){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,At===t&&(rt&i)===i&&(Pt===4||Pt===3&&(rt&62914560)===rt&&300>Ne()-_u?(pt&2)===0&&eo(t,0):tf|=i,Zi===rt&&(Zi=0)),Hs(t)}function Xg(t,n){n===0&&(n=_i()),t=Ma(t,n),t!==null&&(sr(t,n),Hs(t))}function Lx(t){var n=t.memoizedState,i=0;n!==null&&(i=n.retryLane),Xg(t,i)}function Ux(t,n){var i=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(i=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Xg(t,i)}function Mx(t,n){return de(t,n)}var Tu=null,no=null,uf=!1,Nu=!1,df=!1,ia=0;function Hs(t){t!==no&&t.next===null&&(no===null?Tu=no=t:no=no.next=t),Nu=!0,uf||(uf=!0,zx())}function wl(t,n){if(!df&&Nu){df=!0;do for(var i=!1,l=Tu;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var g=0;else{var w=l.suspendedLanes,z=l.pingedLanes;g=(1<<31-dt(42|t)+1)-1,g&=f&~(w&~z),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(i=!0,tb(l,g))}else g=rt,g=Jn(l,l===At?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(g&3)===0||Sn(l,g)||(i=!0,tb(l,g));l=l.next}while(i);df=!1}}function Px(){Zg()}function Zg(){Nu=uf=!1;var t=0;ia!==0&&Yx()&&(t=ia);for(var n=Ne(),i=null,l=Tu;l!==null;){var f=l.next,g=Qg(l,n);g===0?(l.next=null,i===null?Tu=f:i.next=f,f===null&&(no=i)):(i=l,(t!==0||(g&3)!==0)&&(Nu=!0)),l=f}en!==0&&en!==5||wl(t),ia!==0&&(ia=0)}function Qg(t,n){for(var i=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var w=31-dt(g),z=1<<w,W=f[w];W===-1?((z&i)===0||(z&l)!==0)&&(f[w]=vi(z,n)):W<=n&&(t.expiredLanes|=z),g&=~z}if(n=At,i=rt,i=Jn(t,t===n?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,i===0||t===n&&(vt===2||vt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&xe(l),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||Sn(t,i)){if(n=i&-i,n===t.callbackPriority)return n;switch(l!==null&&xe(l),et(i)){case 2:case 8:i=Ze;break;case 32:i=Ge;break;case 268435456:i=Gn;break;default:i=Ge}return l=eb.bind(null,t),i=de(i,l),t.callbackPriority=n,t.callbackNode=i,n}return l!==null&&l!==null&&xe(l),t.callbackPriority=2,t.callbackNode=null,2}function eb(t,n){if(en!==0&&en!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(Au()&&t.callbackNode!==i)return null;var l=rt;return l=Jn(t,t===At?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Lg(t,l,n),Qg(t,Ne()),t.callbackNode!=null&&t.callbackNode===i?eb.bind(null,t):null)}function tb(t,n){if(Au())return null;Lg(t,n,!0)}function zx(){Xx(function(){(pt&6)!==0?de(Le,Px):Zg()})}function hf(){if(ia===0){var t=$i;t===0&&(t=kn,kn<<=1,(kn&261888)===0&&(kn=256)),ia=t}return ia}function nb(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ai(""+t)}function sb(t,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,t.id&&i.setAttribute("form",t.id),n.parentNode.insertBefore(i,n),t=new FormData(t),i.parentNode.removeChild(i),t}function Bx(t,n,i,l,f){if(n==="submit"&&i&&i.stateNode===f){var g=nb((f[rn]||null).action),w=l.submitter;w&&(n=(n=w[rn]||null)?nb(n.formAction):w.getAttribute("formAction"),n!==null&&(g=n,w=null));var z=new Ps("action","action",null,l,f);t.push({event:z,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ia!==0){var W=w?sb(f,w):new FormData(f);Rh(i,{pending:!0,data:W,method:f.method,action:g},null,W)}}else typeof g=="function"&&(z.preventDefault(),W=w?sb(f,w):new FormData(f),Rh(i,{pending:!0,data:W,method:f.method,action:g},g,W))},currentTarget:f}]})}}for(var ff=0;ff<Jd.length;ff++){var pf=Jd[ff],$x=pf.toLowerCase(),Fx=pf[0].toUpperCase()+pf.slice(1);gs($x,"on"+Fx)}gs(I0,"onAnimationEnd"),gs(L0,"onAnimationIteration"),gs(U0,"onAnimationStart"),gs("dblclick","onDoubleClick"),gs("focusin","onFocus"),gs("focusout","onBlur"),gs(rx,"onTransitionRun"),gs(ax,"onTransitionStart"),gs(ix,"onTransitionCancel"),gs(M0,"onTransitionEnd"),Is("onMouseEnter",["mouseout","mouseover"]),Is("onMouseLeave",["mouseout","mouseover"]),Is("onPointerEnter",["pointerout","pointerover"]),Is("onPointerLeave",["pointerout","pointerover"]),Os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Os("onBeforeInput",["compositionend","keypress","textInput","paste"]),Os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kl));function rb(t,n){n=(n&4)!==0;for(var i=0;i<t.length;i++){var l=t[i],f=l.event;l=l.listeners;e:{var g=void 0;if(n)for(var w=l.length-1;0<=w;w--){var z=l[w],W=z.instance,ue=z.currentTarget;if(z=z.listener,W!==g&&f.isPropagationStopped())break e;g=z,f.currentTarget=ue;try{g(f)}catch(_e){Vc(_e)}f.currentTarget=null,g=W}else for(w=0;w<l.length;w++){if(z=l[w],W=z.instance,ue=z.currentTarget,z=z.listener,W!==g&&f.isPropagationStopped())break e;g=z,f.currentTarget=ue;try{g(f)}catch(_e){Vc(_e)}f.currentTarget=null,g=W}}}}function st(t,n){var i=n[xi];i===void 0&&(i=n[xi]=new Set);var l=t+"__bubble";i.has(l)||(ab(n,t,2,!1),i.add(l))}function mf(t,n,i){var l=0;n&&(l|=4),ab(i,t,l,n)}var Cu="_reactListening"+Math.random().toString(36).slice(2);function gf(t){if(!t[Cu]){t[Cu]=!0,Lo.forEach(function(i){i!=="selectionchange"&&(Vx.has(i)||mf(i,!1,t),mf(i,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Cu]||(n[Cu]=!0,mf("selectionchange",!1,n))}}function ab(t,n,i,l){switch(Ib(n)){case 2:var f=bw;break;case 8:f=yw;break;default:f=Rf}i=f.bind(null,n,i,t),f=void 0,!Ca||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(n,i,{capture:!0,passive:f}):t.addEventListener(n,i,!0):f!==void 0?t.addEventListener(n,i,{passive:f}):t.addEventListener(n,i,!1)}function bf(t,n,i,l,f){var g=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var z=l.stateNode.containerInfo;if(z===f)break;if(w===4)for(w=l.return;w!==null;){var W=w.tag;if((W===3||W===4)&&w.stateNode.containerInfo===f)return;w=w.return}for(;z!==null;){if(w=Rs(z),w===null)return;if(W=w.tag,W===5||W===6||W===26||W===27){l=g=w;continue e}z=z.parentNode}}l=l.return}$r(function(){var ue=g,_e=Xn(i),Se=[];e:{var he=P0.get(t);if(he!==void 0){var be=Ps,Ie=t;switch(t){case"keypress":if(Ra(i)===0)break e;case"keydown":case"keyup":be=$c;break;case"focusin":Ie="focus",be=Oa;break;case"focusout":Ie="blur",be=Oa;break;case"beforeblur":case"afterblur":be=Oa;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=Jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=Rc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=T;break;case I0:case L0:case U0:be=Oc;break;case M0:be=le;break;case"scroll":case"scrollend":be=Ko;break;case"wheel":be=Ce;break;case"copy":case"cut":case"paste":be=Ic;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=d;break;case"toggle":case"beforetoggle":be=Bt}var $e=(n&4)!==0,St=!$e&&(t==="scroll"||t==="scrollend"),ae=$e?he!==null?he+"Capture":null:he;$e=[];for(var ne=ue,ce;ne!==null;){var ke=ne;if(ce=ke.stateNode,ke=ke.tag,ke!==5&&ke!==26&&ke!==27||ce===null||ae===null||(ke=hs(ne,ae),ke!=null&&$e.push(Sl(ne,ke,ce))),St)break;ne=ne.return}0<$e.length&&(he=new be(he,Ie,null,i,_e),Se.push({event:he,listeners:$e}))}}if((n&7)===0){e:{if(he=t==="mouseover"||t==="pointerover",be=t==="mouseout"||t==="pointerout",he&&i!==Ho&&(Ie=i.relatedTarget||i.fromElement)&&(Rs(Ie)||Ie[Cs]))break e;if((be||he)&&(he=_e.window===_e?_e:(he=_e.ownerDocument)?he.defaultView||he.parentWindow:window,be?(Ie=i.relatedTarget||i.toElement,be=ue,Ie=Ie?Rs(Ie):null,Ie!==null&&(St=c(Ie),$e=Ie.tag,Ie!==St||$e!==5&&$e!==27&&$e!==6)&&(Ie=null)):(be=null,Ie=ue),be!==Ie)){if($e=Jo,ke="onMouseLeave",ae="onMouseEnter",ne="mouse",(t==="pointerout"||t==="pointerover")&&($e=d,ke="onPointerLeave",ae="onPointerEnter",ne="pointer"),St=be==null?he:In(be),ce=Ie==null?he:In(Ie),he=new $e(ke,ne+"leave",be,i,_e),he.target=St,he.relatedTarget=ce,ke=null,Rs(_e)===ue&&($e=new $e(ae,ne+"enter",Ie,i,_e),$e.target=ce,$e.relatedTarget=St,ke=$e),St=ke,be&&Ie)t:{for($e=Hx,ae=be,ne=Ie,ce=0,ke=ae;ke;ke=$e(ke))ce++;ke=0;for(var Be=ne;Be;Be=$e(Be))ke++;for(;0<ce-ke;)ae=$e(ae),ce--;for(;0<ke-ce;)ne=$e(ne),ke--;for(;ce--;){if(ae===ne||ne!==null&&ae===ne.alternate){$e=ae;break t}ae=$e(ae),ne=$e(ne)}$e=null}else $e=null;be!==null&&ib(Se,he,be,$e,!1),Ie!==null&&St!==null&&ib(Se,St,Ie,$e,!0)}}e:{if(he=ue?In(ue):window,be=he.nodeName&&he.nodeName.toLowerCase(),be==="select"||be==="input"&&he.type==="file")var ht=k0;else if(x0(he))if(S0)ht=tx;else{ht=Q_;var Ue=Z_}else be=he.nodeName,!be||be.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?ue&&Ei(ue.elementType)&&(ht=k0):ht=ex;if(ht&&(ht=ht(t,ue))){w0(Se,ht,i,_e);break e}Ue&&Ue(t,he,ue),t==="focusout"&&ue&&he.type==="number"&&ue.memoizedProps.value!=null&&$o(he,"number",he.value)}switch(Ue=ue?In(ue):window,t){case"focusin":(x0(Ue)||Ue.contentEditable==="true")&&(Oi=Ue,qd=ue,Qo=null);break;case"focusout":Qo=qd=Oi=null;break;case"mousedown":Gd=!0;break;case"contextmenu":case"mouseup":case"dragend":Gd=!1,D0(Se,i,_e);break;case"selectionchange":if(sx)break;case"keydown":case"keyup":D0(Se,i,_e)}var Xe;if(Ut)e:{switch(t){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else Di?Ri(t,i)&&(at="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(at="onCompositionStart");at&&(ps&&i.locale!=="ko"&&(Di||at!=="onCompositionStart"?at==="onCompositionEnd"&&Di&&(Xe=Go()):(Ms=_e,qo="value"in Ms?Ms.value:Ms.textContent,Di=!0)),Ue=ju(ue,at),0<Ue.length&&(at=new Bs(at,t,null,i,_e),Se.push({event:at,listeners:Ue}),Xe?at.data=Xe:(Xe=_0(i),Xe!==null&&(at.data=Xe)))),(Xe=ir?J_(t,i):Y_(t,i))&&(at=ju(ue,"onBeforeInput"),0<at.length&&(Ue=new Bs("onBeforeInput","beforeinput",null,i,_e),Se.push({event:Ue,listeners:at}),Ue.data=Xe)),Bx(Se,t,ue,i,_e)}rb(Se,n)})}function Sl(t,n,i){return{instance:t,listener:n,currentTarget:i}}function ju(t,n){for(var i=n+"Capture",l=[];t!==null;){var f=t,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=hs(t,i),f!=null&&l.unshift(Sl(t,f,g)),f=hs(t,n),f!=null&&l.push(Sl(t,f,g))),t.tag===3)return l;t=t.return}return[]}function Hx(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ib(t,n,i,l,f){for(var g=n._reactName,w=[];i!==null&&i!==l;){var z=i,W=z.alternate,ue=z.stateNode;if(z=z.tag,W!==null&&W===l)break;z!==5&&z!==26&&z!==27||ue===null||(W=ue,f?(ue=hs(i,g),ue!=null&&w.unshift(Sl(i,ue,W))):f||(ue=hs(i,g),ue!=null&&w.push(Sl(i,ue,W)))),i=i.return}w.length!==0&&t.push({event:n,listeners:w})}var qx=/\r\n?/g,Gx=/\u0000|\uFFFD/g;function ob(t){return(typeof t=="string"?t:""+t).replace(qx,`
`).replace(Gx,"")}function lb(t,n){return n=ob(n),ob(t)===n}function kt(t,n,i,l,f,g){switch(i){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||An(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&An(t,""+l);break;case"className":Ln(t,"class",l);break;case"tabIndex":Ln(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ln(t,i,l);break;case"style":Vo(t,l,g);break;case"data":if(n!=="object"){Ln(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||i!=="href")){t.removeAttribute(i);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(i);break}l=Ai(""+l),t.setAttribute(i,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(i==="formAction"?(n!=="input"&&kt(t,n,"name",f.name,f,null),kt(t,n,"formEncType",f.formEncType,f,null),kt(t,n,"formMethod",f.formMethod,f,null),kt(t,n,"formTarget",f.formTarget,f,null)):(kt(t,n,"encType",f.encType,f,null),kt(t,n,"method",f.method,f,null),kt(t,n,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(i);break}l=Ai(""+l),t.setAttribute(i,l);break;case"onClick":l!=null&&(t.onclick=ds);break;case"onScroll":l!=null&&st("scroll",t);break;case"onScrollEnd":l!=null&&st("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(i=l.__html,i!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=i}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}i=Ai(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,""+l):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":l===!0?t.setAttribute(i,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(i,l):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(i,l):t.removeAttribute(i);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(i):t.setAttribute(i,l);break;case"popover":st("beforetoggle",t),st("toggle",t),ki(t,"popover",l);break;case"xlinkActuate":qt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":qt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":qt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":qt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":qt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":qt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":qt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":qt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":qt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ki(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=jc.get(i)||i,ki(t,i,l))}}function yf(t,n,i,l,f,g){switch(i){case"style":Vo(t,l,g);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(i=l.__html,i!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=i}}break;case"children":typeof l=="string"?An(t,l):(typeof l=="number"||typeof l=="bigint")&&An(t,""+l);break;case"onScroll":l!=null&&st("scroll",t);break;case"onScrollEnd":l!=null&&st("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ds);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Uo.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),n=i.slice(2,f?i.length-7:void 0),g=t[rn]||null,g=g!=null?g[i]:null,typeof g=="function"&&t.removeEventListener(n,g,f),typeof l=="function")){typeof g!="function"&&g!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(n,l,f);break e}i in t?t[i]=l:l===!0?t.setAttribute(i,""):ki(t,i,l)}}}function pn(t,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",t),st("load",t);var l=!1,f=!1,g;for(g in i)if(i.hasOwnProperty(g)){var w=i[g];if(w!=null)switch(g){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:kt(t,n,g,w,i,null)}}f&&kt(t,n,"srcSet",i.srcSet,i,null),l&&kt(t,n,"src",i.src,i,null);return;case"input":st("invalid",t);var z=g=w=f=null,W=null,ue=null;for(l in i)if(i.hasOwnProperty(l)){var _e=i[l];if(_e!=null)switch(l){case"name":f=_e;break;case"type":w=_e;break;case"checked":W=_e;break;case"defaultChecked":ue=_e;break;case"value":g=_e;break;case"defaultValue":z=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(a(137,n));break;default:kt(t,n,l,_e,i,null)}}Tc(t,g,z,W,ue,w,f,!1);return;case"select":st("invalid",t),l=w=g=null;for(f in i)if(i.hasOwnProperty(f)&&(z=i[f],z!=null))switch(f){case"value":g=z;break;case"defaultValue":w=z;break;case"multiple":l=z;default:kt(t,n,f,z,i,null)}n=g,i=w,t.multiple=!!l,n!=null?Mr(t,!!l,n,!1):i!=null&&Mr(t,!!l,i,!0);return;case"textarea":st("invalid",t),g=f=l=null;for(w in i)if(i.hasOwnProperty(w)&&(z=i[w],z!=null))switch(w){case"value":l=z;break;case"defaultValue":f=z;break;case"children":g=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(91));break;default:kt(t,n,w,z,i,null)}Pr(t,l,f,g);return;case"option":for(W in i)if(i.hasOwnProperty(W)&&(l=i[W],l!=null))switch(W){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:kt(t,n,W,l,i,null)}return;case"dialog":st("beforetoggle",t),st("toggle",t),st("cancel",t),st("close",t);break;case"iframe":case"object":st("load",t);break;case"video":case"audio":for(l=0;l<kl.length;l++)st(kl[l],t);break;case"image":st("error",t),st("load",t);break;case"details":st("toggle",t);break;case"embed":case"source":case"link":st("error",t),st("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in i)if(i.hasOwnProperty(ue)&&(l=i[ue],l!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:kt(t,n,ue,l,i,null)}return;default:if(Ei(n)){for(_e in i)i.hasOwnProperty(_e)&&(l=i[_e],l!==void 0&&yf(t,n,_e,l,i,void 0));return}}for(z in i)i.hasOwnProperty(z)&&(l=i[z],l!=null&&kt(t,n,z,l,i,null))}function Kx(t,n,i,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,w=null,z=null,W=null,ue=null,_e=null;for(be in i){var Se=i[be];if(i.hasOwnProperty(be)&&Se!=null)switch(be){case"checked":break;case"value":break;case"defaultValue":W=Se;default:l.hasOwnProperty(be)||kt(t,n,be,null,l,Se)}}for(var he in l){var be=l[he];if(Se=i[he],l.hasOwnProperty(he)&&(be!=null||Se!=null))switch(he){case"type":g=be;break;case"name":f=be;break;case"checked":ue=be;break;case"defaultChecked":_e=be;break;case"value":w=be;break;case"defaultValue":z=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(a(137,n));break;default:be!==Se&&kt(t,n,he,be,l,Se)}}Si(t,w,z,W,ue,_e,g,f);return;case"select":be=w=z=he=null;for(g in i)if(W=i[g],i.hasOwnProperty(g)&&W!=null)switch(g){case"value":break;case"multiple":be=W;default:l.hasOwnProperty(g)||kt(t,n,g,null,l,W)}for(f in l)if(g=l[f],W=i[f],l.hasOwnProperty(f)&&(g!=null||W!=null))switch(f){case"value":he=g;break;case"defaultValue":z=g;break;case"multiple":w=g;default:g!==W&&kt(t,n,f,g,l,W)}n=z,i=w,l=be,he!=null?Mr(t,!!i,he,!1):!!l!=!!i&&(n!=null?Mr(t,!!i,n,!0):Mr(t,!!i,i?[]:"",!1));return;case"textarea":be=he=null;for(z in i)if(f=i[z],i.hasOwnProperty(z)&&f!=null&&!l.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:kt(t,n,z,null,l,f)}for(w in l)if(f=l[w],g=i[w],l.hasOwnProperty(w)&&(f!=null||g!=null))switch(w){case"value":he=f;break;case"defaultValue":be=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==g&&kt(t,n,w,f,l,g)}Nc(t,he,be);return;case"option":for(var Ie in i)if(he=i[Ie],i.hasOwnProperty(Ie)&&he!=null&&!l.hasOwnProperty(Ie))switch(Ie){case"selected":t.selected=!1;break;default:kt(t,n,Ie,null,l,he)}for(W in l)if(he=l[W],be=i[W],l.hasOwnProperty(W)&&he!==be&&(he!=null||be!=null))switch(W){case"selected":t.selected=he&&typeof he!="function"&&typeof he!="symbol";break;default:kt(t,n,W,he,l,be)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in i)he=i[$e],i.hasOwnProperty($e)&&he!=null&&!l.hasOwnProperty($e)&&kt(t,n,$e,null,l,he);for(ue in l)if(he=l[ue],be=i[ue],l.hasOwnProperty(ue)&&he!==be&&(he!=null||be!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(a(137,n));break;default:kt(t,n,ue,he,l,be)}return;default:if(Ei(n)){for(var St in i)he=i[St],i.hasOwnProperty(St)&&he!==void 0&&!l.hasOwnProperty(St)&&yf(t,n,St,void 0,l,he);for(_e in l)he=l[_e],be=i[_e],!l.hasOwnProperty(_e)||he===be||he===void 0&&be===void 0||yf(t,n,_e,he,l,be);return}}for(var ae in i)he=i[ae],i.hasOwnProperty(ae)&&he!=null&&!l.hasOwnProperty(ae)&&kt(t,n,ae,null,l,he);for(Se in l)he=l[Se],be=i[Se],!l.hasOwnProperty(Se)||he===be||he==null&&be==null||kt(t,n,Se,he,l,be)}function cb(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Jx(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,i=performance.getEntriesByType("resource"),l=0;l<i.length;l++){var f=i[l],g=f.transferSize,w=f.initiatorType,z=f.duration;if(g&&z&&cb(w)){for(w=0,z=f.responseEnd,l+=1;l<i.length;l++){var W=i[l],ue=W.startTime;if(ue>z)break;var _e=W.transferSize,Se=W.initiatorType;_e&&cb(Se)&&(W=W.responseEnd,w+=_e*(W<z?1:(z-ue)/(W-ue)))}if(--l,n+=8*(g+w)/(f.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var vf=null,_f=null;function Ru(t){return t.nodeType===9?t:t.ownerDocument}function ub(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function db(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function xf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var wf=null;function Yx(){var t=window.event;return t&&t.type==="popstate"?t===wf?!1:(wf=t,!0):(wf=null,!1)}var hb=typeof setTimeout=="function"?setTimeout:void 0,Wx=typeof clearTimeout=="function"?clearTimeout:void 0,fb=typeof Promise=="function"?Promise:void 0,Xx=typeof queueMicrotask=="function"?queueMicrotask:typeof fb<"u"?function(t){return fb.resolve(null).then(t).catch(Zx)}:hb;function Zx(t){setTimeout(function(){throw t})}function oa(t){return t==="head"}function pb(t,n){var i=n,l=0;do{var f=i.nextSibling;if(t.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"||i==="/&"){if(l===0){t.removeChild(f),io(n);return}l--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")l++;else if(i==="html")El(t.ownerDocument.documentElement);else if(i==="head"){i=t.ownerDocument.head,El(i);for(var g=i.firstChild;g;){var w=g.nextSibling,z=g.nodeName;g[js]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&g.rel.toLowerCase()==="stylesheet"||i.removeChild(g),g=w}}else i==="body"&&El(t.ownerDocument.body);i=f}while(i);io(n)}function mb(t,n){var i=t;t=0;do{var l=i.nextSibling;if(i.nodeType===1?n?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(n?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),l&&l.nodeType===8)if(i=l.data,i==="/$"){if(t===0)break;t--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||t++;i=l}while(i)}function kf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":kf(i),wi(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function Qx(t,n,i,l){for(;t.nodeType===1;){var f=i;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[js])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=as(t.nextSibling),t===null)break}return null}function ew(t,n,i){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=as(t.nextSibling),t===null))return null;return t}function gb(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=as(t.nextSibling),t===null))return null;return t}function Sf(t){return t.data==="$?"||t.data==="$~"}function Ef(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function tw(t,n){var i=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||i.readyState!=="loading")n();else{var l=function(){n(),i.removeEventListener("DOMContentLoaded",l)};i.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function as(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Af=null;function bb(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"||i==="/&"){if(n===0)return as(t.nextSibling);n--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||n++}t=t.nextSibling}return null}function yb(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(n===0)return t;n--}else i!=="/$"&&i!=="/&"||n++}t=t.previousSibling}return null}function vb(t,n,i){switch(n=Ru(i),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function El(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);wi(t)}var is=new Map,_b=new Set;function Du(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var xr=Q.d;Q.d={f:nw,r:sw,D:rw,C:aw,L:iw,m:ow,X:cw,S:lw,M:uw};function nw(){var t=xr.f(),n=ku();return t||n}function sw(t){var n=Wn(t);n!==null&&n.tag===5&&n.type==="form"?Mm(n):xr.r(t)}var so=typeof document>"u"?null:document;function xb(t,n,i){var l=so;if(l&&typeof n=="string"&&n){var f=En(n);f='link[rel="'+t+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),_b.has(f)||(_b.add(f),t={rel:t,crossOrigin:i,href:n},l.querySelector(f)===null&&(n=l.createElement("link"),pn(n,"link",t),Ht(n),l.head.appendChild(n)))}}function rw(t){xr.D(t),xb("dns-prefetch",t,null)}function aw(t,n){xr.C(t,n),xb("preconnect",t,n)}function iw(t,n,i){xr.L(t,n,i);var l=so;if(l&&t&&n){var f='link[rel="preload"][as="'+En(n)+'"]';n==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+En(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+En(i.imageSizes)+'"]')):f+='[href="'+En(t)+'"]';var g=f;switch(n){case"style":g=ro(t);break;case"script":g=ao(t)}is.has(g)||(t=_({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:t,as:n},i),is.set(g,t),l.querySelector(f)!==null||n==="style"&&l.querySelector(Al(g))||n==="script"&&l.querySelector(Tl(g))||(n=l.createElement("link"),pn(n,"link",t),Ht(n),l.head.appendChild(n)))}}function ow(t,n){xr.m(t,n);var i=so;if(i&&t){var l=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+En(l)+'"][href="'+En(t)+'"]',g=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=ao(t)}if(!is.has(g)&&(t=_({rel:"modulepreload",href:t},n),is.set(g,t),i.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Tl(g)))return}l=i.createElement("link"),pn(l,"link",t),Ht(l),i.head.appendChild(l)}}}function lw(t,n,i){xr.S(t,n,i);var l=so;if(l&&t){var f=Ds(l).hoistableStyles,g=ro(t);n=n||"default";var w=f.get(g);if(!w){var z={loading:0,preload:null};if(w=l.querySelector(Al(g)))z.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":n},i),(i=is.get(g))&&Tf(t,i);var W=w=l.createElement("link");Ht(W),pn(W,"link",t),W._p=new Promise(function(ue,_e){W.onload=ue,W.onerror=_e}),W.addEventListener("load",function(){z.loading|=1}),W.addEventListener("error",function(){z.loading|=2}),z.loading|=4,Ou(w,n,l)}w={type:"stylesheet",instance:w,count:1,state:z},f.set(g,w)}}}function cw(t,n){xr.X(t,n);var i=so;if(i&&t){var l=Ds(i).hoistableScripts,f=ao(t),g=l.get(f);g||(g=i.querySelector(Tl(f)),g||(t=_({src:t,async:!0},n),(n=is.get(f))&&Nf(t,n),g=i.createElement("script"),Ht(g),pn(g,"link",t),i.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},l.set(f,g))}}function uw(t,n){xr.M(t,n);var i=so;if(i&&t){var l=Ds(i).hoistableScripts,f=ao(t),g=l.get(f);g||(g=i.querySelector(Tl(f)),g||(t=_({src:t,async:!0,type:"module"},n),(n=is.get(f))&&Nf(t,n),g=i.createElement("script"),Ht(g),pn(g,"link",t),i.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},l.set(f,g))}}function wb(t,n,i,l){var f=(f=we.current)?Du(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=ro(i.href),i=Ds(f).hoistableStyles,l=i.get(n),l||(l={type:"style",instance:null,count:0,state:null},i.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=ro(i.href);var g=Ds(f).hoistableStyles,w=g.get(t);if(w||(f=f.ownerDocument||f,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,w),(g=f.querySelector(Al(t)))&&!g._p&&(w.instance=g,w.state.loading=5),is.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},is.set(t,i),g||dw(f,t,i,w.state))),n&&l===null)throw Error(a(528,""));return w}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ao(i),i=Ds(f).hoistableScripts,l=i.get(n),l||(l={type:"script",instance:null,count:0,state:null},i.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ro(t){return'href="'+En(t)+'"'}function Al(t){return'link[rel="stylesheet"]['+t+"]"}function kb(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function dw(t,n,i,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),pn(n,"link",i),Ht(n),t.head.appendChild(n))}function ao(t){return'[src="'+En(t)+'"]'}function Tl(t){return"script[async]"+t}function Sb(t,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+En(i.href)+'"]');if(l)return n.instance=l,Ht(l),l;var f=_({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ht(l),pn(l,"style",f),Ou(l,i.precedence,t),n.instance=l;case"stylesheet":f=ro(i.href);var g=t.querySelector(Al(f));if(g)return n.state.loading|=4,n.instance=g,Ht(g),g;l=kb(i),(f=is.get(f))&&Tf(l,f),g=(t.ownerDocument||t).createElement("link"),Ht(g);var w=g;return w._p=new Promise(function(z,W){w.onload=z,w.onerror=W}),pn(g,"link",l),n.state.loading|=4,Ou(g,i.precedence,t),n.instance=g;case"script":return g=ao(i.src),(f=t.querySelector(Tl(g)))?(n.instance=f,Ht(f),f):(l=i,(f=is.get(g))&&(l=_({},i),Nf(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Ht(f),pn(f,"link",l),t.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ou(l,i.precedence,t));return n.instance}function Ou(t,n,i){for(var l=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,g=f,w=0;w<l.length;w++){var z=l[w];if(z.dataset.precedence===n)g=z;else if(g!==f)break}g?g.parentNode.insertBefore(t,g.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(t,n.firstChild))}function Tf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Nf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Iu=null;function Eb(t,n,i){if(Iu===null){var l=new Map,f=Iu=new Map;f.set(i,l)}else f=Iu,l=f.get(i),l||(l=new Map,f.set(i,l));if(l.has(t))return l;for(l.set(t,null),i=i.getElementsByTagName(t),f=0;f<i.length;f++){var g=i[f];if(!(g[js]||g[Ct]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(n)||"";w=t+w;var z=l.get(w);z?z.push(g):l.set(w,[g])}}return l}function Ab(t,n,i){t=t.ownerDocument||t,t.head.insertBefore(i,n==="title"?t.querySelector("head > title"):null)}function hw(t,n,i){if(i===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Tb(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function fw(t,n,i,l){if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=ro(l.href),g=n.querySelector(Al(f));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Lu.bind(t),n.then(t,t)),i.state.loading|=4,i.instance=g,Ht(g);return}g=n.ownerDocument||n,l=kb(l),(f=is.get(f))&&Tf(l,f),g=g.createElement("link"),Ht(g);var w=g;w._p=new Promise(function(z,W){w.onload=z,w.onerror=W}),pn(g,"link",l),i.instance=g}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(t.count++,i=Lu.bind(t),n.addEventListener("load",i),n.addEventListener("error",i))}}var Cf=0;function pw(t,n){return t.stylesheets&&t.count===0&&Mu(t,t.stylesheets),0<t.count||0<t.imgCount?function(i){var l=setTimeout(function(){if(t.stylesheets&&Mu(t,t.stylesheets),t.unsuspend){var g=t.unsuspend;t.unsuspend=null,g()}},6e4+n);0<t.imgBytes&&Cf===0&&(Cf=62500*Jx());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Mu(t,t.stylesheets),t.unsuspend)){var g=t.unsuspend;t.unsuspend=null,g()}},(t.imgBytes>Cf?50:800)+n);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Lu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Uu=null;function Mu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Uu=new Map,n.forEach(mw,t),Uu=null,Lu.call(t))}function mw(t,n){if(!(n.state.loading&4)){var i=Uu.get(t);if(i)var l=i.get(null);else{i=new Map,Uu.set(t,i);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var w=f[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(i.set(w.dataset.precedence,w),l=w)}l&&i.set(null,l)}f=n.instance,w=f.getAttribute("data-precedence"),g=i.get(w)||l,g===l&&i.set(null,f),i.set(w,f),this.count++,l=Lu.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),g?g.parentNode.insertBefore(f,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),n.state.loading|=4}}var Nl={$$typeof:P,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function gw(t,n,i,l,f,g,w,z,W){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yn(0),this.hiddenUpdates=Yn(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function Nb(t,n,i,l,f,g,w,z,W,ue,_e,Se){return t=new gw(t,n,i,w,W,ue,_e,Se,z),n=1,g===!0&&(n|=24),g=Mn(3,null,null,n),t.current=g,g.stateNode=t,n=oh(),n.refCount++,t.pooledCache=n,n.refCount++,g.memoizedState={element:l,isDehydrated:i,cache:n},dh(g),t}function Cb(t){return t?(t=Ui,t):Ui}function jb(t,n,i,l,f,g){f=Cb(f),l.context===null?l.context=f:l.pendingContext=f,l=Wr(n),l.payload={element:i},g=g===void 0?null:g,g!==null&&(l.callback=g),i=Xr(t,l,n),i!==null&&(Rn(i,t,n),il(i,t,n))}function Rb(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<n?i:n}}function jf(t,n){Rb(t,n),(t=t.alternate)&&Rb(t,n)}function Db(t){if(t.tag===13||t.tag===31){var n=Ma(t,67108864);n!==null&&Rn(n,t,67108864),jf(t,67108864)}}function Ob(t){if(t.tag===13||t.tag===31){var n=Fn();n=Ke(n);var i=Ma(t,n);i!==null&&Rn(i,t,n),jf(t,n)}}var Pu=!0;function bw(t,n,i,l){var f=te.T;te.T=null;var g=Q.p;try{Q.p=2,Rf(t,n,i,l)}finally{Q.p=g,te.T=f}}function yw(t,n,i,l){var f=te.T;te.T=null;var g=Q.p;try{Q.p=8,Rf(t,n,i,l)}finally{Q.p=g,te.T=f}}function Rf(t,n,i,l){if(Pu){var f=Df(l);if(f===null)bf(t,n,l,zu,i),Lb(t,l);else if(_w(f,t,n,i,l))l.stopPropagation();else if(Lb(t,l),n&4&&-1<vw.indexOf(t)){for(;f!==null;){var g=Wn(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=cn(g.pendingLanes);if(w!==0){var z=g;for(z.pendingLanes|=2,z.entangledLanes|=2;w;){var W=1<<31-dt(w);z.entanglements[1]|=W,w&=~W}Hs(g),(pt&6)===0&&(xu=Ne()+500,wl(0))}}break;case 31:case 13:z=Ma(g,2),z!==null&&Rn(z,g,2),ku(),jf(g,2)}if(g=Df(l),g===null&&bf(t,n,l,zu,i),g===f)break;f=g}f!==null&&l.stopPropagation()}else bf(t,n,l,null,i)}}function Df(t){return t=Xn(t),Of(t)}var zu=null;function Of(t){if(zu=null,t=Rs(t),t!==null){var n=c(t);if(n===null)t=null;else{var i=n.tag;if(i===13){if(t=u(n),t!==null)return t;t=null}else if(i===31){if(t=p(n),t!==null)return t;t=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return zu=t,null}function Ib(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ae()){case Le:return 2;case Ze:return 8;case Ge:case nn:return 32;case Gn:return 268435456;default:return 32}default:return 32}}var If=!1,la=null,ca=null,ua=null,Cl=new Map,jl=new Map,da=[],vw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lb(t,n){switch(t){case"focusin":case"focusout":la=null;break;case"dragenter":case"dragleave":ca=null;break;case"mouseover":case"mouseout":ua=null;break;case"pointerover":case"pointerout":Cl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(n.pointerId)}}function Rl(t,n,i,l,f,g){return t===null||t.nativeEvent!==g?(t={blockedOn:n,domEventName:i,eventSystemFlags:l,nativeEvent:g,targetContainers:[f]},n!==null&&(n=Wn(n),n!==null&&Db(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),t)}function _w(t,n,i,l,f){switch(n){case"focusin":return la=Rl(la,t,n,i,l,f),!0;case"dragenter":return ca=Rl(ca,t,n,i,l,f),!0;case"mouseover":return ua=Rl(ua,t,n,i,l,f),!0;case"pointerover":var g=f.pointerId;return Cl.set(g,Rl(Cl.get(g)||null,t,n,i,l,f)),!0;case"gotpointercapture":return g=f.pointerId,jl.set(g,Rl(jl.get(g)||null,t,n,i,l,f)),!0}return!1}function Ub(t){var n=Rs(t.target);if(n!==null){var i=c(n);if(i!==null){if(n=i.tag,n===13){if(n=u(i),n!==null){t.blockedOn=n,Lt(t.priority,function(){Ob(i)});return}}else if(n===31){if(n=p(i),n!==null){t.blockedOn=n,Lt(t.priority,function(){Ob(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var i=Df(t.nativeEvent);if(i===null){i=t.nativeEvent;var l=new i.constructor(i.type,i);Ho=l,i.target.dispatchEvent(l),Ho=null}else return n=Wn(i),n!==null&&Db(n),t.blockedOn=i,!1;n.shift()}return!0}function Mb(t,n,i){Bu(t)&&i.delete(n)}function xw(){If=!1,la!==null&&Bu(la)&&(la=null),ca!==null&&Bu(ca)&&(ca=null),ua!==null&&Bu(ua)&&(ua=null),Cl.forEach(Mb),jl.forEach(Mb)}function $u(t,n){t.blockedOn===n&&(t.blockedOn=null,If||(If=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,xw)))}var Fu=null;function Pb(t){Fu!==t&&(Fu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Fu===t&&(Fu=null);for(var n=0;n<t.length;n+=3){var i=t[n],l=t[n+1],f=t[n+2];if(typeof l!="function"){if(Of(l||i)===null)continue;break}var g=Wn(i);g!==null&&(t.splice(n,3),n-=3,Rh(g,{pending:!0,data:f,method:i.method,action:l},l,f))}}))}function io(t){function n(W){return $u(W,t)}la!==null&&$u(la,t),ca!==null&&$u(ca,t),ua!==null&&$u(ua,t),Cl.forEach(n),jl.forEach(n);for(var i=0;i<da.length;i++){var l=da[i];l.blockedOn===t&&(l.blockedOn=null)}for(;0<da.length&&(i=da[0],i.blockedOn===null);)Ub(i),i.blockedOn===null&&da.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(l=0;l<i.length;l+=3){var f=i[l],g=i[l+1],w=f[rn]||null;if(typeof g=="function")w||Pb(i);else if(w){var z=null;if(g&&g.hasAttribute("formAction")){if(f=g,w=g[rn]||null)z=w.formAction;else if(Of(f)!==null)continue}else z=w.action;typeof z=="function"?i[l+1]=z:(i.splice(l,3),l-=3),Pb(i)}}}function zb(){function t(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(w){return f=w})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),l||setTimeout(i,20)}function i(){if(!l&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(i,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function Lf(t){this._internalRoot=t}Vu.prototype.render=Lf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var i=n.current,l=Fn();jb(i,l,t,n,null,null)},Vu.prototype.unmount=Lf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;jb(t.current,2,null,t,null,null),ku(),n[Cs]=null}};function Vu(t){this._internalRoot=t}Vu.prototype.unstable_scheduleHydration=function(t){if(t){var n=On();t={blockedOn:null,target:t,priority:n};for(var i=0;i<da.length&&n!==0&&n<da[i].priority;i++);da.splice(i,0,t),i===0&&Ub(t)}};var Bb=e.version;if(Bb!=="19.2.4")throw Error(a(527,Bb,"19.2.4"));Q.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=b(n),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var ww={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hu.isDisabled&&Hu.supportsFiber)try{it=Hu.inject(ww),tt=Hu}catch{}}return Ol.createRoot=function(t,n){if(!o(t))throw Error(a(299));var i=!1,l="",f=Km,g=Jm,w=Ym;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(g=n.onCaughtError),n.onRecoverableError!==void 0&&(w=n.onRecoverableError)),n=Nb(t,1,!1,null,null,i,l,null,f,g,w,zb),t[Cs]=n.current,gf(t),new Lf(n)},Ol.hydrateRoot=function(t,n,i){if(!o(t))throw Error(a(299));var l=!1,f="",g=Km,w=Jm,z=Ym,W=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(w=i.onCaughtError),i.onRecoverableError!==void 0&&(z=i.onRecoverableError),i.formState!==void 0&&(W=i.formState)),n=Nb(t,1,!0,n,i??null,l,f,W,g,w,z,zb),n.context=Cb(null),i=n.current,l=Fn(),l=Ke(l),f=Wr(l),f.callback=null,Xr(i,f,l),i=l,n.current.lanes=i,sr(n,i),Hs(n),t[Cs]=n.current,gf(t),new Vu(n)},Ol.version="19.2.4",Ol}var Gb;function Rw(){if(Gb)return Mf.exports;Gb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Mf.exports=jw(),Mf.exports}var Dw=Rw();const Ow=$p(Dw),Iw="modulepreload",Lw=function(r){return"/"+r},Kb={},Ns=function(e,s,a){let o=Promise.resolve();if(s&&s.length>0){let u=function(b){return Promise.all(b.map(x=>Promise.resolve(x).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),m=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));o=u(s.map(b=>{if(b=Lw(b),b in Kb)return;Kb[b]=!0;const x=b.endsWith(".css"),_=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${b}"]${_}`))return;const S=document.createElement("link");if(S.rel=x?"stylesheet":Iw,x||(S.as="script"),S.crossOrigin="",S.href=b,m&&S.setAttribute("nonce",m),document.head.appendChild(S),x)return new Promise((y,E)=>{S.addEventListener("load",y),S.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${b}`)))})}))}function c(u){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=u,window.dispatchEvent(p),!p.defaultPrevented)throw u}return o.then(u=>{for(const p of u||[])p.status==="rejected"&&c(p.reason);return e().catch(c)})},Uw=()=>{};var Jb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=function(r){const e=[];let s=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[s++]=o:o<2048?(e[s++]=o>>6|192,e[s++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[s++]=o>>18|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128,e[s++]=o&63|128):(e[s++]=o>>12|224,e[s++]=o>>6&63|128,e[s++]=o&63|128)}return e},Mw=function(r){const e=[];let s=0,a=0;for(;s<r.length;){const o=r[s++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[s++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[s++],u=r[s++],p=r[s++],m=((o&7)<<18|(c&63)<<12|(u&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(m>>10)),e[a++]=String.fromCharCode(56320+(m&1023))}else{const c=r[s++],u=r[s++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|u&63)}}return e.join("")},Zv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],u=o+1<r.length,p=u?r[o+1]:0,m=o+2<r.length,b=m?r[o+2]:0,x=c>>2,_=(c&3)<<4|p>>4;let S=(p&15)<<2|b>>6,y=b&63;m||(y=64,u||(S=64)),a.push(s[x],s[_],s[S],s[y])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Xv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Mw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=s[r.charAt(o++)],p=o<r.length?s[r.charAt(o)]:0;++o;const b=o<r.length?s[r.charAt(o)]:64;++o;const _=o<r.length?s[r.charAt(o)]:64;if(++o,c==null||p==null||b==null||_==null)throw new Pw;const S=c<<2|p>>4;if(a.push(S),b!==64){const y=p<<4&240|b>>2;if(a.push(y),_!==64){const E=b<<6&192|_;a.push(E)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Pw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zw=function(r){const e=Xv(r);return Zv.encodeByteArray(e,!0)},fd=function(r){return zw(r).replace(/\./g,"")},Qv=function(r){try{return Zv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=()=>Bw().__FIREBASE_DEFAULTS__,Fw=()=>{if(typeof process>"u"||typeof Jb>"u")return;const r=Jb.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Vw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Qv(r[1]);return e&&JSON.parse(e)},Fp=()=>{try{return Uw()||$w()||Fw()||Vw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},e1=r=>{var e,s;return(s=(e=Fp())==null?void 0:e.emulatorHosts)==null?void 0:s[r]},t1=r=>{const e=e1(r);if(!e)return;const s=e.lastIndexOf(":");if(s<=0||s+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(s+1),10);return e[0]==="["?[e.substring(1,s-1),a]:[e.substring(0,s),a]},n1=()=>{var r;return(r=Fp())==null?void 0:r.config},s1=r=>{var e;return(e=Fp())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hw=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,a)=>{s?this.reject(s):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,a))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Vp(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[fd(JSON.stringify(s)),fd(JSON.stringify(u)),""].join(".")}const Hl={};function qw(){const r={prod:[],emulator:[]};for(const e of Object.keys(Hl))Hl[e]?r.emulator.push(e):r.prod.push(e);return r}function Gw(r){let e=document.getElementById(r),s=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),s=!0),{created:s,element:e}}let Yb=!1;function Hp(r,e){if(typeof window>"u"||typeof document>"u"||!Co(window.location.host)||Hl[r]===e||Hl[r]||Yb)return;Hl[r]=e;function s(S){return`__firebase__banner__${S}`}const a="__firebase__banner",c=qw().prod.length>0;function u(){const S=document.getElementById(a);S&&S.remove()}function p(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function m(S,y){S.setAttribute("width","24"),S.setAttribute("id",y),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function b(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Yb=!0,u()},S}function x(S,y){S.setAttribute("id",y),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function _(){const S=Gw(a),y=s("text"),E=document.getElementById(y)||document.createElement("span"),k=s("learnmore"),N=document.getElementById(k)||document.createElement("a"),C=s("preprendIcon"),L=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const P=S.element;p(P),x(N,k);const V=b();m(L,C),P.append(L,E,N,V),document.body.appendChild(P)}c?(E.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Kw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function Jw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Yw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Ww(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Xw(){const r=wn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Zw(){try{return typeof indexedDB=="object"}catch{return!1}}function Qw(){return new Promise((r,e)=>{try{let s=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),s||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{s=!1},o.onerror=()=>{var c;e(((c=o.error)==null?void 0:c.message)||"")}}catch(s){e(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2="FirebaseError";class er extends Error{constructor(e,s,a){super(s),this.code=e,this.customData=a,this.name=e2,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fc.prototype.create)}}class fc{constructor(e,s,a){this.service=e,this.serviceName=s,this.errors=a}create(e,...s){const a=s[0]||{},o=`${this.service}/${e}`,c=this.errors[e],u=c?t2(c,a):"Error",p=`${this.serviceName}: ${u} (${o}).`;return new er(o,p,a)}}function t2(r,e){return r.replace(n2,(s,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const n2=/\{\$([^}]+)}/g;function s2(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function di(r,e){if(r===e)return!0;const s=Object.keys(r),a=Object.keys(e);for(const o of s){if(!a.includes(o))return!1;const c=r[o],u=e[o];if(Wb(c)&&Wb(u)){if(!di(c,u))return!1}else if(c!==u)return!1}for(const o of a)if(!s.includes(o))return!1;return!0}function Wb(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(r){const e=[];for(const[s,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(s)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(s)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Bl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,c]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function $l(r){const e=r.indexOf("?");if(!e)return"";const s=r.indexOf("#",e);return r.substring(e,s>0?s:void 0)}function r2(r,e){const s=new a2(r,e);return s.subscribe.bind(s)}class a2{constructor(e,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(s=>{s.next(e)})}error(e){this.forEachObserver(s=>{s.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,s,a){let o;if(e===void 0&&s===void 0&&a===void 0)throw new Error("Missing Observer.");i2(e,["next","error","complete"])?o=e:o={next:e,error:s,complete:a},o.next===void 0&&(o.next=Bf),o.error===void 0&&(o.error=Bf),o.complete===void 0&&(o.complete=Bf);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,e)}sendOne(e,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{s(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function i2(r,e){if(typeof r!="object"||r===null)return!1;for(const s of e)if(s in r&&typeof r[s]=="function")return!0;return!1}function Bf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(r){return r&&r._delegate?r._delegate:r}class ka{constructor(e,s,a){this.name=e,this.instanceFactory=s,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const a=new Hw;if(this.instancesDeferred.set(s,a),this.isInitialized(s)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:s});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(e==null?void 0:e.optional)??!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(c2(e))try{this.getOrInitializeService({instanceIdentifier:Qa})}catch{}for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=Qa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qa){return this.instances.has(e)}getOptions(e=Qa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:s});for(const[c,u]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&u.resolve(o)}return o}onInit(e,s){const a=this.normalizeInstanceIdentifier(s),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,s){const a=this.onInitCallbacks.get(s);if(a)for(const o of a)try{o(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:l2(e),options:s}),this.instances.set(e,a),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Qa){return this.component?this.component.multipleInstances?e:Qa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function l2(r){return r===Qa?void 0:r}function c2(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new o2(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(mt||(mt={}));const d2={debug:mt.DEBUG,verbose:mt.VERBOSE,info:mt.INFO,warn:mt.WARN,error:mt.ERROR,silent:mt.SILENT},h2=mt.INFO,f2={[mt.DEBUG]:"log",[mt.VERBOSE]:"log",[mt.INFO]:"info",[mt.WARN]:"warn",[mt.ERROR]:"error"},p2=(r,e,...s)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=f2[e];if(o)console[o](`[${a}]  ${r.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qp{constructor(e){this.name=e,this._logLevel=h2,this._logHandler=p2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?d2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,mt.DEBUG,...e),this._logHandler(this,mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,mt.VERBOSE,...e),this._logHandler(this,mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,mt.INFO,...e),this._logHandler(this,mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,mt.WARN,...e),this._logHandler(this,mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,mt.ERROR,...e),this._logHandler(this,mt.ERROR,...e)}}const m2=(r,e)=>e.some(s=>r instanceof s);let Xb,Zb;function g2(){return Xb||(Xb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function b2(){return Zb||(Zb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const a1=new WeakMap,fp=new WeakMap,i1=new WeakMap,$f=new WeakMap,Gp=new WeakMap;function y2(r){const e=new Promise((s,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",u)},c=()=>{s(xa(r.result)),o()},u=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",u)});return e.then(s=>{s instanceof IDBCursor&&a1.set(s,r)}).catch(()=>{}),Gp.set(e,r),e}function v2(r){if(fp.has(r))return;const e=new Promise((s,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",u),r.removeEventListener("abort",u)},c=()=>{s(),o()},u=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",u),r.addEventListener("abort",u)});fp.set(r,e)}let pp={get(r,e,s){if(r instanceof IDBTransaction){if(e==="done")return fp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||i1.get(r);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return xa(r[e])},set(r,e,s){return r[e]=s,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function _2(r){pp=r(pp)}function x2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const a=r.call(Ff(this),e,...s);return i1.set(a,e.sort?e.sort():[e]),xa(a)}:b2().includes(r)?function(...e){return r.apply(Ff(this),e),xa(a1.get(this))}:function(...e){return xa(r.apply(Ff(this),e))}}function w2(r){return typeof r=="function"?x2(r):(r instanceof IDBTransaction&&v2(r),m2(r,g2())?new Proxy(r,pp):r)}function xa(r){if(r instanceof IDBRequest)return y2(r);if($f.has(r))return $f.get(r);const e=w2(r);return e!==r&&($f.set(r,e),Gp.set(e,r)),e}const Ff=r=>Gp.get(r);function k2(r,e,{blocked:s,upgrade:a,blocking:o,terminated:c}={}){const u=indexedDB.open(r,e),p=xa(u);return a&&u.addEventListener("upgradeneeded",m=>{a(xa(u.result),m.oldVersion,m.newVersion,xa(u.transaction),m)}),s&&u.addEventListener("blocked",m=>s(m.oldVersion,m.newVersion,m)),p.then(m=>{c&&m.addEventListener("close",()=>c()),o&&m.addEventListener("versionchange",b=>o(b.oldVersion,b.newVersion,b))}).catch(()=>{}),p}const S2=["get","getKey","getAll","getAllKeys","count"],E2=["put","add","delete","clear"],Vf=new Map;function Qb(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Vf.get(e))return Vf.get(e);const s=e.replace(/FromIndex$/,""),a=e!==s,o=E2.includes(s);if(!(s in(a?IDBIndex:IDBObjectStore).prototype)||!(o||S2.includes(s)))return;const c=async function(u,...p){const m=this.transaction(u,o?"readwrite":"readonly");let b=m.store;return a&&(b=b.index(p.shift())),(await Promise.all([b[s](...p),o&&m.done]))[0]};return Vf.set(e,c),c}_2(r=>({...r,get:(e,s,a)=>Qb(e,s)||r.get(e,s,a),has:(e,s)=>!!Qb(e,s)||r.has(e,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(T2(s)){const a=s.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(s=>s).join(" ")}}function T2(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mp="@firebase/app",ey="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr=new qp("@firebase/app"),N2="@firebase/app-compat",C2="@firebase/analytics-compat",j2="@firebase/analytics",R2="@firebase/app-check-compat",D2="@firebase/app-check",O2="@firebase/auth",I2="@firebase/auth-compat",L2="@firebase/database",U2="@firebase/data-connect",M2="@firebase/database-compat",P2="@firebase/functions",z2="@firebase/functions-compat",B2="@firebase/installations",$2="@firebase/installations-compat",F2="@firebase/messaging",V2="@firebase/messaging-compat",H2="@firebase/performance",q2="@firebase/performance-compat",G2="@firebase/remote-config",K2="@firebase/remote-config-compat",J2="@firebase/storage",Y2="@firebase/storage-compat",W2="@firebase/firestore",X2="@firebase/ai",Z2="@firebase/firestore-compat",Q2="firebase",ek="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="[DEFAULT]",tk={[mp]:"fire-core",[N2]:"fire-core-compat",[j2]:"fire-analytics",[C2]:"fire-analytics-compat",[D2]:"fire-app-check",[R2]:"fire-app-check-compat",[O2]:"fire-auth",[I2]:"fire-auth-compat",[L2]:"fire-rtdb",[U2]:"fire-data-connect",[M2]:"fire-rtdb-compat",[P2]:"fire-fn",[z2]:"fire-fn-compat",[B2]:"fire-iid",[$2]:"fire-iid-compat",[F2]:"fire-fcm",[V2]:"fire-fcm-compat",[H2]:"fire-perf",[q2]:"fire-perf-compat",[G2]:"fire-rc",[K2]:"fire-rc-compat",[J2]:"fire-gcs",[Y2]:"fire-gcs-compat",[W2]:"fire-fst",[Z2]:"fire-fst-compat",[X2]:"fire-vertex","fire-js":"fire-js",[Q2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd=new Map,nk=new Map,bp=new Map;function ty(r,e){try{r.container.addComponent(e)}catch(s){Cr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,s)}}function hi(r){const e=r.name;if(bp.has(e))return Cr.debug(`There were multiple attempts to register component ${e}.`),!1;bp.set(e,r);for(const s of pd.values())ty(s,r);for(const s of nk.values())ty(s,r);return!0}function Dd(r,e){const s=r.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),r.container.getProvider(e)}function Dn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wa=new fc("app","Firebase",sk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,s,a){this._isDeleted=!1,this._options={...e},this._config={...s},this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ka("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=ek;function o1(r,e={}){let s=r;typeof e!="object"&&(e={name:e});const a={name:gp,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw wa.create("bad-app-name",{appName:String(o)});if(s||(s=n1()),!s)throw wa.create("no-options");const c=pd.get(o);if(c){if(di(s,c.options)&&di(a,c.config))return c;throw wa.create("duplicate-app",{appName:o})}const u=new u2(o);for(const m of bp.values())u.addComponent(m);const p=new rk(s,a,u);return pd.set(o,p),p}function Kp(r=gp){const e=pd.get(r);if(!e&&r===gp&&n1())return o1();if(!e)throw wa.create("no-app",{appName:r});return e}function Ys(r,e,s){let a=tk[r]??r;s&&(a+=`-${s}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const u=[`Unable to register library "${a}" with version "${e}":`];o&&u.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cr.warn(u.join(" "));return}hi(new ka(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak="firebase-heartbeat-database",ik=1,Ql="firebase-heartbeat-store";let Hf=null;function l1(){return Hf||(Hf=k2(ak,ik,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ql)}catch(s){console.warn(s)}}}}).catch(r=>{throw wa.create("idb-open",{originalErrorMessage:r.message})})),Hf}async function ok(r){try{const s=(await l1()).transaction(Ql),a=await s.objectStore(Ql).get(c1(r));return await s.done,a}catch(e){if(e instanceof er)Cr.warn(e.message);else{const s=wa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Cr.warn(s.message)}}}async function ny(r,e){try{const a=(await l1()).transaction(Ql,"readwrite");await a.objectStore(Ql).put(e,c1(r)),await a.done}catch(s){if(s instanceof er)Cr.warn(s.message);else{const a=wa.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});Cr.warn(a.message)}}}function c1(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=1024,ck=30;class uk{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new hk(s),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,s;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=sy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)==null?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(u=>u.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>ck){const u=fk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Cr.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=sy(),{heartbeatsToSend:a,unsentEntries:o}=dk(this._heartbeatsCache.heartbeats),c=fd(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=s,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(s){return Cr.warn(s),""}}}function sy(){return new Date().toISOString().substring(0,10)}function dk(r,e=lk){const s=[];let a=r.slice();for(const o of r){const c=s.find(u=>u.agent===o.agent);if(c){if(c.dates.push(o.date),ry(s)>e){c.dates.pop();break}}else if(s.push({agent:o.agent,dates:[o.date]}),ry(s)>e){s.pop();break}a=a.slice(1)}return{heartbeatsToSend:s,unsentEntries:a}}class hk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Zw()?Qw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await ok(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return ny(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return ny(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function ry(r){return fd(JSON.stringify({version:2,heartbeats:r})).length}function fk(r){if(r.length===0)return-1;let e=0,s=r[0].date;for(let a=1;a<r.length;a++)r[a].date<s&&(s=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(r){hi(new ka("platform-logger",e=>new A2(e),"PRIVATE")),hi(new ka("heartbeat",e=>new uk(e),"PRIVATE")),Ys(mp,ey,r),Ys(mp,ey,"esm2020"),Ys("fire-js","")}pk("");function u1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mk=u1,d1=new fc("auth","Firebase",u1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md=new qp("@firebase/auth");function gk(r,...e){md.logLevel<=mt.WARN&&md.warn(`Auth (${yi}): ${r}`,...e)}function od(r,...e){md.logLevel<=mt.ERROR&&md.error(`Auth (${yi}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(r,...e){throw Yp(r,...e)}function As(r,...e){return Yp(r,...e)}function Jp(r,e,s){const a={...mk(),[e]:s};return new fc("auth","Firebase",a).create(e,{appName:r.name})}function Nr(r){return Jp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bk(r,e,s){const a=s;if(!(e instanceof a))throw a.name!==e.constructor.name&&ls(r,"argument-error"),Jp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Yp(r,...e){if(typeof r!="string"){const s=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(s,...a)}return d1.create(r,...e)}function qe(r,e,...s){if(!r)throw Yp(e,...s)}function Ar(r){const e="INTERNAL ASSERTION FAILED: "+r;throw od(e),new Error(e)}function jr(r,e){r||Ar(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function yk(){return ay()==="http:"||ay()==="https:"}function ay(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yk()||Yw()||"connection"in navigator)?navigator.onLine:!0}function _k(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,s){this.shortDelay=e,this.longDelay=s,jr(s>e,"Short delay should be less than long delay!"),this.isMobile=Kw()||Ww()}get(){return vk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(r,e){jr(r.emulator,"Emulator should always be set here");const{url:s}=r.emulator;return e?`${s}${e.startsWith("/")?e.slice(1):e}`:s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{static initialize(e,s,a){this.fetchImpl=e,s&&(this.headersImpl=s),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kk=new mc(3e4,6e4);function Rr(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Dr(r,e,s,a,o={}){return f1(r,o,async()=>{let c={},u={};a&&(e==="GET"?u=a:c={body:JSON.stringify(a)});const p=pc({key:r.config.apiKey,...u}).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const b={method:e,headers:m,...c};return Jw()||(b.referrerPolicy="no-referrer"),r.emulatorConfig&&Co(r.emulatorConfig.host)&&(b.credentials="include"),h1.fetch()(await p1(r,r.config.apiHost,s,p),b)})}async function f1(r,e,s){r._canInitEmulator=!1;const a={...xk,...e};try{const o=new Ek(r),c=await Promise.race([s(),o.promise]);o.clearNetworkTimeout();const u=await c.json();if("needConfirmation"in u)throw Gu(r,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const p=c.ok?u.errorMessage:u.error.message,[m,b]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gu(r,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw Gu(r,"email-already-in-use",u);if(m==="USER_DISABLED")throw Gu(r,"user-disabled",u);const x=a[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(b)throw Jp(r,x,b);ls(r,x)}}catch(o){if(o instanceof er)throw o;ls(r,"network-request-failed",{message:String(o)})}}async function gc(r,e,s,a,o={}){const c=await Dr(r,e,s,a,o);return"mfaPendingCredential"in c&&ls(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function p1(r,e,s,a){const o=`${e}${s}?${a}`,c=r,u=c.config.emulator?Wp(r.config,o):`${r.config.apiScheme}://${o}`;return wk.includes(s)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(u).toString():u}function Sk(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ek{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((s,a)=>{this.timer=setTimeout(()=>a(As(this.auth,"network-request-failed")),kk.get())})}}function Gu(r,e,s){const a={appName:r.name};s.email&&(a.email=s.email),s.phoneNumber&&(a.phoneNumber=s.phoneNumber);const o=As(r,e,a);return o.customData._tokenResponse=s,o}function iy(r){return r!==void 0&&r.enterprise!==void 0}class Ak{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const s of this.recaptchaEnforcementState)if(s.provider&&s.provider===e)return Sk(s.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Tk(r,e){return Dr(r,"GET","/v2/recaptchaConfig",Rr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nk(r,e){return Dr(r,"POST","/v1/accounts:delete",e)}async function gd(r,e){return Dr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(r,e=!1){return cs(r).getIdToken(e)}async function jk(r,e=!1){const s=cs(r),a=await s.getIdToken(e),o=Xp(a);qe(o&&o.exp&&o.auth_time&&o.iat,s.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,u=c==null?void 0:c.sign_in_provider;return{claims:o,token:a,authTime:ql(qf(o.auth_time)),issuedAtTime:ql(qf(o.iat)),expirationTime:ql(qf(o.exp)),signInProvider:u||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function qf(r){return Number(r)*1e3}function Xp(r){const[e,s,a]=r.split(".");if(e===void 0||s===void 0||a===void 0)return od("JWT malformed, contained fewer than 3 sections"),null;try{const o=Qv(s);return o?JSON.parse(o):(od("Failed to decode base64 JWT payload"),null)}catch(o){return od("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function oy(r){const e=Xp(r);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ec(r,e,s=!1){if(s)return e;try{return await e}catch(a){throw a instanceof er&&Rk(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function Rk({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const s=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,s){this.createdAt=e,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=ql(this.lastLoginAt),this.creationTime=ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bd(r){var _;const e=r.auth,s=await r.getIdToken(),a=await ec(r,gd(e,{idToken:s}));qe(a==null?void 0:a.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=(_=o.providerUserInfo)!=null&&_.length?m1(o.providerUserInfo):[],u=Ik(r.providerData,c),p=r.isAnonymous,m=!(r.email&&o.passwordHash)&&!(u!=null&&u.length),b=p?m:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new vp(o.createdAt,o.lastLoginAt),isAnonymous:b};Object.assign(r,x)}async function Ok(r){const e=cs(r);await bd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ik(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function m1(r){return r.map(({providerId:e,...s})=>({providerId:e,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lk(r,e){const s=await f1(r,{},async()=>{const a=pc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,u=await p1(r,o,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:p,body:a};return r.emulatorConfig&&Co(r.emulatorConfig.host)&&(m.credentials="include"),h1.fetch()(u,m)});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function Uk(r,e){return Dr(r,"POST","/v2/accounts:revokeToken",Rr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const s="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,s)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const s=oy(e);this.updateTokensAndExpiration(e,null,s)}async getToken(e,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,s){const{accessToken:a,refreshToken:o,expiresIn:c}=await Lk(e,s);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,s,a){this.refreshToken=s||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,s){const{refreshToken:a,accessToken:o,expirationTime:c}=s,u=new xo;return a&&(qe(typeof a=="string","internal-error",{appName:e}),u.refreshToken=a),o&&(qe(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),c&&(qe(typeof c=="number","internal-error",{appName:e}),u.expirationTime=c),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xo,this.toJSON())}_performRefresh(){return Ar("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(r,e){qe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ks{constructor({uid:e,auth:s,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new Dk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new vp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const s=await ec(this,this.stsTokenManager.getToken(this.auth,e));return qe(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(e){return jk(this,e)}reload(){return Ok(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(s=>({...s})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const s=new ks({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return s.metadata._copy(this.metadata),s}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,s=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),s&&await bd(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dn(this.auth.app))return Promise.reject(Nr(this.auth));const e=await this.getIdToken();return await ec(this,Nk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,s){const a=s.displayName??void 0,o=s.email??void 0,c=s.phoneNumber??void 0,u=s.photoURL??void 0,p=s.tenantId??void 0,m=s._redirectEventId??void 0,b=s.createdAt??void 0,x=s.lastLoginAt??void 0,{uid:_,emailVerified:S,isAnonymous:y,providerData:E,stsTokenManager:k}=s;qe(_&&k,e,"internal-error");const N=xo.fromJSON(this.name,k);qe(typeof _=="string",e,"internal-error"),fa(a,e.name),fa(o,e.name),qe(typeof S=="boolean",e,"internal-error"),qe(typeof y=="boolean",e,"internal-error"),fa(c,e.name),fa(u,e.name),fa(p,e.name),fa(m,e.name),fa(b,e.name),fa(x,e.name);const C=new ks({uid:_,auth:e,email:o,emailVerified:S,displayName:a,isAnonymous:y,photoURL:u,phoneNumber:c,tenantId:p,stsTokenManager:N,createdAt:b,lastLoginAt:x});return E&&Array.isArray(E)&&(C.providerData=E.map(L=>({...L}))),m&&(C._redirectEventId=m),C}static async _fromIdTokenResponse(e,s,a=!1){const o=new xo;o.updateFromServerResponse(s);const c=new ks({uid:s.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await bd(c),c}static async _fromGetAccountInfoResponse(e,s,a){const o=s.users[0];qe(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?m1(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),p=new xo;p.updateFromIdToken(a);const m=new ks({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:u}),b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new vp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(m,b),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly=new Map;function Tr(r){jr(r instanceof Function,"Expected a class definition");let e=ly.get(r);return e?(jr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,ly.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,s){this.storage[e]=s}async _get(e){const s=this.storage[e];return s===void 0?null:s}async _remove(e){delete this.storage[e]}_addListener(e,s){}_removeListener(e,s){}}g1.type="NONE";const cy=g1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(r,e,s){return`firebase:${r}:${e}:${s}`}class wo{constructor(e,s,a){this.persistence=e,this.auth=s,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=ld(this.userKey,o.apiKey,c),this.fullPersistenceKey=ld("persistence",o.apiKey,c),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const s=await gd(this.auth,{idToken:e}).catch(()=>{});return s?ks._fromGetAccountInfoResponse(this.auth,s,e):null}return ks._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,s,a="authUser"){if(!s.length)return new wo(Tr(cy),e,a);const o=(await Promise.all(s.map(async b=>{if(await b._isAvailable())return b}))).filter(b=>b);let c=o[0]||Tr(cy);const u=ld(a,e.config.apiKey,e.name);let p=null;for(const b of s)try{const x=await b._get(u);if(x){let _;if(typeof x=="string"){const S=await gd(e,{idToken:x}).catch(()=>{});if(!S)break;_=await ks._fromGetAccountInfoResponse(e,S,x)}else _=ks._fromJSON(e,x);b!==c&&(p=_),c=b;break}}catch{}const m=o.filter(b=>b._shouldAllowMigration);return!c._shouldAllowMigration||!m.length?new wo(c,e,a):(c=m[0],p&&await c._set(u,p.toJSON()),await Promise.all(s.map(async b=>{if(b!==c)try{await b._remove(u)}catch{}})),new wo(c,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(b1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(w1(e))return"Blackberry";if(k1(e))return"Webos";if(y1(e))return"Safari";if((e.includes("chrome/")||v1(e))&&!e.includes("edge/"))return"Chrome";if(x1(e))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(s);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function b1(r=wn()){return/firefox\//i.test(r)}function y1(r=wn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function v1(r=wn()){return/crios\//i.test(r)}function _1(r=wn()){return/iemobile/i.test(r)}function x1(r=wn()){return/android/i.test(r)}function w1(r=wn()){return/blackberry/i.test(r)}function k1(r=wn()){return/webos/i.test(r)}function Zp(r=wn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Mk(r=wn()){var e;return Zp(r)&&!!((e=window.navigator)!=null&&e.standalone)}function Pk(){return Xw()&&document.documentMode===10}function S1(r=wn()){return Zp(r)||x1(r)||k1(r)||w1(r)||/windows phone/i.test(r)||_1(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(r,e=[]){let s;switch(r){case"Browser":s=uy(wn());break;case"Worker":s=`${uy(wn())}-${r}`;break;default:s=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${s}/JsCore/${yi}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,s){const a=c=>new Promise((u,p)=>{try{const m=e(c);u(m)}catch(m){p(m)}});a.onAbort=s,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const s=[];try{for(const a of this.queue)await a(e),a.onAbort&&s.push(a.onAbort)}catch(a){s.reverse();for(const o of s)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bk(r,e={}){return Dr(r,"GET","/v2/passwordPolicy",Rr(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=6;class Fk{constructor(e){var a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=s.minPasswordLength??$k,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((a=e.allowedNonAlphanumericCharacters)==null?void 0:a.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=s.meetsMinPasswordLength??!0),s.isValid&&(s.isValid=s.meetsMaxPasswordLength??!0),s.isValid&&(s.isValid=s.containsLowercaseLetter??!0),s.isValid&&(s.isValid=s.containsUppercaseLetter??!0),s.isValid&&(s.isValid=s.containsNumericCharacter??!0),s.isValid&&(s.isValid=s.containsNonAlphanumericCharacter??!0),s}validatePasswordLengthOptions(e,s){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(s.meetsMinPasswordLength=e.length>=a),o&&(s.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(s,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,s,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e,s,a,o){this.app=e,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dy(this),this.idTokenSubscription=new dy(this),this.beforeStateQueue=new zk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=d1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,s){return s&&(this._popupRedirectResolver=Tr(s)),this._initializationPromise=this.queue(async()=>{var a,o,c;if(!this._deleted&&(this.persistenceManager=await wo.create(this,e),(a=this._resolvePersistenceManagerAvailable)==null||a.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const s=await gd(this,{idToken:e}),a=await ks._fromGetAccountInfoResponse(this,s,e);await this.directlySetCurrentUser(a)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(Dn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(p,p))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(c=this.redirectUser)==null?void 0:c._redirectEventId,p=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===p)&&(m!=null&&m.user)&&(a=m.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(e){try{await bd(e)}catch(s){if((s==null?void 0:s.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_k()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dn(this.app))return Promise.reject(Nr(this));const s=e?cs(e):null;return s&&qe(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(e,s=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dn(this.app)?Promise.reject(Nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dn(this.app)?Promise.reject(Nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Tr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Bk(this),s=new Fk(e);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fc("auth","Firebase",e())}onAuthStateChanged(e,s,a){return this.registerStateListener(this.authStateSubscription,e,s,a)}beforeAuthStateChanged(e,s){return this.beforeStateQueue.pushCallback(e,s)}onIdTokenChanged(e,s,a){return this.registerStateListener(this.idTokenSubscription,e,s,a)}authStateReady(){return new Promise((e,s)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},s)}})}async revokeAccessToken(e){if(this.currentUser){const s=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:s};this.tenantId!=null&&(a.tenantId=this.tenantId),await Uk(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,s){const a=await this.getOrInitRedirectPersistenceManager(s);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const s=e&&Tr(e)||this._popupRedirectResolver;qe(s,this,"argument-error"),this.redirectPersistenceManager=await wo.create(this,[Tr(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var s,a;return this._isInitialized&&await this.queue(async()=>{}),((s=this._currentUser)==null?void 0:s._redirectEventId)===e?this._currentUser:((a=this.redirectUser)==null?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var s;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((s=this.currentUser)==null?void 0:s.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,s,a,o){if(this._deleted)return()=>{};const c=typeof s=="function"?s:s.next.bind(s);let u=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(p,this,"internal-error"),p.then(()=>{u||c(this.currentUser)}),typeof s=="function"){const m=e.addObserver(s,a,o);return()=>{u=!0,m()}}else{const m=e.addObserver(s);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=E1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const s=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());s&&(e["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){var s;if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((s=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getToken());return e!=null&&e.error&&gk(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Or(r){return cs(r)}class dy{constructor(e){this.auth=e,this.observer=null,this.addObserver=r2(s=>this.observer=s)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Od={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Hk(r){Od=r}function A1(r){return Od.loadJS(r)}function qk(){return Od.recaptchaEnterpriseScript}function Gk(){return Od.gapiScript}function Kk(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class Jk{constructor(){this.enterprise=new Yk}ready(e){e()}execute(e,s){return Promise.resolve("token")}render(e,s){return""}}class Yk{ready(e){e()}execute(e,s){return Promise.resolve("token")}render(e,s){return""}}const Wk="recaptcha-enterprise",T1="NO_RECAPTCHA";class Xk{constructor(e){this.type=Wk,this.auth=Or(e)}async verify(e="verify",s=!1){async function a(c){if(!s){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(u,p)=>{Tk(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const b=new Ak(m);return c.tenantId==null?c._agentRecaptchaConfig=b:c._tenantRecaptchaConfigs[c.tenantId]=b,u(b.siteKey)}}).catch(m=>{p(m)})})}function o(c,u,p){const m=window.grecaptcha;iy(m)?m.enterprise.ready(()=>{m.enterprise.execute(c,{action:e}).then(b=>{u(b)}).catch(()=>{u(T1)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Jk().execute("siteKey",{action:"verify"}):new Promise((c,u)=>{a(this.auth).then(p=>{if(!s&&iy(window.grecaptcha))o(p,c,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=qk();m.length!==0&&(m+=p),A1(m).then(()=>{o(p,c,u)}).catch(b=>{u(b)})}}).catch(p=>{u(p)})})}}async function hy(r,e,s,a=!1,o=!1){const c=new Xk(r);let u;if(o)u=T1;else try{u=await c.verify(s)}catch{u=await c.verify(s,!0)}const p={...e};if(s==="mfaSmsEnrollment"||s==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const m=p.phoneEnrollmentInfo.phoneNumber,b=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:b,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const m=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:u}):Object.assign(p,{captchaResponse:u}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function yd(r,e,s,a,o){var c;if((c=r._getRecaptchaConfig())!=null&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await hy(r,e,s,s==="getOobCode");return a(r,u)}else return a(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${s} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await hy(r,e,s,s==="getOobCode");return a(r,p)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(r,e){const s=Dd(r,"auth");if(s.isInitialized()){const o=s.getImmediate(),c=s.getOptions();if(di(c,e??{}))return o;ls(o,"already-initialized")}return s.initialize({options:e})}function Qk(r,e){const s=(e==null?void 0:e.persistence)||[],a=(Array.isArray(s)?s:[s]).map(Tr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function eS(r,e,s){const a=Or(r);qe(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=N1(e),{host:u,port:p}=tS(e),m=p===null?"":`:${p}`,b={url:`${c}//${u}${m}/`},x=Object.freeze({host:u,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){qe(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),qe(di(b,a.config.emulator)&&di(x,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=b,a.emulatorConfig=x,a.settings.appVerificationDisabledForTesting=!0,Co(u)?(Vp(`${c}//${u}${m}`),Hp("Auth",!0)):nS()}function N1(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function tS(r){const e=N1(r),s=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!s)return{host:"",port:null};const a=s[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:fy(a.substr(c.length+1))}}else{const[c,u]=a.split(":");return{host:c,port:fy(u)}}}function fy(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function nS(){function r(){const e=document.createElement("p"),s=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,s){this.providerId=e,this.signInMethod=s}toJSON(){return Ar("not implemented")}_getIdTokenResponse(e){return Ar("not implemented")}_linkToIdToken(e,s){return Ar("not implemented")}_getReauthenticationResolver(e){return Ar("not implemented")}}async function sS(r,e){return Dr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rS(r,e){return gc(r,"POST","/v1/accounts:signInWithPassword",Rr(r,e))}async function aS(r,e){return Dr(r,"POST","/v1/accounts:sendOobCode",Rr(r,e))}async function iS(r,e){return aS(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oS(r,e){return gc(r,"POST","/v1/accounts:signInWithEmailLink",Rr(r,e))}async function lS(r,e){return gc(r,"POST","/v1/accounts:signInWithEmailLink",Rr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc extends Qp{constructor(e,s,a,o=null){super("password",a),this._email=e,this._password=s,this._tenantId=o}static _fromEmailAndPassword(e,s){return new tc(e,s,"password")}static _fromEmailAndCode(e,s,a=null){return new tc(e,s,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e;if(s!=null&&s.email&&(s!=null&&s.password)){if(s.signInMethod==="password")return this._fromEmailAndPassword(s.email,s.password);if(s.signInMethod==="emailLink")return this._fromEmailAndCode(s.email,s.password,s.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const s={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yd(e,s,"signInWithPassword",rS);case"emailLink":return oS(e,{email:this._email,oobCode:this._password});default:ls(e,"internal-error")}}async _linkToIdToken(e,s){switch(this.signInMethod){case"password":const a={idToken:s,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yd(e,a,"signUpPassword",sS);case"emailLink":return lS(e,{idToken:s,email:this._email,oobCode:this._password});default:ls(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ko(r,e){return gc(r,"POST","/v1/accounts:signInWithIdp",Rr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS="http://localhost";class fi extends Qp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const s=new fi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(s.idToken=e.idToken),e.accessToken&&(s.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(s.nonce=e.nonce),e.pendingToken&&(s.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(s.accessToken=e.oauthToken,s.secret=e.oauthTokenSecret):ls("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=s;if(!a||!o)return null;const u=new fi(a,o);return u.idToken=c.idToken||void 0,u.accessToken=c.accessToken||void 0,u.secret=c.secret,u.nonce=c.nonce,u.pendingToken=c.pendingToken||null,u}_getIdTokenResponse(e){const s=this.buildRequest();return ko(e,s)}_linkToIdToken(e,s){const a=this.buildRequest();return a.idToken=s,ko(e,a)}_getReauthenticationResolver(e){const s=this.buildRequest();return s.autoCreate=!1,ko(e,s)}buildRequest(){const e={requestUri:cS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),e.postBody=pc(s)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dS(r){const e=Bl($l(r)).link,s=e?Bl($l(e)).deep_link_id:null,a=Bl($l(r)).deep_link_id;return(a?Bl($l(a)).link:null)||a||s||e||r}class e0{constructor(e){const s=Bl($l(e)),a=s.apiKey??null,o=s.oobCode??null,c=uS(s.mode??null);qe(a&&o&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=o,this.continueUrl=s.continueUrl??null,this.languageCode=s.lang??null,this.tenantId=s.tenantId??null}static parseLink(e){const s=dS(e);try{return new e0(s)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(){this.providerId=jo.PROVIDER_ID}static credential(e,s){return tc._fromEmailAndPassword(e,s)}static credentialWithLink(e,s){const a=e0.parseLink(s);return qe(a,"argument-error"),tc._fromEmailAndCode(e,a.code,a.tenantId)}}jo.PROVIDER_ID="password";jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends t0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba extends bc{constructor(){super("facebook.com")}static credential(e){return fi._fromParams({providerId:ba.PROVIDER_ID,signInMethod:ba.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ba.credentialFromTaggedObject(e)}static credentialFromError(e){return ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ba.credential(e.oauthAccessToken)}catch{return null}}}ba.FACEBOOK_SIGN_IN_METHOD="facebook.com";ba.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends bc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,s){return fi._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:s})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:s,oauthAccessToken:a}=e;if(!s&&!a)return null;try{return Sr.credential(s,a)}catch{return null}}}Sr.GOOGLE_SIGN_IN_METHOD="google.com";Sr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya extends bc{constructor(){super("github.com")}static credential(e){return fi._fromParams({providerId:ya.PROVIDER_ID,signInMethod:ya.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ya.credentialFromTaggedObject(e)}static credentialFromError(e){return ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ya.credential(e.oauthAccessToken)}catch{return null}}}ya.GITHUB_SIGN_IN_METHOD="github.com";ya.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va extends bc{constructor(){super("twitter.com")}static credential(e,s){return fi._fromParams({providerId:va.PROVIDER_ID,signInMethod:va.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:s})}static credentialFromResult(e){return va.credentialFromTaggedObject(e)}static credentialFromError(e){return va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:s,oauthTokenSecret:a}=e;if(!s||!a)return null;try{return va.credential(s,a)}catch{return null}}}va.TWITTER_SIGN_IN_METHOD="twitter.com";va.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hS(r,e){return gc(r,"POST","/v1/accounts:signUp",Rr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,s,a,o=!1){const c=await ks._fromIdTokenResponse(e,a,o),u=py(a);return new pi({user:c,providerId:u,_tokenResponse:a,operationType:s})}static async _forOperation(e,s,a){await e._updateTokensIfNecessary(a,!0);const o=py(a);return new pi({user:e,providerId:o,_tokenResponse:a,operationType:s})}}function py(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd extends er{constructor(e,s,a,o){super(s.code,s.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,vd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:s.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,s,a,o){return new vd(e,s,a,o)}}function C1(r,e,s,a){return(e==="reauthenticate"?s._getReauthenticationResolver(r):s._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?vd._fromErrorAndOperation(r,c,e,a):c})}async function fS(r,e,s=!1){const a=await ec(r,e._linkToIdToken(r.auth,await r.getIdToken()),s);return pi._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pS(r,e,s=!1){const{auth:a}=r;if(Dn(a.app))return Promise.reject(Nr(a));const o="reauthenticate";try{const c=await ec(r,C1(a,o,e,r),s);qe(c.idToken,a,"internal-error");const u=Xp(c.idToken);qe(u,a,"internal-error");const{sub:p}=u;return qe(r.uid===p,a,"user-mismatch"),pi._forOperation(r,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&ls(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j1(r,e,s=!1){if(Dn(r.app))return Promise.reject(Nr(r));const a="signIn",o=await C1(r,a,e),c=await pi._fromIdTokenResponse(r,a,o);return s||await r._updateCurrentUser(c.user),c}async function mS(r,e){return j1(Or(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R1(r){const e=Or(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function gS(r,e,s){const a=Or(r);await yd(a,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",iS)}async function bS(r,e,s){if(Dn(r.app))return Promise.reject(Nr(r));const a=Or(r),u=await yd(a,{returnSecureToken:!0,email:e,password:s,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hS).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&R1(r),m}),p=await pi._fromIdTokenResponse(a,"signIn",u);return await a._updateCurrentUser(p.user),p}function yS(r,e,s){return Dn(r.app)?Promise.reject(Nr(r)):mS(cs(r),jo.credential(e,s)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&R1(r),a})}function vS(r,e,s,a){return cs(r).onIdTokenChanged(e,s,a)}function _S(r,e,s){return cs(r).beforeAuthStateChanged(e,s)}function xS(r,e,s,a){return cs(r).onAuthStateChanged(e,s,a)}function Gf(r){return cs(r).signOut()}const _d="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,s){this.storageRetriever=e,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(_d,"1"),this.storage.removeItem(_d),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,s){return this.storage.setItem(e,JSON.stringify(s)),Promise.resolve()}_get(e){const s=this.storage.getItem(e);return Promise.resolve(s?JSON.parse(s):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS=1e3,kS=10;class O1 extends D1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,s)=>this.onStorageEvent(e,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=S1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const s of Object.keys(this.listeners)){const a=this.storage.getItem(s),o=this.localCache[s];a!==o&&e(s,o,a)}}onStorageEvent(e,s=!1){if(!e.key){this.forAllChangedKeys((u,p,m)=>{this.notifyListeners(u,m)});return}const a=e.key;s?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(a);!s&&this.localCache[a]===u||this.notifyListeners(a,u)},c=this.storage.getItem(a);Pk()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,kS):o()}notifyListeners(e,s){this.localCache[e]=s;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,s,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:s,newValue:a}),!0)})},wS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,s){await super._set(e,s),this.localCache[e]=JSON.stringify(s)}async _get(e){const s=await super._get(e);return this.localCache[e]=JSON.stringify(s),s}async _remove(e){await super._remove(e),delete this.localCache[e]}}O1.type="LOCAL";const SS=O1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1 extends D1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,s){}_removeListener(e,s){}}I1.type="SESSION";const L1=I1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(s){return{fulfilled:!1,reason:s}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const s=this.receivers.find(o=>o.isListeningto(e));if(s)return s;const a=new Id(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const s=e,{eventId:a,eventType:o,data:c}=s.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;s.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(u).map(async b=>b(s.origin,c)),m=await ES(p);s.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:m})}_subscribe(e,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(s)}_unsubscribe(e,s){this.handlersMap[e]&&s&&this.handlersMap[e].delete(s),(!s||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Id.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(r="",e=10){let s="";for(let a=0;a<e;a++)s+=Math.floor(Math.random()*10);return r+s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,s,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,u;return new Promise((p,m)=>{const b=n0("",20);o.port1.start();const x=setTimeout(()=>{m(new Error("unsupported_event"))},a);u={messageChannel:o,onMessage(_){const S=_;if(S.data.eventId===b)switch(S.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(S.data.response);break;default:clearTimeout(x),clearTimeout(c),m(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:b,data:s},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(){return window}function TS(r){Ws().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(){return typeof Ws().WorkerGlobalScope<"u"&&typeof Ws().importScripts=="function"}async function NS(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CS(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function jS(){return U1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="firebaseLocalStorageDb",RS=1,xd="firebaseLocalStorage",P1="fbase_key";class yc{constructor(e){this.request=e}toPromise(){return new Promise((e,s)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function Ld(r,e){return r.transaction([xd],e?"readwrite":"readonly").objectStore(xd)}function DS(){const r=indexedDB.deleteDatabase(M1);return new yc(r).toPromise()}function _p(){const r=indexedDB.open(M1,RS);return new Promise((e,s)=>{r.addEventListener("error",()=>{s(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(xd,{keyPath:P1})}catch(o){s(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(xd)?e(a):(a.close(),await DS(),e(await _p()))})})}async function my(r,e,s){const a=Ld(r,!0).put({[P1]:e,value:s});return new yc(a).toPromise()}async function OS(r,e){const s=Ld(r,!1).get(e),a=await new yc(s).toPromise();return a===void 0?null:a.value}function gy(r,e){const s=Ld(r,!0).delete(e);return new yc(s).toPromise()}const IS=800,LS=3;class z1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _p(),this.db)}async _withRetries(e){let s=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(s++>LS)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return U1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Id._getInstance(jS()),this.receiver._subscribe("keyChanged",async(e,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(e,s)=>["keyChanged"])}async initializeSender(){var s,a;if(this.activeServiceWorker=await NS(),!this.activeServiceWorker)return;this.sender=new AS(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(s=e[0])!=null&&s.fulfilled&&(a=e[0])!=null&&a.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _p();return await my(e,_d,"1"),await gy(e,_d),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,s){return this._withPendingWrite(async()=>(await this._withRetries(a=>my(a,e,s)),this.localCache[e]=s,this.notifyServiceWorker(e)))}async _get(e){const s=await this._withRetries(a=>OS(a,e));return this.localCache[e]=s,s}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(s=>gy(s,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Ld(o,!1).getAll();return new yc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const s=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),s.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),s.push(o));return s}notifyListeners(e,s){this.localCache[e]=s;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),IS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}z1.type="LOCAL";const US=z1;new mc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(r,e){return e?Tr(e):(qe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0 extends Qp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ko(e,this._buildIdpRequest())}_linkToIdToken(e,s){return ko(e,this._buildIdpRequest(s))}_getReauthenticationResolver(e){return ko(e,this._buildIdpRequest())}_buildIdpRequest(e){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(s.idToken=e),s}}function MS(r){return j1(r.auth,new s0(r),r.bypassAuthState)}function PS(r){const{auth:e,user:s}=r;return qe(s,e,"internal-error"),pS(s,new s0(r),r.bypassAuthState)}async function zS(r){const{auth:e,user:s}=r;return qe(s,e,"internal-error"),fS(s,new s0(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,s,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(e,s)=>{this.pendingPromise={resolve:e,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:s,sessionId:a,postBody:o,tenantId:c,error:u,type:p}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:s,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(b){this.reject(b)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MS;case"linkViaPopup":case"linkViaRedirect":return zS;case"reauthViaPopup":case"reauthViaRedirect":return PS;default:ls(this.auth,"internal-error")}}resolve(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=new mc(2e3,1e4);async function $S(r,e,s){if(Dn(r.app))return Promise.reject(As(r,"operation-not-supported-in-this-environment"));const a=Or(r);bk(r,e,t0);const o=B1(a,s);return new ri(a,"signInViaPopup",e,o).executeNotNull()}class ri extends $1{constructor(e,s,a,o,c){super(e,s,o,c),this.provider=a,this.authWindow=null,this.pollId=null,ri.currentPopupAction&&ri.currentPopupAction.cancel(),ri.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){jr(this.filter.length===1,"Popup operations only handle one event");const e=n0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(As(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(As(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ri.currentPopupAction=null}pollUserCancellation(){const e=()=>{var s,a;if((a=(s=this.authWindow)==null?void 0:s.window)!=null&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(As(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,BS.get())};e()}}ri.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="pendingRedirect",cd=new Map;class VS extends $1{constructor(e,s,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,a),this.eventId=null}async execute(){let e=cd.get(this.auth._key());if(!e){try{const a=await HS(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(s){e=()=>Promise.reject(s)}cd.set(this.auth._key(),e)}return this.bypassAuthState||cd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const s=await this.auth._redirectUserForId(e.eventId);if(s)return this.user=s,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HS(r,e){const s=KS(e),a=GS(r);if(!await a._isAvailable())return!1;const o=await a._get(s)==="true";return await a._remove(s),o}function qS(r,e){cd.set(r._key(),e)}function GS(r){return Tr(r._redirectPersistence)}function KS(r){return ld(FS,r.config.apiKey,r.name)}async function JS(r,e,s=!1){if(Dn(r.app))return Promise.reject(Nr(r));const a=Or(r),o=B1(a,e),u=await new VS(a,o,s).execute();return u&&!s&&(delete u.user._redirectEventId,await a._persistUserIfCurrent(u.user),await a._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=600*1e3;class WS{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let s=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(s=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XS(e)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=e,s=!0)),s}sendToConsumer(e,s){var a;if(e.error&&!F1(e)){const o=((a=e.error.code)==null?void 0:a.split("auth/")[1])||"internal-error";s.onError(As(this.auth,o))}else s.onAuthEvent(e)}isEventForConsumer(e,s){const a=s.eventId===null||!!e.eventId&&e.eventId===s.eventId;return s.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YS&&this.cachedEventUids.clear(),this.cachedEventUids.has(by(e))}saveEventToCache(e){this.cachedEventUids.add(by(e)),this.lastProcessedEventTime=Date.now()}}function by(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function F1({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function XS(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return F1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZS(r,e={}){return Dr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eE=/^https?/;async function tE(r){if(r.config.emulator)return;const{authorizedDomains:e}=await ZS(r);for(const s of e)try{if(nE(s))return}catch{}ls(r,"unauthorized-domain")}function nE(r){const e=yp(),{protocol:s,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const u=new URL(r);return u.hostname===""&&a===""?s==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):s==="chrome-extension:"&&u.hostname===a}if(!eE.test(s))return!1;if(QS.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new mc(3e4,6e4);function yy(){const r=Ws().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let s=0;s<r.CP.length;s++)r.CP[s]=null}}function rE(r){return new Promise((e,s)=>{var o,c,u;function a(){yy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yy(),s(As(r,"network-request-failed"))},timeout:sE.get()})}if((c=(o=Ws().gapi)==null?void 0:o.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((u=Ws().gapi)!=null&&u.load)a();else{const p=Kk("iframefcb");return Ws()[p]=()=>{gapi.load?a():s(As(r,"network-request-failed"))},A1(`${Gk()}?onload=${p}`).catch(m=>s(m))}}).catch(e=>{throw ud=null,e})}let ud=null;function aE(r){return ud=ud||rE(r),ud}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=new mc(5e3,15e3),oE="__/auth/iframe",lE="emulator/auth/iframe",cE={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uE=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dE(r){const e=r.config;qe(e.authDomain,r,"auth-domain-config-required");const s=e.emulator?Wp(e,lE):`https://${r.config.authDomain}/${oE}`,a={apiKey:e.apiKey,appName:r.name,v:yi},o=uE.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${s}?${pc(a).slice(1)}`}async function hE(r){const e=await aE(r),s=Ws().gapi;return qe(s,r,"internal-error"),e.open({where:document.body,url:dE(r),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cE,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const u=As(r,"network-request-failed"),p=Ws().setTimeout(()=>{c(u)},iE.get());function m(){Ws().clearTimeout(p),o(a)}a.ping(m).then(m,()=>{c(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pE=500,mE=600,gE="_blank",bE="http://localhost";class vy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yE(r,e,s,a=pE,o=mE){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const m={...fE,width:a.toString(),height:o.toString(),top:c,left:u},b=wn().toLowerCase();s&&(p=v1(b)?gE:s),b1(b)&&(e=e||bE,m.scrollbars="yes");const x=Object.entries(m).reduce((S,[y,E])=>`${S}${y}=${E},`,"");if(Mk(b)&&p!=="_self")return vE(e||"",p),new vy(null);const _=window.open(e||"",p,x);qe(_,r,"popup-blocked");try{_.focus()}catch{}return new vy(_)}function vE(r,e){const s=document.createElement("a");s.href=r,s.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="__/auth/handler",xE="emulator/auth/handler",wE=encodeURIComponent("fac");async function _y(r,e,s,a,o,c){qe(r.config.authDomain,r,"auth-domain-config-required"),qe(r.config.apiKey,r,"invalid-api-key");const u={apiKey:r.config.apiKey,appName:r.name,authType:s,redirectUrl:a,v:yi,eventId:o};if(e instanceof t0){e.setDefaultLanguage(r.languageCode),u.providerId=e.providerId||"",s2(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,_]of Object.entries({}))u[x]=_}if(e instanceof bc){const x=e.getScopes().filter(_=>_!=="");x.length>0&&(u.scopes=x.join(","))}r.tenantId&&(u.tid=r.tenantId);const p=u;for(const x of Object.keys(p))p[x]===void 0&&delete p[x];const m=await r._getAppCheckToken(),b=m?`#${wE}=${encodeURIComponent(m)}`:"";return`${kE(r)}?${pc(p).slice(1)}${b}`}function kE({config:r}){return r.emulator?Wp(r,xE):`https://${r.authDomain}/${_E}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="webStorageSupport";class SE{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=L1,this._completeRedirectFn=JS,this._overrideRedirectResult=qS}async _openPopup(e,s,a,o){var u;jr((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const c=await _y(e,s,a,yp(),o);return yE(e,c,n0())}async _openRedirect(e,s,a,o){await this._originValidation(e);const c=await _y(e,s,a,yp(),o);return TS(c),new Promise(()=>{})}_initialize(e){const s=e._key();if(this.eventManagers[s]){const{manager:o,promise:c}=this.eventManagers[s];return o?Promise.resolve(o):(jr(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[s]={promise:a},a.catch(()=>{delete this.eventManagers[s]}),a}async initAndGetManager(e){const s=await hE(e),a=new WS(e);return s.register("authEvent",o=>(qe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=s,a}_isIframeWebStorageSupported(e,s){this.iframes[e._key()].send(Kf,{type:Kf},o=>{var u;const c=(u=o==null?void 0:o[0])==null?void 0:u[Kf];c!==void 0&&s(!!c),ls(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const s=e._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=tE(e)),this.originValidationPromises[s]}get _shouldInitProactively(){return S1()||y1()||Zp()}}const EE=SE;var xy="@firebase/auth",wy="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const s=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,s),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const s=this.internalListeners.get(e);s&&(this.internalListeners.delete(e),s(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NE(r){hi(new ka("auth",(e,{options:s})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:u,authDomain:p}=a.options;qe(u&&!u.includes(":"),"invalid-api-key",{appName:a.name});const m={apiKey:u,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:E1(r)},b=new Vk(a,o,c,m);return Qk(b,s),b},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,s,a)=>{e.getProvider("auth-internal").initialize()})),hi(new ka("auth-internal",e=>{const s=Or(e.getProvider("auth").getImmediate());return(a=>new AE(a))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ys(xy,wy,TE(r)),Ys(xy,wy,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=300,jE=s1("authIdTokenMaxAge")||CE;let ky=null;const RE=r=>async e=>{const s=e&&await e.getIdTokenResult(),a=s&&(new Date().getTime()-Date.parse(s.issuedAtTime))/1e3;if(a&&a>jE)return;const o=s==null?void 0:s.token;ky!==o&&(ky=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function DE(r=Kp()){const e=Dd(r,"auth");if(e.isInitialized())return e.getImmediate();const s=Zk(r,{popupRedirectResolver:EE,persistence:[US,SS,L1]}),a=s1("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const u=RE(c.toString());_S(s,u,()=>u(s.currentUser)),vS(s,p=>u(p))}}const o=e1("auth");return o&&eS(s,`http://${o}`),s}function OE(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}Hk({loadJS(r){return new Promise((e,s)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const c=As("internal-error");c.customData=o,s(c)},a.type="text/javascript",a.charset="UTF-8",OE().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NE("Browser");var IE="firebase",LE="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ys(IE,LE,"app");var Sy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var r0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,j){function I(){}I.prototype=j.prototype,O.F=j.prototype,O.prototype=new I,O.prototype.constructor=O,O.D=function($,H,R){for(var U=Array(arguments.length-2),D=2;D<arguments.length;D++)U[D-2]=arguments[D];return j.prototype[H].apply($,U)}}function s(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,s),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,j,I){I||(I=0);const $=Array(16);if(typeof j=="string")for(var H=0;H<16;++H)$[H]=j.charCodeAt(I++)|j.charCodeAt(I++)<<8|j.charCodeAt(I++)<<16|j.charCodeAt(I++)<<24;else for(H=0;H<16;++H)$[H]=j[I++]|j[I++]<<8|j[I++]<<16|j[I++]<<24;j=O.g[0],I=O.g[1],H=O.g[2];let R=O.g[3],U;U=j+(R^I&(H^R))+$[0]+3614090360&4294967295,j=I+(U<<7&4294967295|U>>>25),U=R+(H^j&(I^H))+$[1]+3905402710&4294967295,R=j+(U<<12&4294967295|U>>>20),U=H+(I^R&(j^I))+$[2]+606105819&4294967295,H=R+(U<<17&4294967295|U>>>15),U=I+(j^H&(R^j))+$[3]+3250441966&4294967295,I=H+(U<<22&4294967295|U>>>10),U=j+(R^I&(H^R))+$[4]+4118548399&4294967295,j=I+(U<<7&4294967295|U>>>25),U=R+(H^j&(I^H))+$[5]+1200080426&4294967295,R=j+(U<<12&4294967295|U>>>20),U=H+(I^R&(j^I))+$[6]+2821735955&4294967295,H=R+(U<<17&4294967295|U>>>15),U=I+(j^H&(R^j))+$[7]+4249261313&4294967295,I=H+(U<<22&4294967295|U>>>10),U=j+(R^I&(H^R))+$[8]+1770035416&4294967295,j=I+(U<<7&4294967295|U>>>25),U=R+(H^j&(I^H))+$[9]+2336552879&4294967295,R=j+(U<<12&4294967295|U>>>20),U=H+(I^R&(j^I))+$[10]+4294925233&4294967295,H=R+(U<<17&4294967295|U>>>15),U=I+(j^H&(R^j))+$[11]+2304563134&4294967295,I=H+(U<<22&4294967295|U>>>10),U=j+(R^I&(H^R))+$[12]+1804603682&4294967295,j=I+(U<<7&4294967295|U>>>25),U=R+(H^j&(I^H))+$[13]+4254626195&4294967295,R=j+(U<<12&4294967295|U>>>20),U=H+(I^R&(j^I))+$[14]+2792965006&4294967295,H=R+(U<<17&4294967295|U>>>15),U=I+(j^H&(R^j))+$[15]+1236535329&4294967295,I=H+(U<<22&4294967295|U>>>10),U=j+(H^R&(I^H))+$[1]+4129170786&4294967295,j=I+(U<<5&4294967295|U>>>27),U=R+(I^H&(j^I))+$[6]+3225465664&4294967295,R=j+(U<<9&4294967295|U>>>23),U=H+(j^I&(R^j))+$[11]+643717713&4294967295,H=R+(U<<14&4294967295|U>>>18),U=I+(R^j&(H^R))+$[0]+3921069994&4294967295,I=H+(U<<20&4294967295|U>>>12),U=j+(H^R&(I^H))+$[5]+3593408605&4294967295,j=I+(U<<5&4294967295|U>>>27),U=R+(I^H&(j^I))+$[10]+38016083&4294967295,R=j+(U<<9&4294967295|U>>>23),U=H+(j^I&(R^j))+$[15]+3634488961&4294967295,H=R+(U<<14&4294967295|U>>>18),U=I+(R^j&(H^R))+$[4]+3889429448&4294967295,I=H+(U<<20&4294967295|U>>>12),U=j+(H^R&(I^H))+$[9]+568446438&4294967295,j=I+(U<<5&4294967295|U>>>27),U=R+(I^H&(j^I))+$[14]+3275163606&4294967295,R=j+(U<<9&4294967295|U>>>23),U=H+(j^I&(R^j))+$[3]+4107603335&4294967295,H=R+(U<<14&4294967295|U>>>18),U=I+(R^j&(H^R))+$[8]+1163531501&4294967295,I=H+(U<<20&4294967295|U>>>12),U=j+(H^R&(I^H))+$[13]+2850285829&4294967295,j=I+(U<<5&4294967295|U>>>27),U=R+(I^H&(j^I))+$[2]+4243563512&4294967295,R=j+(U<<9&4294967295|U>>>23),U=H+(j^I&(R^j))+$[7]+1735328473&4294967295,H=R+(U<<14&4294967295|U>>>18),U=I+(R^j&(H^R))+$[12]+2368359562&4294967295,I=H+(U<<20&4294967295|U>>>12),U=j+(I^H^R)+$[5]+4294588738&4294967295,j=I+(U<<4&4294967295|U>>>28),U=R+(j^I^H)+$[8]+2272392833&4294967295,R=j+(U<<11&4294967295|U>>>21),U=H+(R^j^I)+$[11]+1839030562&4294967295,H=R+(U<<16&4294967295|U>>>16),U=I+(H^R^j)+$[14]+4259657740&4294967295,I=H+(U<<23&4294967295|U>>>9),U=j+(I^H^R)+$[1]+2763975236&4294967295,j=I+(U<<4&4294967295|U>>>28),U=R+(j^I^H)+$[4]+1272893353&4294967295,R=j+(U<<11&4294967295|U>>>21),U=H+(R^j^I)+$[7]+4139469664&4294967295,H=R+(U<<16&4294967295|U>>>16),U=I+(H^R^j)+$[10]+3200236656&4294967295,I=H+(U<<23&4294967295|U>>>9),U=j+(I^H^R)+$[13]+681279174&4294967295,j=I+(U<<4&4294967295|U>>>28),U=R+(j^I^H)+$[0]+3936430074&4294967295,R=j+(U<<11&4294967295|U>>>21),U=H+(R^j^I)+$[3]+3572445317&4294967295,H=R+(U<<16&4294967295|U>>>16),U=I+(H^R^j)+$[6]+76029189&4294967295,I=H+(U<<23&4294967295|U>>>9),U=j+(I^H^R)+$[9]+3654602809&4294967295,j=I+(U<<4&4294967295|U>>>28),U=R+(j^I^H)+$[12]+3873151461&4294967295,R=j+(U<<11&4294967295|U>>>21),U=H+(R^j^I)+$[15]+530742520&4294967295,H=R+(U<<16&4294967295|U>>>16),U=I+(H^R^j)+$[2]+3299628645&4294967295,I=H+(U<<23&4294967295|U>>>9),U=j+(H^(I|~R))+$[0]+4096336452&4294967295,j=I+(U<<6&4294967295|U>>>26),U=R+(I^(j|~H))+$[7]+1126891415&4294967295,R=j+(U<<10&4294967295|U>>>22),U=H+(j^(R|~I))+$[14]+2878612391&4294967295,H=R+(U<<15&4294967295|U>>>17),U=I+(R^(H|~j))+$[5]+4237533241&4294967295,I=H+(U<<21&4294967295|U>>>11),U=j+(H^(I|~R))+$[12]+1700485571&4294967295,j=I+(U<<6&4294967295|U>>>26),U=R+(I^(j|~H))+$[3]+2399980690&4294967295,R=j+(U<<10&4294967295|U>>>22),U=H+(j^(R|~I))+$[10]+4293915773&4294967295,H=R+(U<<15&4294967295|U>>>17),U=I+(R^(H|~j))+$[1]+2240044497&4294967295,I=H+(U<<21&4294967295|U>>>11),U=j+(H^(I|~R))+$[8]+1873313359&4294967295,j=I+(U<<6&4294967295|U>>>26),U=R+(I^(j|~H))+$[15]+4264355552&4294967295,R=j+(U<<10&4294967295|U>>>22),U=H+(j^(R|~I))+$[6]+2734768916&4294967295,H=R+(U<<15&4294967295|U>>>17),U=I+(R^(H|~j))+$[13]+1309151649&4294967295,I=H+(U<<21&4294967295|U>>>11),U=j+(H^(I|~R))+$[4]+4149444226&4294967295,j=I+(U<<6&4294967295|U>>>26),U=R+(I^(j|~H))+$[11]+3174756917&4294967295,R=j+(U<<10&4294967295|U>>>22),U=H+(j^(R|~I))+$[2]+718787259&4294967295,H=R+(U<<15&4294967295|U>>>17),U=I+(R^(H|~j))+$[9]+3951481745&4294967295,O.g[0]=O.g[0]+j&4294967295,O.g[1]=O.g[1]+(H+(U<<21&4294967295|U>>>11))&4294967295,O.g[2]=O.g[2]+H&4294967295,O.g[3]=O.g[3]+R&4294967295}a.prototype.v=function(O,j){j===void 0&&(j=O.length);const I=j-this.blockSize,$=this.C;let H=this.h,R=0;for(;R<j;){if(H==0)for(;R<=I;)o(this,O,R),R+=this.blockSize;if(typeof O=="string"){for(;R<j;)if($[H++]=O.charCodeAt(R++),H==this.blockSize){o(this,$),H=0;break}}else for(;R<j;)if($[H++]=O[R++],H==this.blockSize){o(this,$),H=0;break}}this.h=H,this.o+=j},a.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var j=1;j<O.length-8;++j)O[j]=0;j=this.o*8;for(var I=O.length-8;I<O.length;++I)O[I]=j&255,j/=256;for(this.v(O),O=Array(16),j=0,I=0;I<4;++I)for(let $=0;$<32;$+=8)O[j++]=this.g[I]>>>$&255;return O};function c(O,j){var I=p;return Object.prototype.hasOwnProperty.call(I,O)?I[O]:I[O]=j(O)}function u(O,j){this.h=j;const I=[];let $=!0;for(let H=O.length-1;H>=0;H--){const R=O[H]|0;$&&R==j||(I[H]=R,$=!1)}this.g=I}var p={};function m(O){return-128<=O&&O<128?c(O,function(j){return new u([j|0],j<0?-1:0)}):new u([O|0],O<0?-1:0)}function b(O){if(isNaN(O)||!isFinite(O))return _;if(O<0)return N(b(-O));const j=[];let I=1;for(let $=0;O>=I;$++)j[$]=O/I|0,I*=4294967296;return new u(j,0)}function x(O,j){if(O.length==0)throw Error("number format error: empty string");if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(O.charAt(0)=="-")return N(x(O.substring(1),j));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=b(Math.pow(j,8));let $=_;for(let R=0;R<O.length;R+=8){var H=Math.min(8,O.length-R);const U=parseInt(O.substring(R,R+H),j);H<8?(H=b(Math.pow(j,H)),$=$.j(H).add(b(U))):($=$.j(I),$=$.add(b(U)))}return $}var _=m(0),S=m(1),y=m(16777216);r=u.prototype,r.m=function(){if(k(this))return-N(this).m();let O=0,j=1;for(let I=0;I<this.g.length;I++){const $=this.i(I);O+=($>=0?$:4294967296+$)*j,j*=4294967296}return O},r.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(E(this))return"0";if(k(this))return"-"+N(this).toString(O);const j=b(Math.pow(O,6));var I=this;let $="";for(;;){const H=V(I,j).g;I=C(I,H.j(j));let R=((I.g.length>0?I.g[0]:I.h)>>>0).toString(O);if(I=H,E(I))return R+$;for(;R.length<6;)R="0"+R;$=R+$}},r.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function E(O){if(O.h!=0)return!1;for(let j=0;j<O.g.length;j++)if(O.g[j]!=0)return!1;return!0}function k(O){return O.h==-1}r.l=function(O){return O=C(this,O),k(O)?-1:E(O)?0:1};function N(O){const j=O.g.length,I=[];for(let $=0;$<j;$++)I[$]=~O.g[$];return new u(I,~O.h).add(S)}r.abs=function(){return k(this)?N(this):this},r.add=function(O){const j=Math.max(this.g.length,O.g.length),I=[];let $=0;for(let H=0;H<=j;H++){let R=$+(this.i(H)&65535)+(O.i(H)&65535),U=(R>>>16)+(this.i(H)>>>16)+(O.i(H)>>>16);$=U>>>16,R&=65535,U&=65535,I[H]=U<<16|R}return new u(I,I[I.length-1]&-2147483648?-1:0)};function C(O,j){return O.add(N(j))}r.j=function(O){if(E(this)||E(O))return _;if(k(this))return k(O)?N(this).j(N(O)):N(N(this).j(O));if(k(O))return N(this.j(N(O)));if(this.l(y)<0&&O.l(y)<0)return b(this.m()*O.m());const j=this.g.length+O.g.length,I=[];for(var $=0;$<2*j;$++)I[$]=0;for($=0;$<this.g.length;$++)for(let H=0;H<O.g.length;H++){const R=this.i($)>>>16,U=this.i($)&65535,D=O.i(H)>>>16,me=O.i(H)&65535;I[2*$+2*H]+=U*me,L(I,2*$+2*H),I[2*$+2*H+1]+=R*me,L(I,2*$+2*H+1),I[2*$+2*H+1]+=U*D,L(I,2*$+2*H+1),I[2*$+2*H+2]+=R*D,L(I,2*$+2*H+2)}for(O=0;O<j;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=j;O<2*j;O++)I[O]=0;return new u(I,0)};function L(O,j){for(;(O[j]&65535)!=O[j];)O[j+1]+=O[j]>>>16,O[j]&=65535,j++}function P(O,j){this.g=O,this.h=j}function V(O,j){if(E(j))throw Error("division by zero");if(E(O))return new P(_,_);if(k(O))return j=V(N(O),j),new P(N(j.g),N(j.h));if(k(j))return j=V(O,N(j)),new P(N(j.g),j.h);if(O.g.length>30){if(k(O)||k(j))throw Error("slowDivide_ only works with positive integers.");for(var I=S,$=j;$.l(O)<=0;)I=q(I),$=q($);var H=G(I,1),R=G($,1);for($=G($,2),I=G(I,2);!E($);){var U=R.add($);U.l(O)<=0&&(H=H.add(I),R=U),$=G($,1),I=G(I,1)}return j=C(O,H.j(j)),new P(H,j)}for(H=_;O.l(j)>=0;){for(I=Math.max(1,Math.floor(O.m()/j.m())),$=Math.ceil(Math.log(I)/Math.LN2),$=$<=48?1:Math.pow(2,$-48),R=b(I),U=R.j(j);k(U)||U.l(O)>0;)I-=$,R=b(I),U=R.j(j);E(R)&&(R=S),H=H.add(R),O=C(O,U)}return new P(H,O)}r.B=function(O){return V(this,O).h},r.and=function(O){const j=Math.max(this.g.length,O.g.length),I=[];for(let $=0;$<j;$++)I[$]=this.i($)&O.i($);return new u(I,this.h&O.h)},r.or=function(O){const j=Math.max(this.g.length,O.g.length),I=[];for(let $=0;$<j;$++)I[$]=this.i($)|O.i($);return new u(I,this.h|O.h)},r.xor=function(O){const j=Math.max(this.g.length,O.g.length),I=[];for(let $=0;$<j;$++)I[$]=this.i($)^O.i($);return new u(I,this.h^O.h)};function q(O){const j=O.g.length+1,I=[];for(let $=0;$<j;$++)I[$]=O.i($)<<1|O.i($-1)>>>31;return new u(I,O.h)}function G(O,j){const I=j>>5;j%=32;const $=O.g.length-I,H=[];for(let R=0;R<$;R++)H[R]=j>0?O.i(R+I)>>>j|O.i(R+I+1)<<32-j:O.i(R+I);return new u(H,O.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=b,u.fromString=x,r0=u}).apply(typeof Sy<"u"?Sy:typeof self<"u"?self:typeof window<"u"?window:{});var Ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var r,e=Object.defineProperty;function s(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ku=="object"&&Ku];for(var v=0;v<d.length;++v){var T=d[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var a=s(this);function o(d,v){if(v)e:{var T=a;d=d.split(".");for(var F=0;F<d.length-1;F++){var le=d[F];if(!(le in T))break e;T=T[le]}d=d[d.length-1],F=T[d],v=v(F),v!=F&&v!=null&&e(T,d,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(d){return d||function(v){var T=[],F;for(F in v)Object.prototype.hasOwnProperty.call(v,F)&&T.push([F,v[F]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},u=this||self;function p(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function m(d,v,T){return d.call.apply(d.bind,arguments)}function b(d,v,T){return b=m,b.apply(null,arguments)}function x(d,v){var T=Array.prototype.slice.call(arguments,1);return function(){var F=T.slice();return F.push.apply(F,arguments),d.apply(this,F)}}function _(d,v){function T(){}T.prototype=v.prototype,d.Z=v.prototype,d.prototype=new T,d.prototype.constructor=d,d.Ob=function(F,le,ge){for(var Ce=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)Ce[Ye-2]=arguments[Ye];return v.prototype[le].apply(F,Ce)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function y(d){const v=d.length;if(v>0){const T=Array(v);for(let F=0;F<v;F++)T[F]=d[F];return T}return[]}function E(d,v){for(let F=1;F<arguments.length;F++){const le=arguments[F];var T=typeof le;if(T=T!="object"?T:le?Array.isArray(le)?"array":T:"null",T=="array"||T=="object"&&typeof le.length=="number"){T=d.length||0;const ge=le.length||0;d.length=T+ge;for(let Ce=0;Ce<ge;Ce++)d[T+Ce]=le[Ce]}else d.push(le)}}class k{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function N(d){u.setTimeout(()=>{throw d},0)}function C(){var d=O;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class L{constructor(){this.h=this.g=null}add(v,T){const F=P.get();F.set(v,T),this.h?this.h.next=F:this.g=F,this.h=F}}var P=new k(()=>new V,d=>d.reset());class V{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let q,G=!1,O=new L,j=()=>{const d=Promise.resolve(void 0);q=()=>{d.then(I)}};function I(){for(var d;d=C();){try{d.h.call(d.g)}catch(T){N(T)}var v=P;v.j(d),v.h<100&&(v.h++,d.next=v.g,v.g=d)}G=!1}function $(){this.u=this.u,this.C=this.C}$.prototype.u=!1,$.prototype.dispose=function(){this.u||(this.u=!0,this.N())},$.prototype[Symbol.dispose]=function(){this.dispose()},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var R=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};u.addEventListener("test",T,v),u.removeEventListener("test",T,v)}catch{}return d})();function U(d){return/^[\s\xa0]*$/.test(d)}function D(d,v){H.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,v)}_(D,H),D.prototype.init=function(d,v){const T=this.type=d.type,F=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget,v||(T=="mouseover"?v=d.fromElement:T=="mouseout"&&(v=d.toElement)),this.relatedTarget=v,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&D.Z.h.call(this)},D.prototype.h=function(){D.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),te=0;function Q(d,v,T,F,le){this.listener=d,this.proxy=null,this.src=v,this.type=T,this.capture=!!F,this.ha=le,this.key=++te,this.da=this.fa=!1}function ve(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ie(d,v,T){for(const F in d)v.call(T,d[F],F,d)}function se(d,v){for(const T in d)v.call(void 0,d[T],T,d)}function X(d){const v={};for(const T in d)v[T]=d[T];return v}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(d,v){let T,F;for(let le=1;le<arguments.length;le++){F=arguments[le];for(T in F)d[T]=F[T];for(let ge=0;ge<K.length;ge++)T=K[ge],Object.prototype.hasOwnProperty.call(F,T)&&(d[T]=F[T])}}function Z(d){this.src=d,this.g={},this.h=0}Z.prototype.add=function(d,v,T,F,le){const ge=d.toString();d=this.g[ge],d||(d=this.g[ge]=[],this.h++);const Ce=we(d,v,F,le);return Ce>-1?(v=d[Ce],T||(v.fa=!1)):(v=new Q(v,this.src,ge,!!F,le),v.fa=T,d.push(v)),v};function re(d,v){const T=v.type;if(T in d.g){var F=d.g[T],le=Array.prototype.indexOf.call(F,v,void 0),ge;(ge=le>=0)&&Array.prototype.splice.call(F,le,1),ge&&(ve(v),d.g[T].length==0&&(delete d.g[T],d.h--))}}function we(d,v,T,F){for(let le=0;le<d.length;++le){const ge=d[le];if(!ge.da&&ge.listener==v&&ge.capture==!!T&&ge.ha==F)return le}return-1}var Re="closure_lm_"+(Math.random()*1e6|0),Ee={};function Pe(d,v,T,F,le){if(Array.isArray(v)){for(let ge=0;ge<v.length;ge++)Pe(d,v[ge],T,F,le);return null}return T=B(T),d&&d[me]?d.J(v,T,p(F)?!!F.capture:!1,le):De(d,v,T,!1,F,le)}function De(d,v,T,F,le,ge){if(!v)throw Error("Invalid event type");const Ce=p(le)?!!le.capture:!!le;let Ye=pe(d);if(Ye||(d[Re]=Ye=new Z(d)),T=Ye.add(v,T,F,Ce,ge),T.proxy)return T;if(F=Fe(),T.proxy=F,F.src=d,F.listener=T,d.addEventListener)R||(le=Ce),le===void 0&&(le=!1),d.addEventListener(v.toString(),F,le);else if(d.attachEvent)d.attachEvent(A(v.toString()),F);else if(d.addListener&&d.removeListener)d.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Fe(){function d(T){return v.call(d.src,d.listener,T)}const v=ye;return d}function gt(d,v,T,F,le){if(Array.isArray(v))for(var ge=0;ge<v.length;ge++)gt(d,v[ge],T,F,le);else F=p(F)?!!F.capture:!!F,T=B(T),d&&d[me]?(d=d.i,ge=String(v).toString(),ge in d.g&&(v=d.g[ge],T=we(v,T,F,le),T>-1&&(ve(v[T]),Array.prototype.splice.call(v,T,1),v.length==0&&(delete d.g[ge],d.h--)))):d&&(d=pe(d))&&(v=d.g[v.toString()],d=-1,v&&(d=we(v,T,F,le)),(T=d>-1?v[d]:null)&&Qe(T))}function Qe(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[me])re(v.i,d);else{var T=d.type,F=d.proxy;v.removeEventListener?v.removeEventListener(T,F,d.capture):v.detachEvent?v.detachEvent(A(T),F):v.addListener&&v.removeListener&&v.removeListener(F),(T=pe(v))?(re(T,d),T.h==0&&(T.src=null,v[Re]=null)):ve(d)}}}function A(d){return d in Ee?Ee[d]:Ee[d]="on"+d}function ye(d,v){if(d.da)d=!0;else{v=new D(v,this);const T=d.listener,F=d.ha||d.src;d.fa&&Qe(d),d=T.call(F,v)}return d}function pe(d){return d=d[Re],d instanceof Z?d:null}var M="__closure_events_fn_"+(Math.random()*1e9>>>0);function B(d){return typeof d=="function"?d:(d[M]||(d[M]=function(v){return d.handleEvent(v)}),d[M])}function Y(){$.call(this),this.i=new Z(this),this.M=this,this.G=null}_(Y,$),Y.prototype[me]=!0,Y.prototype.removeEventListener=function(d,v,T,F){gt(this,d,v,T,F)};function de(d,v){var T,F=d.G;if(F)for(T=[];F;F=F.G)T.push(F);if(d=d.M,F=v.type||v,typeof v=="string")v=new H(v,d);else if(v instanceof H)v.target=v.target||d;else{var le=v;v=new H(F,d),ee(v,le)}le=!0;let ge,Ce;if(T)for(Ce=T.length-1;Ce>=0;Ce--)ge=v.g=T[Ce],le=xe(ge,F,!0,v)&&le;if(ge=v.g=d,le=xe(ge,F,!0,v)&&le,le=xe(ge,F,!1,v)&&le,T)for(Ce=0;Ce<T.length;Ce++)ge=v.g=T[Ce],le=xe(ge,F,!1,v)&&le}Y.prototype.N=function(){if(Y.Z.N.call(this),this.i){var d=this.i;for(const v in d.g){const T=d.g[v];for(let F=0;F<T.length;F++)ve(T[F]);delete d.g[v],d.h--}}this.G=null},Y.prototype.J=function(d,v,T,F){return this.i.add(String(d),v,!1,T,F)},Y.prototype.K=function(d,v,T,F){return this.i.add(String(d),v,!0,T,F)};function xe(d,v,T,F){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();let le=!0;for(let ge=0;ge<v.length;++ge){const Ce=v[ge];if(Ce&&!Ce.da&&Ce.capture==T){const Ye=Ce.listener,Bt=Ce.ha||Ce.src;Ce.fa&&re(d.i,Ce),le=Ye.call(Bt,F)!==!1&&le}}return le&&!F.defaultPrevented}function oe(d,v){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=b(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(d,v||0)}function Te(d){d.g=oe(()=>{d.g=null,d.i&&(d.i=!1,Te(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class Ne extends ${constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Te(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ae(d){$.call(this),this.h=d,this.g={}}_(Ae,$);var Le=[];function Ze(d){ie(d.g,function(v,T){this.g.hasOwnProperty(T)&&Qe(v)},d),d.g={}}Ae.prototype.N=function(){Ae.Z.N.call(this),Ze(this)},Ae.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ge=u.JSON.stringify,nn=u.JSON.parse,Gn=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function Vt(){}function us(){}var it={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function tt(){H.call(this,"d")}_(tt,H);function sn(){H.call(this,"c")}_(sn,H);var dt={},tr=null;function nr(){return tr=tr||new Y}dt.Ia="serverreachability";function Lr(d){H.call(this,dt.Ia,d)}_(Lr,H);function kn(d){const v=nr();de(v,new Lr(v))}dt.STAT_EVENT="statevent";function Kn(d,v){H.call(this,dt.STAT_EVENT,d),this.stat=v}_(Kn,H);function xt(d){const v=nr();de(v,new Kn(v,d))}dt.Ja="timingevent";function cn(d,v){H.call(this,dt.Ja,d),this.size=v}_(cn,H);function Jn(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},v)}function Sn(){this.g=!0}Sn.prototype.ua=function(){this.g=!1};function vi(d,v,T,F,le,ge){d.info(function(){if(d.g)if(ge){var Ce="",Ye=ge.split("&");for(let yt=0;yt<Ye.length;yt++){var Bt=Ye[yt].split("=");if(Bt.length>1){const Ut=Bt[0];Bt=Bt[1];const yn=Ut.split("_");Ce=yn.length>=2&&yn[1]=="type"?Ce+(Ut+"="+Bt+"&"):Ce+(Ut+"=redacted&")}}}else Ce=null;else Ce=ge;return"XMLHTTP REQ ("+F+") [attempt "+le+"]: "+v+`
`+T+`
`+Ce})}function _i(d,v,T,F,le,ge,Ce){d.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+le+"]: "+v+`
`+T+`
`+ge+" "+Ce})}function Yn(d,v,T,F){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Io(d,T)+(F?" "+F:"")})}function sr(d,v){d.info(function(){return"TIMEOUT: "+v})}Sn.prototype.info=function(){};function Io(d,v){if(!d.g)return v;if(!v)return null;try{const ge=JSON.parse(v);if(ge){for(d=0;d<ge.length;d++)if(Array.isArray(ge[d])){var T=ge[d];if(!(T.length<2)){var F=T[1];if(Array.isArray(F)&&!(F.length<1)){var le=F[0];if(le!="noop"&&le!="stop"&&le!="close")for(let Ce=1;Ce<F.length;Ce++)F[Ce]=""}}}}return Ge(ge)}catch{return v}}var fe={NO_ERROR:0,TIMEOUT:8},Oe={},ze;function Ke(){}_(Ke,Vt),Ke.prototype.g=function(){return new XMLHttpRequest},ze=new Ke;function et(d){return encodeURIComponent(String(d))}function On(d){var v=1;d=d.split(":");const T=[];for(;v>0&&d.length;)T.push(d.shift()),v--;return d.length&&T.push(d.join(":")),T}function Lt(d,v,T,F){this.j=d,this.i=v,this.l=T,this.S=F||1,this.V=new Ae(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qt}function Qt(){this.i=null,this.g="",this.h=!1}var Ct={},rn={};function Cs(d,v,T){d.M=1,d.A=Aa(qt(v)),d.u=T,d.R=!0,xi(d,null)}function xi(d,v){d.F=Date.now(),js(d),d.B=qt(d.A);var T=d.B,F=d.S;Array.isArray(F)||(F=[String(F)]),Ei(T.i,"t",F),d.C=0,T=d.j.L,d.h=new Qt,d.g=Pc(d.j,T?v:null,!d.u),d.P>0&&(d.O=new Ne(b(d.Y,d,d.g),d.P)),v=d.V,T=d.g,F=d.ba;var le="readystatechange";Array.isArray(le)||(le&&(Le[0]=le.toString()),le=Le);for(let ge=0;ge<le.length;ge++){const Ce=Pe(T,le[ge],F||v.handleEvent,!1,v.h||v);if(!Ce)break;v.g[Ce.key]=Ce}v=d.J?X(d.J):{},d.u?(d.v||(d.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,v)):(d.v="GET",d.g.ea(d.B,d.v,null,v)),kn(),vi(d.i,d.v,d.B,d.l,d.S,d.u)}Lt.prototype.ba=function(d){d=d.target;const v=this.O;v&&fs(d)==3?v.j():this.Y(d)},Lt.prototype.Y=function(d){try{if(d==this.g)e:{const Ye=fs(this.g),Bt=this.g.ya(),yt=this.g.ca();if(!(Ye<3)&&(Ye!=3||this.g&&(this.h.h||this.g.la()||un(this.g)))){this.K||Ye!=4||Bt==7||(Bt==8||yt<=0?kn(3):kn(2)),Rs(this);var v=this.g.ca();this.X=v;var T=$d(this);if(this.o=v==200,_i(this.i,this.v,this.B,this.l,this.S,Ye,v),this.o){if(this.U&&!this.L){t:{if(this.g){var F,le=this.g;if((F=le.g?le.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(F)){var ge=F;break t}}ge=null}if(d=ge)Yn(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ds(this,d);else{this.o=!1,this.m=3,xt(12),In(this),Wn(this);break e}}if(this.R){d=!0;let Ut;for(;!this.K&&this.C<T.length;)if(Ut=Ec(this,T),Ut==rn){Ye==4&&(this.m=4,xt(14),d=!1),Yn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==Ct){this.m=4,xt(15),Yn(this.i,this.l,T,"[Invalid Chunk]"),d=!1;break}else Yn(this.i,this.l,Ut,null),Ds(this,Ut);if(Sc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ye!=4||T.length!=0||this.h.h||(this.m=1,xt(16),d=!1),this.o=this.o&&d,!d)Yn(this.i,this.l,T,"[Invalid Chunked Response]"),In(this),Wn(this);else if(T.length>0&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.aa&&!Ce.P&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Yo(Ce),Ce.P=!0,xt(11))}}else Yn(this.i,this.l,T,null),Ds(this,T);Ye==4&&In(this),this.o&&!this.K&&(Ye==4?Ic(this.j,this):(this.o=!1,js(this)))}else ar(this.g),v==400&&T.indexOf("Unknown SID")>0?(this.m=3,xt(12)):(this.m=0,xt(13)),In(this),Wn(this)}}}catch{}finally{}};function $d(d){if(!Sc(d))return d.g.la();const v=un(d.g);if(v==="")return"";let T="";const F=v.length,le=fs(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return In(d),Wn(d),"";d.h.i=new u.TextDecoder}for(let ge=0;ge<F;ge++)d.h.h=!0,T+=d.h.i.decode(v[ge],{stream:!(le&&ge==F-1)});return v.length=0,d.h.g+=T,d.C=0,d.h.g}function Sc(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Ec(d,v){var T=d.C,F=v.indexOf(`
`,T);return F==-1?rn:(T=Number(v.substring(T,F)),isNaN(T)?Ct:(F+=1,F+T>v.length?rn:(v=v.slice(F,F+T),d.C=F+T,v)))}Lt.prototype.cancel=function(){this.K=!0,In(this)};function js(d){d.T=Date.now()+d.H,wi(d,d.H)}function wi(d,v){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Jn(b(d.aa,d),v)}function Rs(d){d.D&&(u.clearTimeout(d.D),d.D=null)}Lt.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(sr(this.i,this.B),this.M!=2&&(kn(),xt(17)),In(this),this.m=2,Wn(this)):wi(this,this.T-d)};function Wn(d){d.j.I==0||d.K||Ic(d.j,d)}function In(d){Rs(d);var v=d.O;v&&typeof v.dispose=="function"&&v.dispose(),d.O=null,Ze(d.V),d.g&&(v=d.g,d.g=null,v.abort(),v.dispose())}function Ds(d,v){try{var T=d.j;if(T.I!=0&&(T.g==d||Is(T.h,d))){if(!d.L&&Is(T.h,d)&&T.I==3){try{var F=T.Ba.g.parse(v)}catch{F=null}if(Array.isArray(F)&&F.length==3){var le=F;if(le[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<d.F)ji(T),Vr(T);else break e;Oa(T),xt(18)}}else T.xa=le[1],0<T.xa-T.K&&le[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Jn(b(T.Va,T),6e3));Os(T.h)<=1&&T.ta&&(T.ta=void 0)}else Bs(T,11)}else if((d.L||T.g==d)&&ji(T),!U(v))for(le=T.Ba.g.parse(v),v=0;v<le.length;v++){let yt=le[v];const Ut=yt[0];if(!(Ut<=T.K))if(T.K=Ut,yt=yt[1],T.I==2)if(yt[0]=="c"){T.M=yt[1],T.ba=yt[2];const yn=yt[3];yn!=null&&(T.ka=yn,T.j.info("VER="+T.ka));const ir=yt[4];ir!=null&&(T.za=ir,T.j.info("SVER="+T.za));const ps=yt[5];ps!=null&&typeof ps=="number"&&ps>0&&(F=1.5*ps,T.O=F,T.j.info("backChannelRequestTimeoutMs_="+F)),F=T;const ms=d.g;if(ms){const Ia=ms.g?ms.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ia){var ge=F.h;ge.g||Ia.indexOf("spdy")==-1&&Ia.indexOf("quic")==-1&&Ia.indexOf("h2")==-1||(ge.j=ge.l,ge.g=new Set,ge.h&&(Mo(ge,ge.h),ge.h=null))}if(F.G){const Ri=ms.g?ms.g.getResponseHeader("X-HTTP-Session-Id"):null;Ri&&(F.wa=Ri,bt(F.J,F.G,Ri))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-d.F,T.j.info("Handshake RTT: "+T.T+"ms")),F=T;var Ce=d;if(F.na=Mc(F,F.L?F.ba:null,F.W),Ce.L){Po(F.h,Ce);var Ye=Ce,Bt=F.O;Bt&&(Ye.H=Bt),Ye.D&&(Rs(Ye),js(Ye)),F.g=Ce}else Dc(F);T.i.length>0&&zs(T)}else yt[0]!="stop"&&yt[0]!="close"||Bs(T,7);else T.I==3&&(yt[0]=="stop"||yt[0]=="close"?yt[0]=="stop"?Bs(T,7):Ko(T):yt[0]!="noop"&&T.l&&T.l.qa(yt),T.A=0)}}kn(4)}catch{}}var Ht=class{constructor(d,v){this.g=d,this.map=v}};function Lo(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Uo(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Os(d){return d.h?1:d.g?d.g.size:0}function Is(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Mo(d,v){d.g?d.g.add(v):d.h=v}function Po(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}Lo.prototype.cancel=function(){if(this.i=zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function zo(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const T of d.g.values())v=v.concat(T.G);return v}return y(d.i)}var Ac=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ki(d,v){if(d){d=d.split("&");for(let T=0;T<d.length;T++){const F=d[T].indexOf("=");let le,ge=null;F>=0?(le=d[T].substring(0,F),ge=d[T].substring(F+1)):le=d[T],v(le,ge?decodeURIComponent(ge.replace(/\+/g," ")):"")}}}function Ln(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;d instanceof Ln?(this.l=d.l,an(this,d.j),this.o=d.o,this.g=d.g,Ur(this,d.u),this.h=d.h,Bo(this,jc(d.i)),this.m=d.m):d&&(v=String(d).match(Ac))?(this.l=!1,an(this,v[1]||"",!0),this.o=Ls(v[2]||""),this.g=Ls(v[3]||"",!0),Ur(this,v[4]),this.h=Ls(v[5]||"",!0),Bo(this,v[6]||"",!0),this.m=Ls(v[7]||"")):(this.l=!1,this.i=new Pr(null,this.l))}Ln.prototype.toString=function(){const d=[];var v=this.j;v&&d.push(Ta(v,Si,!0),":");var T=this.g;return(T||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Ta(v,Si,!0),"@"),d.push(et(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&d.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(Ta(T,T.charAt(0)=="/"?$o:Tc,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",Ta(T,Nc)),d.join("")},Ln.prototype.resolve=function(d){const v=qt(this);let T=!!d.j;T?an(v,d.j):T=!!d.o,T?v.o=d.o:T=!!d.g,T?v.g=d.g:T=d.u!=null;var F=d.h;if(T)Ur(v,d.u);else if(T=!!d.h){if(F.charAt(0)!="/")if(this.g&&!this.h)F="/"+F;else{var le=v.h.lastIndexOf("/");le!=-1&&(F=v.h.slice(0,le+1)+F)}if(le=F,le==".."||le==".")F="";else if(le.indexOf("./")!=-1||le.indexOf("/.")!=-1){F=le.lastIndexOf("/",0)==0,le=le.split("/");const ge=[];for(let Ce=0;Ce<le.length;){const Ye=le[Ce++];Ye=="."?F&&Ce==le.length&&ge.push(""):Ye==".."?((ge.length>1||ge.length==1&&ge[0]!="")&&ge.pop(),F&&Ce==le.length&&ge.push("")):(ge.push(Ye),F=!0)}F=ge.join("/")}else F=le}return T?v.h=F:T=d.i.toString()!=="",T?Bo(v,jc(d.i)):T=!!d.m,T&&(v.m=d.m),v};function qt(d){return new Ln(d)}function an(d,v,T){d.j=T?Ls(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Ur(d,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);d.u=v}else d.u=null}function Bo(d,v,T){v instanceof Pr?(d.i=v,Ai(d.i,d.l)):(T||(v=Ta(v,Mr)),d.i=new Pr(v,d.l))}function bt(d,v,T){d.i.set(v,T)}function Aa(d){return bt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Ls(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ta(d,v,T){return typeof d=="string"?(d=encodeURI(d).replace(v,En),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function En(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Si=/[#\/\?@]/g,Tc=/[#\?:]/g,$o=/[#\?]/g,Mr=/[#\?@]/g,Nc=/#/g;function Pr(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function An(d){d.g||(d.g=new Map,d.h=0,d.i&&ki(d.i,function(v,T){d.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}r=Pr.prototype,r.add=function(d,v){An(this),this.i=null,d=zr(this,d);let T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(v),this.h+=1,this};function Cc(d,v){An(d),v=zr(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function Fo(d,v){return An(d),v=zr(d,v),d.g.has(v)}r.forEach=function(d,v){An(this),this.g.forEach(function(T,F){T.forEach(function(le){d.call(v,le,F,this)},this)},this)};function Vo(d,v){An(d);let T=[];if(typeof v=="string")Fo(d,v)&&(T=T.concat(d.g.get(zr(d,v))));else for(d=Array.from(d.g.values()),v=0;v<d.length;v++)T=T.concat(d[v]);return T}r.set=function(d,v){return An(this),this.i=null,d=zr(this,d),Fo(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},r.get=function(d,v){return d?(d=Vo(this,d),d.length>0?String(d[0]):v):v};function Ei(d,v,T){Cc(d,v),T.length>0&&(d.i=null,d.g.set(zr(d,v),y(T)),d.h+=T.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(let F=0;F<v.length;F++){var T=v[F];const le=et(T);T=Vo(this,T);for(let ge=0;ge<T.length;ge++){let Ce=le;T[ge]!==""&&(Ce+="="+et(T[ge])),d.push(Ce)}}return this.i=d.join("&")};function jc(d){const v=new Pr;return v.i=d.i,d.g&&(v.g=new Map(d.g),v.h=d.h),v}function zr(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function Ai(d,v){v&&!d.j&&(An(d),d.i=null,d.g.forEach(function(T,F){const le=F.toLowerCase();F!=le&&(Cc(this,F),Ei(this,le,T))},d)),d.j=v}function ds(d,v){const T=new Sn;if(u.Image){const F=new Image;F.onload=x(Xn,T,"TestLoadImage: loaded",!0,v,F),F.onerror=x(Xn,T,"TestLoadImage: error",!1,v,F),F.onabort=x(Xn,T,"TestLoadImage: abort",!1,v,F),F.ontimeout=x(Xn,T,"TestLoadImage: timeout",!1,v,F),u.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=d}else v(!1)}function Ho(d,v){const T=new Sn,F=new AbortController,le=setTimeout(()=>{F.abort(),Xn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:F.signal}).then(ge=>{clearTimeout(le),ge.ok?Xn(T,"TestPingServer: ok",!0,v):Xn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(le),Xn(T,"TestPingServer: error",!1,v)})}function Xn(d,v,T,F,le){try{le&&(le.onload=null,le.onerror=null,le.onabort=null,le.ontimeout=null),F(T)}catch{}}function Br(){this.g=new Gn}function Us(d){this.i=d.Sb||null,this.h=d.ab||!1}_(Us,Vt),Us.prototype.g=function(){return new Na(this.i,this.h)};function Na(d,v){Y.call(this),this.H=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Na,Y),r=Na.prototype,r.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=v,this.readyState=1,hs(this)},r.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(v.body=d),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,$r(this)),this.readyState=0},r.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,hs(this)),this.g&&(this.readyState=3,hs(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ti(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ti(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}r.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?$r(this):hs(this),this.readyState==3&&Ti(this)}},r.Oa=function(d){this.g&&(this.response=this.responseText=d,$r(this))},r.Na=function(d){this.g&&(this.response=d,$r(this))},r.ga=function(){this.g&&$r(this)};function $r(d){d.readyState=4,d.l=null,d.j=null,d.B=null,hs(d)}r.setRequestHeader=function(d,v){this.A.append(d,v)},r.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=v.next();return d.join(`\r
`)};function hs(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Na.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Zn(d){let v="";return ie(d,function(T,F){v+=F,v+=":",v+=T,v+=`\r
`}),v}function Ca(d,v,T){e:{for(F in T){var F=!1;break e}F=!0}F||(T=Zn(T),typeof d=="string"?T!=null&&et(T):bt(d,v,T))}function Et(d){Y.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(Et,Y);var Ms=/^https?$/i,qo=["POST","PUT"];r=Et.prototype,r.Fa=function(d){this.H=d},r.ea=function(d,v,T,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ze.g(),this.g.onreadystatechange=S(b(this.Ca,this));try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(ge){ja(this,ge);return}if(d=T||"",T=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var le in F)T.set(le,F[le]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const ge of F.keys())T.set(ge,F.get(ge));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(T.keys()).find(ge=>ge.toLowerCase()=="content-type"),le=u.FormData&&d instanceof u.FormData,!(Array.prototype.indexOf.call(qo,v,void 0)>=0)||F||le||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ge,Ce]of T)this.g.setRequestHeader(ge,Ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(ge){ja(this,ge)}};function ja(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.o=5,Go(d),rr(d)}function Go(d){d.A||(d.A=!0,de(d,"complete"),de(d,"error"))}r.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,de(this,"complete"),de(this,"abort"),rr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rr(this,!0)),Et.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ra(this):this.Xa())},r.Xa=function(){Ra(this)};function Ra(d){if(d.h&&typeof c<"u"){if(d.v&&fs(d)==4)setTimeout(d.Ca.bind(d),0);else if(de(d,"readystatechange"),fs(d)==4){d.h=!1;try{const ge=d.ca();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var F;if(F=ge===0){let Ce=String(d.D).match(Ac)[1]||null;!Ce&&u.self&&u.self.location&&(Ce=u.self.location.protocol.slice(0,-1)),F=!Ms.test(Ce?Ce.toLowerCase():"")}T=F}if(T)de(d,"complete"),de(d,"success");else{d.o=6;try{var le=fs(d)>2?d.g.statusText:""}catch{le=""}d.l=le+" ["+d.ca()+"]",Go(d)}}finally{rr(d)}}}}function rr(d,v){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const T=d.g;d.g=null,v||de(d,"ready");try{T.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function fs(d){return d.g?d.g.readyState:0}r.ca=function(){try{return fs(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),nn(v)}};function un(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ar(d){const v={};d=(d.g&&fs(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<d.length;F++){if(U(d[F]))continue;var T=On(d[F]);const le=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ge=v[le]||[];v[le]=ge,ge.push(T)}se(v,function(F){return F.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ps(d,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||v}function Fr(d){this.za=0,this.i=[],this.j=new Sn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ps("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ps("baseRetryDelayMs",5e3,d),this.Za=Ps("retryDelaySeedMs",1e4,d),this.Ta=Ps("forwardChannelMaxRetries",2,d),this.va=Ps("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Lo(d&&d.concurrentRequestLimit),this.Ba=new Br,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Fr.prototype,r.ka=8,r.I=1,r.connect=function(d,v,T,F){xt(0),this.W=d,this.H=v||{},T&&F!==void 0&&(this.H.OSID=T,this.H.OAID=F),this.F=this.X,this.J=Mc(this,null,this.W),zs(this)};function Ko(d){if(Ni(d),d.I==3){var v=d.V++,T=qt(d.J);if(bt(T,"SID",d.M),bt(T,"RID",v),bt(T,"TYPE","terminate"),Da(d,T),v=new Lt(d,d.j,v),v.M=2,v.A=Aa(qt(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!T&&u.Image&&(new Image().src=v.A,T=!0),T||(v.g=Pc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),js(v)}Uc(d)}function Vr(d){d.g&&(Yo(d),d.g.cancel(),d.g=null)}function Ni(d){Vr(d),d.v&&(u.clearTimeout(d.v),d.v=null),ji(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&u.clearTimeout(d.m),d.m=null)}function zs(d){if(!Uo(d.h)&&!d.m){d.m=!0;var v=d.Ea;q||j(),G||(q(),G=!0),O.add(v,d),d.D=0}}function Ci(d,v){return Os(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=v.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Jn(b(d.Ea,d,v),Lc(d,d.D)),d.D++,!0)}r.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const le=new Lt(this,this.j,d);let ge=this.o;if(this.U&&(ge?(ge=X(ge),ee(ge,this.U)):ge=this.U),this.u!==null||this.R||(le.J=ge,ge=null),this.S)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var F=this.i[T];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(v+=F,v>4096){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=Rc(this,le,v),T=qt(this.J),bt(T,"RID",d),bt(T,"CVER",22),this.G&&bt(T,"X-HTTP-Session-Id",this.G),Da(this,T),ge&&(this.R?v="headers="+et(Zn(ge))+"&"+v:this.u&&Ca(T,this.u,ge)),Mo(this.h,le),this.Ra&&bt(T,"TYPE","init"),this.S?(bt(T,"$req",v),bt(T,"SID","null"),le.U=!0,Cs(le,T,null)):Cs(le,T,v),this.I=2}}else this.I==3&&(d?Jo(this,d):this.i.length==0||Uo(this.h)||Jo(this))};function Jo(d,v){var T;v?T=v.l:T=d.V++;const F=qt(d.J);bt(F,"SID",d.M),bt(F,"RID",T),bt(F,"AID",d.K),Da(d,F),d.u&&d.o&&Ca(F,d.u,d.o),T=new Lt(d,d.j,T,d.D+1),d.u===null&&(T.J=d.o),v&&(d.i=v.G.concat(d.i)),v=Rc(d,T,1e3),T.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Mo(d.h,T),Cs(T,F,v)}function Da(d,v){d.H&&ie(d.H,function(T,F){bt(v,F,T)}),d.l&&ie({},function(T,F){bt(v,F,T)})}function Rc(d,v,T){T=Math.min(d.i.length,T);const F=d.l?b(d.l.Ka,d.l,d):null;e:{var le=d.i;let Ye=-1;for(;;){const Bt=["count="+T];Ye==-1?T>0?(Ye=le[0].g,Bt.push("ofs="+Ye)):Ye=0:Bt.push("ofs="+Ye);let yt=!0;for(let Ut=0;Ut<T;Ut++){var ge=le[Ut].g;const yn=le[Ut].map;if(ge-=Ye,ge<0)Ye=Math.max(0,le[Ut].g-100),yt=!1;else try{ge="req"+ge+"_"||"";try{var Ce=yn instanceof Map?yn:Object.entries(yn);for(const[ir,ps]of Ce){let ms=ps;p(ps)&&(ms=Ge(ps)),Bt.push(ge+ir+"="+encodeURIComponent(ms))}}catch(ir){throw Bt.push(ge+"type="+encodeURIComponent("_badmap")),ir}}catch{F&&F(yn)}}if(yt){Ce=Bt.join("&");break e}}Ce=void 0}return d=d.i.splice(0,T),v.G=d,Ce}function Dc(d){if(!d.g&&!d.v){d.Y=1;var v=d.Da;q||j(),G||(q(),G=!0),O.add(v,d),d.A=0}}function Oa(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Jn(b(d.Da,d),Lc(d,d.A)),d.A++,!0)}r.Da=function(){if(this.v=null,Oc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Jn(b(this.Wa,this),d)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xt(10),Vr(this),Oc(this))};function Yo(d){d.B!=null&&(u.clearTimeout(d.B),d.B=null)}function Oc(d){d.g=new Lt(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var v=qt(d.na);bt(v,"RID","rpc"),bt(v,"SID",d.M),bt(v,"AID",d.K),bt(v,"CI",d.F?"0":"1"),!d.F&&d.ia&&bt(v,"TO",d.ia),bt(v,"TYPE","xmlhttp"),Da(d,v),d.u&&d.o&&Ca(v,d.u,d.o),d.O&&(d.g.H=d.O);var T=d.g;d=d.ba,T.M=1,T.A=Aa(qt(v)),T.u=null,T.R=!0,xi(T,d)}r.Va=function(){this.C!=null&&(this.C=null,Vr(this),Oa(this),xt(19))};function ji(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function Ic(d,v){var T=null;if(d.g==v){ji(d),Yo(d),d.g=null;var F=2}else if(Is(d.h,v))T=v.G,Po(d.h,v),F=1;else return;if(d.I!=0){if(v.o)if(F==1){T=v.u?v.u.length:0,v=Date.now()-v.F;var le=d.D;F=nr(),de(F,new cn(F,T)),zs(d)}else Dc(d);else if(le=v.m,le==3||le==0&&v.X>0||!(F==1&&Ci(d,v)||F==2&&Oa(d)))switch(T&&T.length>0&&(v=d.h,v.i=v.i.concat(T)),le){case 1:Bs(d,5);break;case 4:Bs(d,10);break;case 3:Bs(d,6);break;default:Bs(d,2)}}}function Lc(d,v){let T=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(T*=2),T*v}function Bs(d,v){if(d.j.info("Error code "+v),v==2){var T=b(d.bb,d),F=d.Ua;const le=!F;F=new Ln(F||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||an(F,"https"),Aa(F),le?ds(F.toString(),T):Ho(F.toString(),T)}else xt(2);d.I=0,d.l&&d.l.pa(v),Uc(d),Ni(d)}r.bb=function(d){d?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function Uc(d){if(d.I=0,d.ja=[],d.l){const v=zo(d.h);(v.length!=0||d.i.length!=0)&&(E(d.ja,v),E(d.ja,d.i),d.h.i.length=0,y(d.i),d.i.length=0),d.l.oa()}}function Mc(d,v,T){var F=T instanceof Ln?qt(T):new Ln(T);if(F.g!="")v&&(F.g=v+"."+F.g),Ur(F,F.u);else{var le=u.location;F=le.protocol,v=v?v+"."+le.hostname:le.hostname,le=+le.port;const ge=new Ln(null);F&&an(ge,F),v&&(ge.g=v),le&&Ur(ge,le),T&&(ge.h=T),F=ge}return T=d.G,v=d.wa,T&&v&&bt(F,T,v),bt(F,"VER",d.ka),Da(d,F),F}function Pc(d,v,T){if(v&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Aa&&!d.ma?new Et(new Us({ab:T})):new Et(d.ma),v.Fa(d.L),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function zc(){}r=zc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function bn(d,v){Y.call(this),this.g=new Fr(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(d?d["X-WebChannel-Client-Profile"]=v.sa:d={"X-WebChannel-Client-Profile":v.sa}),this.g.U=d,(d=v&&v.Qb)&&!U(d)&&(this.g.u=d),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!U(v)&&(this.g.G=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Hr(this)}_(bn,Y),bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){Ko(this.g)},bn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.v&&(T={},T.__data__=Ge(d),d=T);v.i.push(new Ht(v.Ya++,d)),v.I==3&&zs(v)},bn.prototype.N=function(){this.g.l=null,delete this.j,Ko(this.g),delete this.g,bn.Z.N.call(this)};function Bc(d){tt.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const T in v){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}_(Bc,tt);function $c(){sn.call(this),this.status=1}_($c,sn);function Hr(d){this.g=d}_(Hr,zc),Hr.prototype.ra=function(){de(this.g,"a")},Hr.prototype.qa=function(d){de(this.g,new Bc(d))},Hr.prototype.pa=function(d){de(this.g,new $c)},Hr.prototype.oa=function(){de(this.g,"b")},bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,fe.NO_ERROR=0,fe.TIMEOUT=8,fe.HTTP_ERROR=6,Oe.COMPLETE="complete",us.EventType=it,it.OPEN="a",it.CLOSE="b",it.ERROR="c",it.MESSAGE="d",Y.prototype.listen=Y.prototype.J,Et.prototype.listenOnce=Et.prototype.K,Et.prototype.getLastError=Et.prototype.Ha,Et.prototype.getLastErrorCode=Et.prototype.ya,Et.prototype.getStatus=Et.prototype.ca,Et.prototype.getResponseJson=Et.prototype.La,Et.prototype.getResponseText=Et.prototype.la,Et.prototype.send=Et.prototype.ea,Et.prototype.setWithCredentials=Et.prototype.Fa}).apply(typeof Ku<"u"?Ku:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _n=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc="12.9.0";function UE(r){vc=r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=new qp("@firebase/firestore");function Ss(r,...e){if(To.logLevel<=mt.DEBUG){const s=e.map(a0);To.debug(`Firestore (${vc}): ${r}`,...s)}}function V1(r,...e){if(To.logLevel<=mt.ERROR){const s=e.map(a0);To.error(`Firestore (${vc}): ${r}`,...s)}}function ME(r,...e){if(To.logLevel<=mt.WARN){const s=e.map(a0);To.warn(`Firestore (${vc}): ${r}`,...s)}}function a0(r){if(typeof r=="string")return r;try{return(function(s){return JSON.stringify(s)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(r,e,s){let a="Unexpected state";typeof e=="string"?a=e:s=e,H1(r,a,s)}function H1(r,e,s){let a=`FIRESTORE (${vc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(s!==void 0)try{a+=" CONTEXT: "+JSON.stringify(s)}catch{a+=" CONTEXT: "+s}throw V1(a),new Error(a)}function Gl(r,e,s,a){let o="Unexpected state";typeof s=="string"?o=s:a=s,r||H1(e,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ct={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class ut extends er{constructor(e,s){super(e,s),this.code=e,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(){this.promise=new Promise(((e,s)=>{this.resolve=e,this.reject=s}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,s){e.enqueueRetryable((()=>s(_n.UNAUTHENTICATED)))}shutdown(){}}class zE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,s){this.changeListener=s,e.enqueueRetryable((()=>s(this.token.user)))}shutdown(){this.changeListener=null}}class BE{constructor(e){this.t=e,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,s){Gl(this.o===void 0,42304);let a=this.i;const o=m=>this.i!==a?(a=this.i,s(m)):Promise.resolve();let c=new Kl;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Kl,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const m=c;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},p=m=>{Ss("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>p(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(Ss("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Kl)}}),0),u()}getToken(){const e=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then((a=>this.i!==e?(Ss("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Gl(typeof a.accessToken=="string",31837,{l:a}),new q1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gl(e===null||typeof e=="string",2055,{h:e}),new _n(e)}}class $E{constructor(e,s,a){this.P=e,this.T=s,this.I=a,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class FE{constructor(e,s,a){this.P=e,this.T=s,this.I=a}getToken(){return Promise.resolve(new $E(this.P,this.T,this.I))}start(e,s){e.enqueueRetryable((()=>s(_n.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ey{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VE{constructor(e,s){this.V=s,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,s){Gl(this.o===void 0,3512);const a=c=>{c.error!=null&&Ss("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.m;return this.m=c.token,Ss("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?s(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{Ss("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):Ss("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ey(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((s=>s?(Gl(typeof s.token=="string",44558,{tokenResult:s}),this.m=s.token,new Ey(s.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(s);else for(let a=0;a<r;a++)s[a]=Math.floor(256*Math.random());return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=HE(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<s&&(a+=e.charAt(o[c]%62))}return a}}function Sa(r,e){return r<e?-1:r>e?1:0}function GE(r,e){const s=Math.min(r.length,e.length);for(let a=0;a<s;a++){const o=r.charAt(a),c=e.charAt(a);if(o!==c)return Jf(o)===Jf(c)?Sa(o,c):Jf(o)?1:-1}return Sa(r.length,e.length)}const KE=55296,JE=57343;function Jf(r){const e=r.charCodeAt(0);return e>=KE&&e<=JE}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay="__name__";class qs{constructor(e,s,a){s===void 0?s=0:s>e.length&&nc(637,{offset:s,range:e.length}),a===void 0?a=e.length-s:a>e.length-s&&nc(1746,{length:a,range:e.length-s}),this.segments=e,this.offset=s,this.len=a}get length(){return this.len}isEqual(e){return qs.comparator(this,e)===0}child(e){const s=this.segments.slice(this.offset,this.limit());return e instanceof qs?e.forEach((a=>{s.push(a)})):s.push(e),this.construct(s)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}forEach(e){for(let s=this.offset,a=this.limit();s<a;s++)e(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,s){const a=Math.min(e.length,s.length);for(let o=0;o<a;o++){const c=qs.compareSegments(e.get(o),s.get(o));if(c!==0)return c}return Sa(e.length,s.length)}static compareSegments(e,s){const a=qs.isNumericId(e),o=qs.isNumericId(s);return a&&!o?-1:!a&&o?1:a&&o?qs.extractNumericId(e).compare(qs.extractNumericId(s)):GE(e,s)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return r0.fromString(e.substring(4,e.length-2))}}class ws extends qs{construct(e,s,a){return new ws(e,s,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const s=[];for(const a of e){if(a.indexOf("//")>=0)throw new ut(ct.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);s.push(...a.split("/").filter((o=>o.length>0)))}return new ws(s)}static emptyPath(){return new ws([])}}const YE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ti extends qs{construct(e,s,a){return new ti(e,s,a)}static isValidIdentifier(e){return YE.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ti.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ay}static keyField(){return new ti([Ay])}static fromServerFormat(e){const s=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ut(ct.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(a),a=""};let u=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ut(ct.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ut(ct.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=m,o+=2}else p==="`"?(u=!u,o++):p!=="."||u?(a+=p,o++):(c(),o++)}if(c(),u)throw new ut(ct.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ti(s)}static emptyPath(){return new ti([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.path=e}static fromPath(e){return new ai(ws.fromString(e))}static fromName(e){return new ai(ws.fromString(e).popFirst(5))}static empty(){return new ai(ws.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ws.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,s){return ws.comparator(e.path,s.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ai(new ws(e.slice()))}}function WE(r,e,s,a){if(e===!0&&a===!0)throw new ut(ct.INVALID_ARGUMENT,`${r} and ${s} cannot be used together.`)}function XE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function ZE(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":nc(12329,{type:typeof r})}function QE(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ut(ct.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=ZE(r);throw new ut(ct.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${s}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(r,e){const s={typeString:r};return e&&(s.value=e),s}function _c(r,e){if(!XE(r))throw new ut(ct.INVALID_ARGUMENT,"JSON must be an object");let s;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){s=`JSON missing required field: '${a}'`;break}const u=r[a];if(o&&typeof u!==o){s=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&u!==c.value){s=`Expected '${a}' field to equal '${c.value}'`;break}}if(s)throw new ut(ct.INVALID_ARGUMENT,s);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty=-62135596800,Ny=1e6;class Gs{static now(){return Gs.fromMillis(Date.now())}static fromDate(e){return Gs.fromMillis(e.getTime())}static fromMillis(e){const s=Math.floor(e/1e3),a=Math.floor((e-1e3*s)*Ny);return new Gs(s,a)}constructor(e,s){if(this.seconds=e,this.nanoseconds=s,s<0)throw new ut(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new ut(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(e<Ty)throw new ut(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ny}_compareTo(e){return this.seconds===e.seconds?Sa(this.nanoseconds,e.nanoseconds):Sa(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Gs._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_c(e,Gs._jsonSchema))return new Gs(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ty;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Gs._jsonSchemaVersion="firestore/timestamp/1.0",Gs._jsonSchema={type:Zt("string",Gs._jsonSchemaVersion),seconds:Zt("number"),nanoseconds:Zt("number")};function eA(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this.binaryString=e}static fromBase64String(e){const s=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new tA("Invalid base64 string: "+c):c}})(e);return new mi(s)}static fromUint8Array(e){const s=(function(o){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);return c})(e);return new mi(s)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(s){return btoa(s)})(this.binaryString)}toUint8Array(){return(function(s){const a=new Uint8Array(s.length);for(let o=0;o<s.length;o++)a[o]=s.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Sa(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mi.EMPTY_BYTE_STRING=new mi("");const xp="(default)";class wd{constructor(e,s){this.projectId=e,this.database=s||xp}static empty(){return new wd("","")}get isDefaultDatabase(){return this.database===xp}isEqual(e){return e instanceof wd&&e.projectId===this.projectId&&e.database===this.database}}function nA(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ut(ct.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wd(r.options.projectId,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,s=null,a=[],o=[],c=null,u="F",p=null,m=null){this.path=e,this.collectionGroup=s,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=u,this.startAt=p,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function rA(r){return new sA(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cy,lt;(lt=Cy||(Cy={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new r0([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=1048576;function Yf(){return typeof document<"u"?document:null}class oA{constructor(e,s,a=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=s,this.R_=a,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const s=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,s-a);o>0&&Ss("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${s} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,s,a,o,c){this.asyncQueue=e,this.timerId=s,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Kl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,s,a,o,c){const u=Date.now()+a,p=new i0(e,s,u,o,c);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(ct.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var jy,Ry;(Ry=jy||(jy={})).Ma="default",Ry.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="ComponentProvider",Dy=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="firestore.googleapis.com",Oy=!0;class Iy{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ut(ct.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=G1,this.ssl=Oy}else this.host=e.host,this.ssl=e.ssl??Oy;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=aA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iA)throw new ut(ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lA(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ut(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ut(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ut(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class K1{constructor(e,s,a,o){this._authCredentials=e,this._appCheckCredentials=s,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Iy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(ct.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(ct.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Iy(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new PE;switch(a.type){case"firstParty":return new FE(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ut(ct.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(s){const a=Dy.get(s);a&&(Ss(cA,"Removing Datastore"),Dy.delete(s),a.terminate())})(this),Promise.resolve()}}function uA(r,e,s,a={}){var b;r=QE(r,K1);const o=Co(e),c=r._getSettings(),u={...c,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${s}`;o&&(Vp(`https://${p}`),Hp("Firestore",!0)),c.host!==G1&&c.host!==p&&ME("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...c,host:p,ssl:o,emulatorOptions:a};if(!di(m,u)&&(r._setSettings(m),a.mockUserToken)){let x,_;if(typeof a.mockUserToken=="string")x=a.mockUserToken,_=_n.MOCK_USER;else{x=r1(a.mockUserToken,(b=r._app)==null?void 0:b.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ut(ct.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new _n(S)}r._authCredentials=new zE(new q1(x,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,s,a){this.converter=s,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new o0(this.firestore,e,this._query)}}class Js{constructor(e,s,a){this.converter=s,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new l0(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Js(this.firestore,e,this._key)}toJSON(){return{type:Js._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,s,a){if(_c(s,Js._jsonSchema))return new Js(e,a||null,new ai(ws.fromString(s.referencePath)))}}Js._jsonSchemaVersion="firestore/documentReference/1.0",Js._jsonSchema={type:Zt("string",Js._jsonSchemaVersion),referencePath:Zt("string")};class l0 extends o0{constructor(e,s,a){super(e,s,rA(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Js(this.firestore,null,new ai(e))}withConverter(e){return new l0(this.firestore,e,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly="AsyncQueue";class Uy{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new oA(this,"async_queue_retry"),this._c=()=>{const a=Yf();a&&Ss(Ly,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const s=Yf();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const s=Yf();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const s=new Kl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(s.resolve,s.reject),s.promise))).then((()=>s.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!eA(e))throw e;Ss(Ly,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const s=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,V1("INTERNAL UNHANDLED ERROR: ",My(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=s,s}enqueueAfterDelay(e,s,a){this.uc(),this.oc.indexOf(e)>-1&&(s=0);const o=i0.createAndSchedule(this,e,s,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&nc(47125,{Pc:My(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const s of this.tc)if(s.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((s,a)=>s.targetTimeMs-a.targetTimeMs));for(const s of this.tc)if(s.skipDelay(),e!=="all"&&s.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const s=this.tc.indexOf(e);this.tc.splice(s,1)}}function My(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class dA extends K1{constructor(e,s,a,o){super(e,s,a,o),this.type="firestore",this._queue=new Uy,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Uy(e),this._firestoreClient=void 0,await e}}}function hA(r,e){const s=typeof r=="object"?r:Kp(),a=typeof r=="string"?r:xp,o=Dd(s,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=t1("firestore");c&&uA(o,...c)}return o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Er(mi.fromBase64String(e))}catch(s){throw new ut(ct.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(e){return new Er(mi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Er._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_c(e,Er._jsonSchema))return Er.fromBase64String(e.bytes)}}Er._jsonSchemaVersion="firestore/bytes/1.0",Er._jsonSchema={type:Zt("string",Er._jsonSchemaVersion),bytes:Zt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(...e){for(let s=0;s<e.length;++s)if(e[s].length===0)throw new ut(ct.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ti(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,s){if(!isFinite(e)||e<-90||e>90)throw new ut(ct.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(s)||s<-180||s>180)throw new ut(ct.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=e,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Sa(this._lat,e._lat)||Sa(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:li._jsonSchemaVersion}}static fromJSON(e){if(_c(e,li._jsonSchema))return new li(e.latitude,e.longitude)}}li._jsonSchemaVersion="firestore/geoPoint/1.0",li._jsonSchema={type:Zt("string",li._jsonSchemaVersion),latitude:Zt("number"),longitude:Zt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this._values=(e||[]).map((s=>s))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_c(e,ci._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((s=>typeof s=="number")))return new ci(e.vectorValues);throw new ut(ct.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ci._jsonSchemaVersion="firestore/vectorValue/1.0",ci._jsonSchema={type:Zt("string",ci._jsonSchemaVersion),vectorValues:Zt("object")};function Y1(r,e,s){if((e=cs(e))instanceof J1)return e._internalPath;if(typeof e=="string")return pA(r,e);throw wp("Field path arguments must be of type string or ",r)}const fA=new RegExp("[~\\*/\\[\\]]");function pA(r,e,s){if(e.search(fA)>=0)throw wp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r);try{return new J1(...e.split("."))._internalPath}catch{throw wp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r)}}function wp(r,e,s,a,o){let c=`Function ${e}() called with invalid data`;c+=". ";let u="";return new ut(ct.INVALID_ARGUMENT,c+r+u)}const Py="@firebase/firestore",zy="4.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,s,a,o,c){this._firestore=e,this._userDataWriter=s,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Js(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const s=this._document.data.field(Y1("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s)}}}class mA extends W1{data(){return super.data()}}class Ju{constructor(e,s){this.hasPendingWrites=e,this.fromCache=s}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class So extends W1{constructor(e,s,a,o,c,u){super(e,s,a,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const s=new dd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,s={}){if(this._document){const a=this._document.data.field(Y1("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,s.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(ct.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,s={};return s.type=So._jsonSchemaVersion,s.bundle="",s.bundleSource="DocumentSnapshot",s.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?s:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),s.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),s)}}So._jsonSchemaVersion="firestore/documentSnapshot/1.0",So._jsonSchema={type:Zt("string",So._jsonSchemaVersion),bundleSource:Zt("string","DocumentSnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class dd extends So{data(e={}){return super.data(e)}}class Jl{constructor(e,s,a,o){this._firestore=e,this._userDataWriter=s,this._snapshot=o,this.metadata=new Ju(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((s=>e.push(s))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,s){this._snapshot.docs.forEach((a=>{e.call(s,new dd(this._firestore,this._userDataWriter,a.key,a,new Ju(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const s=!!e.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new ut(ct.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((p=>{const m=new dd(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ju(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const m=new dd(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ju(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let b=-1,x=-1;return p.type!==0&&(b=u.indexOf(p.doc.key),u=u.delete(p.doc.key)),p.type!==1&&(u=u.add(p.doc),x=u.indexOf(p.doc.key)),{type:gA(p.type),doc:m,oldIndex:b,newIndex:x}}))}})(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(ct.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Jl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const s=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(s.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function gA(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nc(61501,{type:r})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jl._jsonSchemaVersion="firestore/querySnapshot/1.0",Jl._jsonSchema={type:Zt("string",Jl._jsonSchemaVersion),bundleSource:Zt("string","QuerySnapshot"),bundleName:Zt("string"),bundle:Zt("string")};(function(e,s=!0){UE(yi),hi(new ka("firestore",((a,{instanceIdentifier:o,options:c})=>{const u=a.getProvider("app").getImmediate(),p=new dA(new BE(a.getProvider("auth-internal")),new VE(u,a.getProvider("app-check-internal")),nA(u,o),u);return c={useFetchStreams:s,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Ys(Py,zy,e),Ys(Py,zy,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="firebasestorage.googleapis.com",bA="storageBucket",yA=120*1e3,vA=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ea=class Z1 extends er{constructor(e,s,a=0){super(Wf(e),`Firebase Storage: ${s} (${Wf(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Z1.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Wf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}};var Qs;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Qs||(Qs={}));function Wf(r){return"storage/"+r}function _A(){const r="An unknown error occurred, please check the error payload for server response.";return new Ea(Qs.UNKNOWN,r)}function xA(){return new Ea(Qs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wA(){return new Ea(Qs.CANCELED,"User canceled the upload/download.")}function kA(r){return new Ea(Qs.INVALID_URL,"Invalid URL '"+r+"'.")}function SA(r){return new Ea(Qs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function By(r){return new Ea(Qs.INVALID_ARGUMENT,r)}function Q1(){return new Ea(Qs.APP_DELETED,"The Firebase app was deleted.")}function EA(r){return new Ea(Qs.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,s){this.bucket=e,this.path_=s}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,s){let a;try{a=Es.makeFromUrl(e,s)}catch{return new Es(e,"")}if(a.path==="")return a;throw SA(e)}static makeFromUrl(e,s){let a=null;const o="([A-Za-z0-9.\\-_]+)";function c(V){V.path.charAt(V.path.length-1)==="/"&&(V.path_=V.path_.slice(0,-1))}const u="(/(.*))?$",p=new RegExp("^gs://"+o+u,"i"),m={bucket:1,path:3};function b(V){V.path_=decodeURIComponent(V.path)}const x="v[A-Za-z0-9_]+",_=s.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",y=new RegExp(`^https?://${_}/${x}/b/${o}/o${S}`,"i"),E={bucket:1,path:3},k=s===X1?"(?:storage.googleapis.com|storage.cloud.google.com)":s,N="([^?#]*)",C=new RegExp(`^https?://${k}/${o}/${N}`,"i"),P=[{regex:p,indices:m,postModify:c},{regex:y,indices:E,postModify:b},{regex:C,indices:{bucket:1,path:2},postModify:b}];for(let V=0;V<P.length;V++){const q=P[V],G=q.regex.exec(e);if(G){const O=G[q.indices.bucket];let j=G[q.indices.path];j||(j=""),a=new Es(O,j),q.postModify(a);break}}if(a==null)throw kA(e);return a}}class AA{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(r,e,s){let a=1,o=null,c=null,u=!1,p=0;function m(){return p===2}let b=!1;function x(...N){b||(b=!0,e.apply(null,N))}function _(N){o=setTimeout(()=>{o=null,r(y,m())},N)}function S(){c&&clearTimeout(c)}function y(N,...C){if(b){S();return}if(N){S(),x.call(null,N,...C);return}if(m()||u){S(),x.call(null,N,...C);return}a<64&&(a*=2);let P;p===1?(p=2,P=0):P=(a+Math.random())*1e3,_(P)}let E=!1;function k(N){E||(E=!0,S(),!b&&(o!==null?(N||(p=2),clearTimeout(o),_(0)):N||(p=1)))}return _(0),c=setTimeout(()=>{u=!0,k(!0)},s),k}function NA(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(r){return r!==void 0}function $y(r,e,s,a){if(a<e)throw By(`Invalid value for '${r}'. Expected ${e} or greater.`);if(a>s)throw By(`Invalid value for '${r}'. Expected ${s} or less.`)}function jA(r){const e=encodeURIComponent;let s="?";for(const a in r)if(r.hasOwnProperty(a)){const o=e(a)+"="+e(r[a]);s=s+o+"&"}return s=s.slice(0,-1),s}var kd;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(kd||(kd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(r,e){const s=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,c=e.indexOf(r)!==-1;return s||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,s,a,o,c,u,p,m,b,x,_,S=!0,y=!1){this.url_=e,this.method_=s,this.headers_=a,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=u,this.callback_=p,this.errorCallback_=m,this.timeout_=b,this.progressCallback_=x,this.connectionFactory_=_,this.retry=S,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,k)=>{this.resolve_=E,this.reject_=k,this.start_()})}start_(){const e=(a,o)=>{if(o){a(!1,new Yu(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const u=p=>{const m=p.loaded,b=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,b)};this.progressCallback_!==null&&c.addUploadProgressListener(u),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(u),this.pendingConnection_=null;const p=c.getErrorCode()===kd.NO_ERROR,m=c.getStatus();if(!p||RA(m,this.additionalRetryCodes_)&&this.retry){const x=c.getErrorCode()===kd.ABORT;a(!1,new Yu(!1,null,x));return}const b=this.successCodes_.indexOf(m)!==-1;a(!0,new Yu(b,c))})},s=(a,o)=>{const c=this.resolve_,u=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const m=this.callback_(p,p.getResponse());CA(m)?c(m):c()}catch(m){u(m)}else if(p!==null){const m=_A();m.serverResponse=p.getErrorText(),this.errorCallback_?u(this.errorCallback_(p,m)):u(m)}else if(o.canceled){const m=this.appDelete_?Q1():wA();u(m)}else{const m=xA();u(m)}};this.canceled_?s(!1,new Yu(!1,null,!0)):this.backoffId_=TA(e,s,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&NA(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Yu{constructor(e,s,a){this.wasSuccessCode=e,this.connection=s,this.canceled=!!a}}function OA(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function IA(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function LA(r,e){e&&(r["X-Firebase-GMPID"]=e)}function UA(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function MA(r,e,s,a,o,c,u=!0,p=!1){const m=jA(r.urlParams),b=r.url+m,x=Object.assign({},r.headers);return LA(x,e),OA(x,s),IA(x,c),UA(x,a),new DA(b,r.method,x,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,u,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function zA(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,s){this._service=e,s instanceof Es?this._location=s:this._location=Es.makeFromUrl(s,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,s){return new Sd(e,s)}get root(){const e=new Es(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return zA(this._location.path)}get storage(){return this._service}get parent(){const e=PA(this._location.path);if(e===null)return null;const s=new Es(this._location.bucket,e);return new Sd(this._service,s)}_throwIfRoot(e){if(this._location.path==="")throw EA(e)}}function Fy(r,e){const s=e==null?void 0:e[bA];return s==null?null:Es.makeFromBucketSpec(s,r)}function BA(r,e,s,a={}){r.host=`${e}:${s}`;const o=Co(e);o&&(Vp(`https://${r.host}/b`),Hp("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:c}=a;c&&(r._overrideAuthToken=typeof c=="string"?c:r1(c,r.app.options.projectId))}class $A{constructor(e,s,a,o,c,u=!1){this.app=e,this._authProvider=s,this._appCheckProvider=a,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=u,this._bucket=null,this._host=X1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=yA,this._maxUploadRetryTime=vA,this._requests=new Set,o!=null?this._bucket=Es.makeFromBucketSpec(o,this._host):this._bucket=Fy(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Es.makeFromBucketSpec(this._url,e):this._bucket=Fy(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){$y("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){$y("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const s=await e.getToken();if(s!==null)return s.accessToken}return null}async _getAppCheckToken(){if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Sd(this,e)}_makeRequest(e,s,a,o,c=!0){if(this._deleted)return new AA(Q1());{const u=MA(e,this._appId,a,o,s,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,s){const[a,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,s,a,o).getPromise()}}const Vy="@firebase/storage",Hy="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="storage";function FA(r=Kp(),e){r=cs(r);const a=Dd(r,e_).getImmediate({identifier:e}),o=t1("storage");return o&&VA(a,...o),a}function VA(r,e,s,a={}){BA(r,e,s,a)}function HA(r,{instanceIdentifier:e}){const s=r.getProvider("app").getImmediate(),a=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new $A(s,a,o,e,yi)}function qA(){hi(new ka(e_,HA,"PUBLIC").setMultipleInstances(!0)),Ys(Vy,Hy,""),Ys(Vy,Hy,"esm2020")}qA();const GA={apiKey:"AIzaSyBvRGiSWUdnZ88NsUX0EsLdnXwJk5AXVSA",authDomain:"app-correo-cft.firebaseapp.com",projectId:"app-correo-cft",storageBucket:"app-correo-cft.firebasestorage.app",messagingSenderId:"140293468941",appId:"1:140293468941:web:5e0ac40c2587880b34f644"},c0=o1(GA),pa=DE(c0);hA(c0);FA(c0);const qy={admin:{canCreateDecree:!0,canEditDecree:!0,canDeleteDecree:!0,canGeneratePDF:!0,canManageEmployees:!0,canExportExcel:!0,canExportDashboard:!0,canAccessSettings:!0},editor:{canCreateDecree:!0,canEditDecree:!0,canDeleteDecree:!1,canGeneratePDF:!0,canManageEmployees:!0,canExportExcel:!0,canExportDashboard:!0,canAccessSettings:!1},reader:{canCreateDecree:!1,canEditDecree:!1,canDeleteDecree:!1,canGeneratePDF:!0,canManageEmployees:!1,canExportExcel:!0,canExportDashboard:!0,canAccessSettings:!1}},Fl={admin:"Administrador",editor:"Editor",reader:"Lector"},kp={admin:{bg:"bg-purple-100 dark:bg-purple-900/40",text:"text-purple-700 dark:text-purple-300"},editor:{bg:"bg-amber-100 dark:bg-amber-900/40",text:"text-amber-700 dark:text-amber-300"},reader:{bg:"bg-sky-100 dark:bg-sky-900/40",text:"text-sky-700 dark:text-sky-300"}},t_=r=>qy[r]||qy.reader,KA=(r,e)=>t_(r)[e],n_="gdp_audit_log",JA=500,s_=()=>{try{const r=localStorage.getItem(n_);if(!r)return[];const e=JSON.parse(r);return Array.isArray(e)?e.filter(s=>s&&typeof s.timestamp=="number").sort((s,a)=>a.timestamp-s.timestamp):[]}catch{return[]}},YA=r=>{try{localStorage.setItem(n_,JSON.stringify(r.slice(0,JA)))}catch{}},xn=r=>{const e={id:crypto.randomUUID(),timestamp:Date.now(),...r},s=s_();YA([e,...s])},Gy=r=>{const e=s_();return r?e.filter(s=>s.scope===r):e},r_="gdp_user_roles",a_="gdp_user_profiles",i_="gdp_user_security",xc=r=>r.trim().toLowerCase(),WA=()=>"mguzmanahumada@gmail.com".trim().toLowerCase(),go=()=>{try{const e=localStorage.getItem(r_);if(e)return JSON.parse(e)}catch{}const r=WA();return r?{[r]:"admin"}:{}},Wu=r=>{localStorage.setItem(r_,JSON.stringify(r))},Il=()=>{try{const r=localStorage.getItem(a_);if(!r)return{};const e=JSON.parse(r);return Object.entries(e).reduce((s,[a,o])=>(s[xc(a)]={firstName:String((o==null?void 0:o.firstName)||"").trim(),lastName:String((o==null?void 0:o.lastName)||"").trim()},s),{})}catch{return{}}},Xu=r=>{localStorage.setItem(a_,JSON.stringify(r))},ii=()=>{try{const r=localStorage.getItem(i_);if(!r)return{};const e=JSON.parse(r);return Object.entries(e).reduce((s,[a,o])=>(s[xc(a)]={blocked:!!(o!=null&&o.blocked),forcePasswordChange:!!(o!=null&&o.forcePasswordChange),lastAccessAt:typeof(o==null?void 0:o.lastAccessAt)=="number"?o.lastAccessAt:null},s),{})}catch{return{}}},Yl=r=>{localStorage.setItem(i_,JSON.stringify(r))},Xf=r=>ii()[xc(r)]||{blocked:!1,forcePasswordChange:!1,lastAccessAt:null},Ky=r=>{const e=xc(r),s=ii(),a=s[e]||{blocked:!1,forcePasswordChange:!1,lastAccessAt:null};s[e]={...a,lastAccessAt:Date.now()},Yl(s)},hd=(r,e)=>{const s=xc(r),a=ii(),o=a[s]||{blocked:!1,forcePasswordChange:!1,lastAccessAt:null};a[s]={...o,...e},Yl(a)},o_=J.createContext(void 0),u0=()=>{const r=J.useContext(o_);if(!r)throw new Error("useAuth debe usarse dentro de un AuthProvider");return r},XA=r=>r&&go()[r.toLowerCase()]||"reader",ZA=({children:r})=>{const[e,s]=J.useState(null),[a,o]=J.useState(null),[c,u]=J.useState(null),[p,m]=J.useState(!0),b=(c==null?void 0:c.role)||XA((e==null?void 0:e.email)||void 0),x=t_(b),_=Fl[b],S=kp[b],y=q=>KA(b,q),E=async q=>{};J.useEffect(()=>{console.log("[Auth] Initializing Auth Provider...");const q=xS(pa,async O=>{console.log("[Auth] Auth state changed. User:",(O==null?void 0:O.email)||"null");try{if(O!=null&&O.email&&Xf(O.email).blocked){console.warn("[Auth] User is blocked:",O.email),await Gf(pa),o(null),s(null),u(null),m(!1);return}if(s(O),O)try{console.log("[Auth] Getting ID token...");const j=await Ck(O);o({access_token:j}),await E(O.uid)}catch(j){console.error("[Auth] Error getting token or profile:",j)}else o(null),u(null)}catch(j){console.error("[Auth] Unexpected error in onAuthStateChanged:",j)}finally{m(!1),console.log("[Auth] Auth initialization finished. Loading set to false.")}},O=>{console.error("[Auth] onAuthStateChanged observer error:",O),m(!1)}),G=setTimeout(()=>{p&&(console.warn("[Auth] Auth initialization timeout. Forcing loading = false."),m(!1))},1e4);return()=>{q(),clearTimeout(G)}},[]);const V={user:e,session:a,profile:c,role:b,permissions:x,loading:p,signIn:async(q,G)=>{const O=q.trim().toLowerCase(),I=!"AIzaSyBvRGiSWUdnZ88NsUX0EsLdnXwJk5AXVSA".includes("placeholder");if(console.log("[Auth] Attempting login. Firebase configured:",I),!I){console.warn("[Auth] Firebase not configured or using placeholders. Falling back to local server.");try{const H=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:O,password:G})}),R=await H.json();if(H.ok){const U={uid:"mock-user-id",email:O,displayName:O.split("@")[0],getIdToken:async()=>R.token};return o({access_token:R.token}),s(U),sessionStorage.setItem("hrAppToken",R.token),xn({scope:"auth",action:"login_success_local",actor:O,target:O,details:"Inicio de sesin local exitoso"}),{error:null}}else return{error:{message:R.error||"Error al iniciar sesin local"}}}catch{return{error:{message:"Error de conexin con el servidor local"}}}}if(Xf(O).blocked)return{error:{message:"Tu cuenta est bloqueada. Contacta al administrador."}};try{const R=(await yS(pa,q,G)).user.email||"";return Ky(R),xn({scope:"auth",action:"login_success_firebase",actor:R,target:R,details:"Inicio de sesin Firebase exitoso"}),{error:null}}catch(H){return{error:H}}},signInWithGoogle:async()=>{const q=new Sr;try{const j=(await $S(pa,q)).user.email||"";return j&&Xf(j).blocked?(await Gf(pa),{error:{message:"Tu cuenta est bloqueada."}}):(Ky(j),xn({scope:"auth",action:"login_success_google",actor:j,target:j,details:"Inicio de sesin con Google exitoso"}),{error:null})}catch(G){return console.error("[Auth] Error signing in with Google:",G),{error:G}}},signUp:async(q,G)=>{try{return await bS(pa,q,G),{error:null}}catch(O){return{error:O}}},signOut:async()=>{e!=null&&e.email&&xn({scope:"auth",action:"logout",actor:e.email,target:e.email,details:"Cierre de sesin"}),u(null),await Gf(pa)},resetPassword:async q=>{try{return await gS(pa,q),hd(q,{forcePasswordChange:!1}),{error:null}}catch(G){return{error:G}}},hasPermission:y,roleLabel:_,roleColors:S};return h.jsx(o_.Provider,{value:V,children:r})},QA={default:{name:"ndigo",primary:"bg-indigo-600",primaryHover:"hover:bg-indigo-700",primaryLight:"bg-indigo-50 dark:bg-indigo-900/30",accent:"text-indigo-600 dark:text-indigo-400",gradient:"from-indigo-500 to-sky-500"},ocean:{name:"Ocano",primary:"bg-cyan-600",primaryHover:"hover:bg-cyan-700",primaryLight:"bg-cyan-50 dark:bg-cyan-900/30",accent:"text-cyan-600 dark:text-cyan-400",gradient:"from-cyan-500 to-blue-500"},forest:{name:"Bosque",primary:"bg-emerald-600",primaryHover:"hover:bg-emerald-700",primaryLight:"bg-emerald-50 dark:bg-emerald-900/30",accent:"text-emerald-600 dark:text-emerald-400",gradient:"from-emerald-500 to-teal-500"},sunset:{name:"Atardecer",primary:"bg-orange-600",primaryHover:"hover:bg-orange-700",primaryLight:"bg-orange-50 dark:bg-orange-900/30",accent:"text-orange-600 dark:text-orange-400",gradient:"from-orange-500 to-rose-500"},purple:{name:"Violeta",primary:"bg-violet-600",primaryHover:"hover:bg-violet-700",primaryLight:"bg-violet-50 dark:bg-violet-900/30",accent:"text-violet-600 dark:text-violet-400",gradient:"from-violet-500 to-purple-500"},rose:{name:"Rosa",primary:"bg-rose-600",primaryHover:"hover:bg-rose-700",primaryLight:"bg-rose-50 dark:bg-rose-900/30",accent:"text-rose-600 dark:text-rose-400",gradient:"from-rose-500 to-pink-500"}},l_=J.createContext(void 0),eT=({children:r})=>{const[e,s]=J.useState(()=>localStorage.getItem("sgp_theme_color")||"default"),a=o=>{s(o),localStorage.setItem("sgp_theme_color",o),document.documentElement.setAttribute("data-theme",o)};return J.useEffect(()=>{document.documentElement.setAttribute("data-theme",e)},[e]),h.jsx(l_.Provider,{value:{theme:e,setTheme:a,config:QA[e]},children:r})},W6=()=>{const r=J.useContext(l_);if(!r)throw new Error("useTheme must be used within ThemeProvider");return r},tT=()=>{const[r,e]=J.useState(()=>{const a=localStorage.getItem("sgp_dark_mode");return a!==null?a==="true":window.matchMedia("(prefers-color-scheme: dark)").matches});return J.useEffect(()=>{const a=document.documentElement;r?a.classList.add("dark"):a.classList.remove("dark"),localStorage.setItem("sgp_dark_mode",String(r))},[r]),J.useEffect(()=>{const a=window.matchMedia("(prefers-color-scheme: dark)"),o=c=>{localStorage.getItem("sgp_dark_mode")===null&&e(c.matches)};return a.addEventListener("change",o),()=>a.removeEventListener("change",o)},[]),{isDark:r,toggle:()=>e(a=>!a),setIsDark:e}},Jy={employeeList:!1,lowBalance:!1,decreeBook:!1,shortcuts:!1,calendar:!1,themeSelector:!1,confirmDelete:!1},nT=()=>{const[r,e]=J.useState(Jy),s=J.useCallback(p=>{e(m=>({...m,[p]:!0}))},[]),a=J.useCallback(p=>{e(m=>({...m,[p]:!1}))},[]),o=J.useCallback(p=>{e(m=>({...m,[p]:!m[p]}))},[]),c=J.useCallback(()=>{e(Jy)},[]),u=J.useMemo(()=>Object.values(r).some(Boolean),[r]);return{modals:r,openModal:s,closeModal:a,toggleModal:o,closeAllModals:c,isAnyModalOpen:u}},Dt={WEB_APP_URL:"https://script.google.com/macros/s/AKfycbzFnXNBOFdSn6Gn0Y_uRAikrK6wcQlTCS2Qo-pGqeb_uTLgyrJAf50Rglgml1hzWscRSw/exec",WEB_APP_URL_FL:"https://script.google.com/macros/s/AKfycbwJobNnBD1nV4_kt8gnBOVMNodznPuD8AGsxtTbUXF6E67RIWDm3Mxwxri3xdC4I9qM/exec",WEB_APP_URL_FL_2P:"https://script.google.com/macros/s/AKfycbwYzlkEQRVA7O6l0QhjgfQL51Uq_KFLImiiOUEeayge8c1J833AJwO07-nYoK_OviXEdg/exec",DECRETOS_SHEET_ID:"1BmMABAHk8ZgpUlXzsyI33qQGtsk5mrKnf5qzgQp4US0",FERIADOS_SHEET_ID:"1dSZ7v5WwP1w1WpwfP3hdWiTCF3pf2niXLKDK7GWIz0I",FERIADOS_2P_SHEET_ID:"1dSZ7v5WwP1w1WpwfP3hdWiTCF3pf2niXLKDK7GWIz0I",EMPLOYEES_SHEET_ID:"14qgHA7YP4qoSbzD8rgMPW6OmqLIVFi8V-1VPxoUEDbI",TARGET_FOLDER_ID:"1sX722eJuMnnrhqPO-zJF9ccCqlktLDo8",TEMPLATE_DOC_ID:"1BvJanZb0936sPvV0oEZw-E0sro_02ibm_BFQuXa6F24",TEMPLATE_FL_1P_DOC_ID:"1gTjGkhmq-PWi5zmo_zMrpzysgs4d0SCTynbGaVC1YPw",TEMPLATE_FL_2P_DOC_ID:"16w2phHHq1YE4ws-fSQO_EGnXcdKFrGGLQVTVW0zbPJs",APP_VERSION:"2.4",ITEMS_PER_PAGE:15},Zf=r=>{if(!r||r.length<8)return!1;const e=r.replace(/\./g,"").replace(/-/g,"").toUpperCase(),s=e.slice(0,-1),a=e.slice(-1);if(!/^\d+$/.test(s))return!1;let o=0,c=2;for(let m=s.length-1;m>=0;m--)o+=parseInt(s[m])*c,c=c===7?2:c+1;const u=11-o%11,p=u===11?"0":u===10?"K":u.toString();return a===p},Qf=r=>{if(!r)return!1;const e=new Date(r);return!isNaN(e.getTime())&&e.getFullYear()>=2020&&e.getFullYear()<=2030},sT={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ADMIN_EMAIL:"mguzmanahumada@gmail.com",VITE_API_BASE_URL:"",VITE_API_PROXY_TARGET:"http://localhost:4000",VITE_FIREBASE_API_KEY:"AIzaSyBvRGiSWUdnZ88NsUX0EsLdnXwJk5AXVSA",VITE_FIREBASE_APP_ID:"1:140293468941:web:5e0ac40c2587880b34f644",VITE_FIREBASE_AUTH_DOMAIN:"app-correo-cft.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"140293468941",VITE_FIREBASE_PROJECT_ID:"app-correo-cft",VITE_FIREBASE_STORAGE_BUCKET:"app-correo-cft.firebasestorage.app"},oo=(()=>{try{if(typeof import.meta<"u"&&sT)return!1}catch{}return!1})(),ma=(r,e,s={})=>{const a=[];return s.showTimestamp&&a.push(`[${new Date().toISOString()}]`),s.prefix&&a.push(`[${s.prefix}]`),a.push(`[${r.toUpperCase()}]`),a.push(e),a.join(" ")},Ro={debug:(r,...e)=>{oo&&console.debug(ma("debug",r),...e)},info:(r,...e)=>{oo&&console.info(ma("info",r),...e)},warn:(r,...e)=>{oo&&console.warn(ma("warn",r),...e)},error:(r,...e)=>{console.error(ma("error",r),...e)},create:r=>({debug:(e,...s)=>{oo&&console.debug(ma("debug",e,{prefix:r}),...s)},info:(e,...s)=>{oo&&console.info(ma("info",e,{prefix:r}),...s)},warn:(e,...s)=>{oo&&console.warn(ma("warn",e,{prefix:r}),...s)},error:(e,...s)=>{console.error(ma("error",e,{prefix:r}),...s)},create:e=>Ro.create(`${r}:${e}`)})},rT={enero:"01",febrero:"02",marzo:"03",abril:"04",mayo:"05",junio:"06",julio:"07",agosto:"08",septiembre:"09",octubre:"10",noviembre:"11",diciembre:"12"},Sp=r=>{if(!r)return"";if(/^\d{4}-\d{2}-\d{2}/.test(r))return r.split("T")[0];const e=r.trim().match(/^(\d{1,2})[\/-](\d{1,2})[\/-](\d{4})$/);if(e){const a=e[1].padStart(2,"0"),o=e[2].padStart(2,"0");return`${e[3]}-${o}-${a}`}const s=r.match(/(\d{1,2})\s+de\s+(\w+)\s+de\s+(\d{4})/i);if(s){const a=s[1].padStart(2,"0"),o=rT[s[2].toLowerCase()]||"01";return`${s[3]}-${o}-${a}`}return""},Xs=r=>Sp(String(r||"")),os=(r,e)=>{const s=typeof r=="number"?r:parseFloat(String(r||"").replace(",","."));return Number.isNaN(s)?e:s},c_=r=>{const e=r.trim();return/^\d{4}$/.test(e)?e:new Date().getFullYear().toString()},aT=r=>{const e=r.replace(/\./g,"").replace("-","");if(e.length<=1)return e;const s=e.slice(-1);return e.slice(0,-1).replace(/\B(?=(\d{3})+(?!\d))/g,".")+"-"+s},d0=r=>r?r.toLowerCase().trim().split(/\s+/).map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):"",Ts=r=>{if(!r)return"";const e=new Date(r+"T12:00:00");return new Intl.DateTimeFormat("es-CL",{weekday:"long",day:"2-digit",month:"long",year:"numeric"}).format(e)},ep=r=>{if(!r)return"";const e=new Date(r+"T12:00:00"),s=e.getDate().toString().padStart(2,"0"),a=(e.getMonth()+1).toString().padStart(2,"0"),o=e.getFullYear();return`${s}/${a}/${o}`},iT=r=>{if(!r)return"";const e=new Date(r+"T12:00:00");return`${e.getDate().toString().padStart(2,"0")} de ${["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"][e.getMonth()]} de ${e.getFullYear()}`},Yy=r=>{if(!r)return"";const e=new Date(r+"T12:00:00");return new Intl.DateTimeFormat("es-CL",{day:"2-digit",month:"long",year:"numeric"}).format(e)},oT=(r,e,s)=>{const a=r.trim();if(!a)return null;const o=a.match(/(\d{1,4})\s*\/\s*(\d{4})/);if(o){const c=parseInt(o[1],10),u=parseInt(o[2],10);if(!Number.isNaN(c)&&u===s)return c}if(/^\d{1,4}$/.test(a)&&String(e).trim()===String(s)){const c=parseInt(a,10);return Number.isNaN(c)?null:c}return null},Wy=(r,e)=>`${(r+1).toString().padStart(3,"0")}/${e}`,lT=(r,e)=>{const s={PA:0,FL:0};return r.forEach(a=>{const o=a.solicitudType;if(o==="PA"||o==="FL"){const c=oT(a.acto||"",a.periodo,e);c!==null&&c>s[o]&&(s[o]=c)}}),{PA:Wy(s.PA,e),FL:Wy(s.FL,e)}},Ep=["Jornada maana","Jornada tarde","Jornada completa"],Wl=r=>{const e=r.trim().toUpperCase();return e==="FL"?"FL":e==="PA"?"PA":null},Xy=r=>{const e=r.trim();return e?/^\d{1,4}\s*\/\s*\d{4}$/.test(e)?!0:/^\d{1,4}$/.test(e):!1},cT=(r,e)=>{const s=r.trim(),a=e.trim(),o=Xy(s),c=Xy(a),u=Wl(a)!==null,p=Wl(s)!==null,m="Decreto Exento";return o&&!c?{acto:s,materia:u?m:a||m}:c&&!o?{acto:a,materia:p?m:s||m}:o&&c?{acto:s,materia:m}:u&&!p?{acto:s||a,materia:s||m}:p&&!u?{acto:a||s,materia:a||m}:{acto:s||a,materia:a||s||m}},u_=r=>{const e=r.replace(/[()]/g,"").trim();if(!e)return"Jornada completa";const s=e.toLowerCase();return s.includes("manana")||s.includes("maana")?"Jornada maana":s.includes("tarde")?"Jornada tarde":s.includes("completa")?"Jornada completa":e},tp=r=>{const e=parseInt(r.split("/")[0],10);return Number.isNaN(e)?null:e},Zy=r=>{const e=tp(String((r==null?void 0:r[2])||""));if(e!==null)return e;const s=tp(String((r==null?void 0:r[3])||""));return s!==null?s:tp(String((r==null?void 0:r[1])||""))},uT=r=>{if(r.length<2)return!1;const e=r[0],s=r[r.length-1],a=Sp(String((e==null?void 0:e[11])||"")),o=Sp(String((s==null?void 0:s[11])||""));if(a&&o)return a>o;const c=Zy(e||[]),u=Zy(s||[]);return c!==null&&u!==null?c>u:!1},Qy=r=>{const e=[],s=r.filter(u=>u&&u[4]),a=uT(s)?[...s].reverse():s,o=a.length;return{records:a.map((u,p)=>{const m=`[PA] Fila ${p+2}`,b=String(u[2]||""),x=String(u[3]||""),_=String(u[1]||""),S=String(u[8]||""),y=String(u[11]||""),E=String(u[9]||""),k=String(u[7]||""),N=String(u[10]||""),C=String(u[6]||""),L=Xs(S),P=Xs(y),V=cT(b,x),q=u_(E),G=os(k,0),O=os(N,0),j=c_(C);return!Wl(_)&&!Wl(b)&&!Wl(x)&&e.push(`${m}: tipo de solicitud invlido`),S&&!L&&e.push(`${m}: Fecha de inicio invlida (${S})`),y&&!P&&e.push(`${m}: Fecha invlida (${y})`),E&&!Ep.includes(q)&&e.push(`${m}: Tipo de jornada invlido (${E})`),{id:`PA-${String(u[0])||p}-${Date.now()}`,acto:V.acto,solicitudType:"PA",materia:V.materia,funcionario:String(u[4]||"").trim(),rut:String(u[5]||"").trim(),periodo:j,cantidadDias:G,fechaInicio:L,tipoJornada:Ep.includes(q)?q:"Jornada completa",diasHaber:O,fechaDecreto:P,ra:String(u[13]||"MGA"),emite:String(u[14]||"mga"),observaciones:"",createdAt:Date.now()-(o-1-p)*1e3,decreto:""}}),warnings:e}},ev=r=>{const e=[],s=r.filter(c=>c&&c[4]),a=s.length;return{records:s.map((c,u)=>{const p=`[FL] Fila ${u+2}`,m=String(c[1]||"").trim(),b=String(c[4]||"").trim(),x=String(c[5]||"").trim(),_=String(c[6]||""),S=String(c[7]||"").trim(),y=String(c[8]||""),E=String(c[9]||""),k=String(c[10]||""),N=String(c[11]||"").trim(),C=String(c[12]||""),L=String(c[13]||""),P=String(c[14]||""),V=String(c[15]||""),q=String(c[16]||""),G=String(c[17]||""),O=String(c[18]||"MGA").trim(),j=String(c[19]||"mga").trim(),I=String(c[20]||"").trim(),$=Xs(V),H=Xs(q),R=Xs(G),U=os(_,0),D=os(y,0),me=os(E,0),te=os(k,0),Q=os(C,0),ve=os(L,0),ie=os(P,0),se=D+Q;return V&&!$&&e.push(`${p}: Fecha de inicio invlida (${V})`),q&&!H&&e.push(`${p}: Fecha de trmino invlida (${q})`),m||e.push(`${p}: N Acto Adm. vaco`),{id:`FL-${String(c[0])||u}-${Date.now()}`,acto:m,solicitudType:"FL",materia:"Decreto Exento",funcionario:b,rut:x,periodo:new Date().getFullYear().toString(),cantidadDias:U,fechaInicio:$,fechaTermino:H,tipoJornada:"Jornada completa",diasHaber:se,fechaDecreto:R,ra:O,emite:j,observaciones:I,periodo1:S,saldoDisponibleP1:D,solicitadoP1:me,saldoFinalP1:te,periodo2:N,saldoDisponibleP2:Q,solicitadoP2:ve,saldoFinalP2:ie,createdAt:Date.now()-(a-1-u)*1e3,decreto:""}}),warnings:e}},dT=r=>{const e=[];return{data:r.filter(o=>o.solicitudType==="PA").map((o,c)=>{const u=`[PA] Registro ${c+1}`,p=String(o.funcionario||"").trim(),m=String(o.rut||"").trim(),b=String(o.acto||"").trim(),x=c_(String(o.periodo||"")),_=os(o.cantidadDias,0),S=os(o.diasHaber,0),y=Xs(String(o.fechaInicio||"")),k=Xs(String(o.fechaDecreto||""))||new Date().toISOString().split("T")[0],N=u_(String(o.tipoJornada||""));return p||e.push(`${u}: Funcionario vaco`),m||e.push(`${u}: RUT vaco`),b||e.push(`${u}: N Acto Adm. vaco`),[c+1,"PA",b,"Decreto Exento",p,m,x,_,y,Ep.includes(N)?N:"Jornada completa",S,Ts(k),S-_,o.ra||"MGA",o.emite||"mga"]}),warnings:e}},hT=r=>{const e=[];return{data:r.filter(o=>o.solicitudType==="FL").map((o,c)=>{const u=`[FL] Registro ${c+1}`,p=String(o.funcionario||"").trim(),m=String(o.rut||"").trim(),b=String(o.acto||"").trim(),x=os(o.cantidadDias,0),_=Xs(String(o.fechaInicio||"")),S=Xs(String(o.fechaTermino||"")),E=Xs(String(o.fechaDecreto||""))||new Date().toISOString().split("T")[0];return p||e.push(`${u}: Funcionario vaco`),b||e.push(`${u}: N Acto Adm. vaco`),_||e.push(`${u}: Fecha de inicio vaca`),S||e.push(`${u}: Fecha de trmino vaca`),[c+1,b,"FL","Decreto Exento",p,m,x,o.periodo1||"",o.saldoDisponibleP1||0,o.solicitadoP1||0,o.saldoFinalP1||0,o.periodo2||"",o.saldoDisponibleP2||0,o.solicitadoP2||0,o.saldoFinalP2||0,Ts(_),Ts(S),Ts(E),o.ra||"MGA",o.emite||"mga",o.observaciones||""]}),warnings:e}},lo=Ro.create("LocalBackup"),fT="GDP_Cloud_Backup",pT=1;class mT{constructor(){this.db=null}async init(){return new Promise((e,s)=>{const a=indexedDB.open(fT,pT);a.onerror=()=>{lo.error("Error al abrir IndexedDB"),s(a.error)},a.onsuccess=()=>{this.db=a.result,lo.info("IndexedDB inicializado"),e()},a.onupgradeneeded=o=>{const c=o.target.result;c.objectStoreNames.contains("records")||c.createObjectStore("records",{keyPath:"id"}),c.objectStoreNames.contains("employees")||c.createObjectStore("employees",{keyPath:"rut"}),c.objectStoreNames.contains("metadata")||c.createObjectStore("metadata",{keyPath:"key"}),c.objectStoreNames.contains("pendingChanges")||c.createObjectStore("pendingChanges",{keyPath:"id"}),lo.info("IndexedDB esquema creado")}})}async saveRecords(e){return this.db||await this.init(),new Promise((s,a)=>{const o=this.db.transaction(["records","metadata"],"readwrite"),c=o.objectStore("records"),u=o.objectStore("metadata");c.clear(),e.forEach(p=>c.put(p)),u.put({key:"lastBackup",value:Date.now()}),o.oncomplete=()=>{lo.info(`Backup guardado: ${e.length} registros`),s()},o.onerror=()=>{lo.error("Error al guardar backup"),a(o.error)}})}async getRecords(){return this.db||await this.init(),new Promise((e,s)=>{const c=this.db.transaction("records","readonly").objectStore("records").getAll();c.onsuccess=()=>{e(c.result||[])},c.onerror=()=>{s(c.error)}})}async saveEmployees(e){return this.db||await this.init(),new Promise((s,a)=>{const o=this.db.transaction("employees","readwrite"),c=o.objectStore("employees");c.clear(),e.forEach(u=>c.put(u)),o.oncomplete=()=>{lo.info(`Backup empleados: ${e.length}`),s()},o.onerror=()=>a(o.error)})}async getEmployees(){return this.db||await this.init(),new Promise((e,s)=>{const c=this.db.transaction("employees","readonly").objectStore("employees").getAll();c.onsuccess=()=>e(c.result||[]),c.onerror=()=>s(c.error)})}async addPendingChange(e){return this.db||await this.init(),new Promise((s,a)=>{const o=this.db.transaction("pendingChanges","readwrite");o.objectStore("pendingChanges").put(e),o.oncomplete=()=>s(),o.onerror=()=>a(o.error)})}async getPendingChanges(){return this.db||await this.init(),new Promise((e,s)=>{const c=this.db.transaction("pendingChanges","readonly").objectStore("pendingChanges").getAll();c.onsuccess=()=>e(c.result||[]),c.onerror=()=>s(c.error)})}async clearPendingChanges(){return this.db||await this.init(),new Promise((e,s)=>{const a=this.db.transaction("pendingChanges","readwrite");a.objectStore("pendingChanges").clear(),a.oncomplete=()=>e(),a.onerror=()=>s(a.error)})}async getLastBackupTime(){return this.db||await this.init(),new Promise((e,s)=>{const c=this.db.transaction("metadata","readonly").objectStore("metadata").get("lastBackup");c.onsuccess=()=>{var u;e(((u=c.result)==null?void 0:u.value)||null)},c.onerror=()=>s(c.error)})}async getBackupStats(){const e=await this.getRecords(),s=await this.getEmployees(),a=await this.getLastBackupTime();return{recordCount:e.length,employeeCount:s.length,lastBackup:a}}}const Ks=new mT,tv=r=>{if(!r)return null;const s=new Date(`${r}T12:00:00`).getTime();return Number.isNaN(s)?null:s},Ed=(r,e="fechaDecreto")=>{const s=e==="fechaDecreto"?r.fechaDecreto:r.fechaInicio,a=e==="fechaDecreto"?r.fechaInicio:r.fechaDecreto,o=tv(s);if(o!==null)return o;const c=tv(a);return c!==null?c:r.createdAt||0},gi=(r,e,s="fechaDecreto")=>Ed(e,s)-Ed(r,s),ln=Ro.create("CloudSync"),gT=(r,e)=>{const[s,a]=J.useState([]),[o,c]=J.useState(!1),[u,p]=J.useState(!1),[m,b]=J.useState(null),[x,_]=J.useState(navigator.onLine),[S,y]=J.useState([]),[E,k]=J.useState([]),[N,C]=J.useState(!1),[L,P]=J.useState(!1),[V,q]=J.useState({PA:{status:"idle",lastSuccess:null,lastError:null},FL:{status:"idle",lastSuccess:null,lastError:null}}),G=J.useRef(null),O=J.useRef(null),j=J.useRef(null),I=J.useRef(!1);J.useEffect(()=>{const te=()=>_(!0),Q=()=>_(!1);return window.addEventListener("online",te),window.addEventListener("offline",Q),()=>{window.removeEventListener("online",te),window.removeEventListener("offline",Q),G.current&&clearTimeout(G.current)}},[]),J.useEffect(()=>($(),()=>{j.current&&j.current.abort()}),[]);const $=J.useCallback(async()=>{if(!navigator.onLine){p(!0);try{const Q=await Ks.getRecords();if(Q.length>0){a(Q);const ve=await Ks.getLastBackupTime();ln.info(`Recuperados ${Q.length} registros desde backup local (offline)`),e==null||e(`Modo offline: usando backup local (${ve?new Date(ve).toLocaleTimeString():"fecha desconocida"})`)}else e==null||e("Sin conexin a internet")}catch(Q){ln.warn("Error al cargar backup local (offline):",Q),e==null||e("Sin conexin a internet")}finally{I.current=!0}return}j.current&&j.current.abort(),j.current=new AbortController;const{signal:te}=j.current;c(!0),p(!1);try{ln.info("Iniciando fetch desde la nube...");const[Q,ve]=await Promise.all([fetch(`${Dt.WEB_APP_URL}?sheetId=${Dt.DECRETOS_SHEET_ID}`,{signal:te}),fetch(`${Dt.WEB_APP_URL_FL}?sheetId=${Dt.FERIADOS_SHEET_ID}`,{signal:te})]);q(ee=>({...ee,PA:{...ee.PA,status:"syncing",lastError:null},FL:{...ee.FL,status:"syncing",lastError:null}}));const[ie,se]=await Promise.all([Q.ok?Q.json():{success:!1,error:`HTTP ${Q.status}`},ve.ok?ve.json():{success:!1,error:`HTTP ${ve.status}`}]),X=[];let K=[];if(ie.success&&ie.data){const{records:ee,warnings:Z}=Qy(ie.data);K=[...K,...ee],X.push(...Z),ln.debug(`Procesados ${ee.length} registros PA`),q(re=>({...re,PA:{status:"idle",lastSuccess:new Date,lastError:null}}))}else ie!=null&&ie.error&&(X.push(`[PA] ${ie.error}`),q(ee=>({...ee,PA:{...ee.PA,status:"error",lastError:String(ie.error)}})));if(se.success&&se.data){const{records:ee,warnings:Z}=ev(se.data);K=[...K,...ee],X.push(...Z),ln.debug(`Procesados ${ee.length} registros FL`),q(re=>({...re,FL:{status:"idle",lastSuccess:new Date,lastError:null}}))}else se!=null&&se.error&&(X.push(`[FL] ${se.error}`),q(ee=>({...ee,FL:{...ee.FL,status:"error",lastError:String(se.error)}})));K.sort((ee,Z)=>gi(ee,Z)),a(K),k(X.slice(0,20)),b(new Date),I.current=!0;try{await Ks.saveRecords(K),ln.debug("Backup local actualizado")}catch(ee){ln.warn("Error al guardar backup local:",ee)}ln.info(`Fetch completado: ${K.length} registros`),r==null||r()}catch(Q){if(Q instanceof Error&&Q.name==="AbortError"){ln.debug("Fetch cancelado (componente desmontado)");return}ln.error("Error al recuperar datos de la nube:",Q),p(!0),q(ve=>({PA:{...ve.PA,status:"error",lastError:"Fall la carga de PA"},FL:{...ve.FL,status:"error",lastError:"Fall la carga de FL"}}));try{const ve=await Ks.getRecords();if(ve.length>0){a(ve),I.current=!0;const ie=await Ks.getLastBackupTime();ln.info(`Recuperados ${ve.length} registros desde backup local`),e==null||e(`Modo offline: usando backup local (${ie?new Date(ie).toLocaleTimeString():"fecha desconocida"})`)}else e==null||e("Error al conectar con la nube")}catch(ve){ln.error("Error al recuperar backup local:",ve),e==null||e("Error al conectar con la nube")}finally{I.current=!0}}finally{c(!1)}},[r,e]),H=J.useCallback(async te=>{if(!navigator.onLine){p(!0);return}const Q=te==="PA"?Dt.WEB_APP_URL:Dt.WEB_APP_URL_FL,ve=te==="PA"?Dt.DECRETOS_SHEET_ID:Dt.FERIADOS_SHEET_ID;q(ie=>({...ie,[te]:{...ie[te],status:"syncing",lastError:null}}));try{const se=await(await fetch(`${Q}?sheetId=${ve}`)).json();if(!se.success||!se.data)throw new Error(se.error||`No fue posible sincronizar ${te}`);const K=(te==="PA"?Qy(se.data):ev(se.data)).records;a(ee=>[...ee.filter(re=>re.solicitudType!==te),...K].sort((re,we)=>gi(re,we))),q(ee=>({...ee,[te]:{status:"idle",lastSuccess:new Date,lastError:null}})),b(new Date),p(!1)}catch(ie){q(se=>({...se,[te]:{...se[te],status:"error",lastError:ie instanceof Error?ie.message:`Error de sincronizacin ${te}`}})),p(!0)}},[]),R=J.useCallback(async te=>{if(O.current=te,C(!0),P(!1),G.current&&clearTimeout(G.current),!x)return p(!0),e==null||e("Sin conexin a internet"),!1;c(!0),p(!1);let Q=[],ve=[];try{ln.info("Iniciando sincronizacin a la nube...");const ie=dT(te),se=hT(te);Q=ie.data,ve=se.data;const X=ie.warnings,K=se.warnings,ee=[...X,...K];k(ee.slice(0,20));const Z=[];if(Q.length>0&&(q(Ee=>({...Ee,PA:{...Ee.PA,status:"syncing",lastError:null}})),ln.debug(`Sincronizando ${Q.length} registros PA`),Z.push(fetch(Dt.WEB_APP_URL,{method:"POST",mode:"cors",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({sheetId:Dt.DECRETOS_SHEET_ID,data:Q,validateRecords:!0})}))),ve.length>0&&(q(Ee=>({...Ee,FL:{...Ee.FL,status:"syncing",lastError:null}})),ln.debug(`Sincronizando ${ve.length} registros FL`),Z.push(fetch(Dt.WEB_APP_URL_FL,{method:"POST",mode:"cors",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({sheetId:Dt.FERIADOS_SHEET_ID,data:ve,validateRecords:!0})}))),Z.length===0)return b(new Date),C(!1),O.current=null,!0;const re=await Promise.all(Z),we=await Promise.all(re.map(Ee=>Ee.json()));if(we.every(Ee=>Ee.success))return q(Ee=>({PA:Q.length>0?{status:"idle",lastSuccess:new Date,lastError:null}:Ee.PA,FL:ve.length>0?{status:"idle",lastSuccess:new Date,lastError:null}:Ee.FL})),b(new Date),C(!1),P(!1),O.current=null,ln.info("Sincronizacin completada exitosamente"),r==null||r(),!0;{const Ee=we.filter(Pe=>!Pe.success).map(Pe=>{var De;return Pe.error||((De=Pe.validationErrors)==null?void 0:De.join(", "))}).join(", ");throw new Error(Ee||"Error desconocido")}}catch(ie){return ln.error("Error sincronizando:",ie),p(!0),q(se=>({PA:Q.length>0?{...se.PA,status:"error",lastError:"Error al sincronizar PA"}:se.PA,FL:ve.length>0?{...se.FL,status:"error",lastError:"Error al sincronizar FL"}:se.FL})),e==null||e("Error al sincronizar con la nube"),x&&(P(!0),G.current=setTimeout(()=>R(te),5e3)),!1}finally{c(!1)}},[x,r,e]);J.useEffect(()=>{x&&N&&O.current&&!o&&(P(!1),R(O.current))},[x,N,o,R]),J.useEffect(()=>{(async()=>{try{if(!I.current)return;await Ks.saveRecords(s)}catch(Q){ln.warn("Error al guardar backup local:",Q)}})()},[s]);const U=J.useCallback(te=>{y(Q=>[...Q.slice(-9),te])},[]),D=J.useCallback(()=>{if(S.length===0)return;const te=S[S.length-1];y(Q=>Q.slice(0,-1)),a(te),R(te)},[S,R]),me=J.useCallback(te=>{a(Q=>(U(Q),typeof te=="function"?te(Q):te))},[U]);return{records:s,setRecords:me,isSyncing:o,syncError:u,lastSync:m,isOnline:x,syncWarnings:E,pendingSync:N,isRetryScheduled:L,moduleSync:V,fetchFromCloud:$,fetchModuleFromCloud:H,syncToCloud:R,undoStack:S,undo:D,canUndo:S.length>0}},wr=Ro.create("EmployeeSync"),bT=(r,e)=>{const[s,a]=J.useState([]),[o,c]=J.useState(!1),[u,p]=J.useState(!1),[m,b]=J.useState(null),x=J.useRef(null),_=J.useRef(!1);J.useEffect(()=>(S(),()=>{x.current&&x.current.abort()}),[]);const S=J.useCallback(async()=>{if(!navigator.onLine){try{const L=await Ks.getEmployees();L.length>0&&(a(L),e==null||e("Modo offline: usando backup local de funcionarios"))}catch(L){wr.warn("No se pudo cargar backup local de empleados:",L)}finally{_.current=!0}return}x.current&&x.current.abort(),x.current=new AbortController;const{signal:C}=x.current;c(!0),p(!1);try{wr.info("Iniciando fetch de empleados...");const P=await(await fetch(`${Dt.WEB_APP_URL}?sheetId=${Dt.EMPLOYEES_SHEET_ID}&type=employees`,{signal:C})).json();if(P.success&&P.data){const V=P.data.filter(q=>q&&q[1]).map(q=>{const G=String(q[1]||"").trim(),O=String(q[2]||"").trim(),j=String(q[3]||"").trim(),I=String(q[4]||"").trim();return{nombre:[G,O,j].filter(Boolean).join(" ").toUpperCase(),rut:I}}).filter(q=>q.nombre&&q.rut);V.sort((q,G)=>q.nombre.localeCompare(G.nombre)),a(V),b(new Date),_.current=!0;try{await Ks.saveEmployees(V)}catch(q){wr.warn("Error al guardar backup de empleados:",q)}wr.info(`Fetch completado: ${V.length} empleados`),r==null||r()}}catch(L){if(L instanceof Error&&L.name==="AbortError"){wr.debug("Fetch cancelado (componente desmontado)");return}wr.error("Error al recuperar empleados de la nube:",L),p(!0);try{const P=await Ks.getEmployees();P.length>0?(a(P),_.current=!0,e==null||e("Modo offline: usando backup local de funcionarios")):e==null||e("Error al conectar con la nube de empleados")}catch(P){wr.warn("Error al recuperar backup local de empleados:",P),e==null||e("Error al conectar con la nube de empleados")}finally{_.current=!0}}finally{c(!1)}},[r,e]);J.useEffect(()=>{(async()=>{try{if(!_.current)return;await Ks.saveEmployees(s)}catch(L){wr.warn("Error al guardar backup de empleados:",L)}})()},[s]);const y=J.useCallback(async C=>{if(!navigator.onLine)return e==null||e("Sin conexin a internet"),!1;c(!0),p(!1);try{const L=C.map((G,O)=>{const j=G.nombre.split(" ");let I="",$="",H="";return j.length>=4?(I=j.slice(0,2).join(" "),$=j[2]||"",H=j.slice(3).join(" ")):j.length===3?(I=j[0],$=j[1],H=j[2]):j.length===2?(I=j[0],$=j[1]):I=G.nombre,[O+1,I,$,H,G.rut]}),P={sheetId:Dt.EMPLOYEES_SHEET_ID,type:"employees",data:L},q=await(await fetch(Dt.WEB_APP_URL,{method:"POST",mode:"cors",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify(P)})).json();if(q.success)return b(new Date),r==null||r(),!0;throw new Error(q.error)}catch(L){return wr.error("Error sincronizando empleados:",L),p(!0),e==null||e("Error al sincronizar empleados con la nube"),!1}finally{c(!1)}},[r,e]),E=J.useCallback(C=>{a(L=>{const P=[...L,C].sort((V,q)=>V.nombre.localeCompare(q.nombre));return y(P),P})},[y]),k=J.useCallback((C,L)=>{a(P=>{const V=P.map(q=>q.rut===C?L:q).sort((q,G)=>q.nombre.localeCompare(G.nombre));return y(V),V})},[y]),N=J.useCallback(C=>{a(L=>{const P=L.filter(V=>V.rut!==C);return y(P),P})},[y]);return{employees:s,setEmployees:a,isSyncing:o,syncError:u,lastSync:m,fetchEmployeesFromCloud:S,syncEmployeesToCloud:y,addEmployee:E,updateEmployee:k,deleteEmployee:N}};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=(...r)=>r.filter((e,s,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===s).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,a)=>a?a.toUpperCase():s.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=r=>{const e=vT(r);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _T={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=J.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:u,...p},m)=>J.createElement("svg",{ref:m,..._T,width:e,height:e,stroke:r,strokeWidth:a?Number(s)*24/Number(e):s,className:d_("lucide",o),...!c&&!xT(p)&&{"aria-hidden":"true"},...p},[...u.map(([b,x])=>J.createElement(b,x)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(r,e)=>{const s=J.forwardRef(({className:a,...o},c)=>J.createElement(wT,{ref:c,iconNode:e,className:d_(`lucide-${yT(nv(r))}`,`lucide-${r}`,a),...o}));return s.displayName=nv(r),s};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ST=je("activity",kT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Ap=je("archive",ET);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],h_=je("arrow-right",AT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],NT=je("arrow-up-down",TT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],jT=je("arrow-up",CT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],DT=je("award",RT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],sv=je("bell-ring",OT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],rv=je("bell",IT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],f_=je("book-open",LT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],av=je("building",UT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],p_=je("calendar-days",MT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],bi=je("calendar",PT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],m_=je("chart-column",zT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],h0=je("chevron-down",BT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],FT=je("chevron-left",$T);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],g_=je("chevron-right",VT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],qT=je("chevron-up",HT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],KT=je("chevrons-left",GT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],YT=je("chevrons-right",JT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Do=je("circle-alert",WT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],wc=je("circle-check-big",XT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],iv=je("circle-check",ZT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],ov=je("circle-plus",QT);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],lv=je("circle-user",e5);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],n5=je("circle-x",t5);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],cv=je("clock-3",s5);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],f0=je("clock",r5);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],b_=je("cloud",a5);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],o5=je("command",i5);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],c5=je("crown",l5);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],y_=je("download",u5);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],h5=je("ellipsis-vertical",d5);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],v_=je("eye-off",f5);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sc=je("eye",p5);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],g5=je("file-down",m5);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b5=[["path",{d:"M12.659 22H18a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v9.34",key:"o6klzx"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10.378 12.622a1 1 0 0 1 3 3.003L8.36 20.637a2 2 0 0 1-.854.506l-2.867.837a.5.5 0 0 1-.62-.62l.836-2.869a2 2 0 0 1 .506-.853z",key:"zhnas1"}]],y5=je("file-pen",b5);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],_5=je("file-spreadsheet",v5);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],rc=je("file-text",x5);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],k5=je("fingerprint-pattern",w5);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],E5=je("funnel",S5);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],__=je("hash",A5);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],N5=je("house",T5);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],p0=je("info",C5);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],R5=je("key-round",j5);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],x_=je("keyboard",D5);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],I5=je("landmark",O5);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],w_=je("layout-dashboard",L5);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],M5=je("layout-grid",U5);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Tp=je("loader-circle",P5);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],B5=je("lock",z5);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],k_=je("log-out",$5);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],m0=je("mail",F5);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],H5=je("menu",V5);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],G5=je("moon",q5);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],J5=je("palette",K5);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],W5=je("pen",Y5);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],uv=je("plus",X5);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],S_=je("refresh-cw",Z5);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],e4=je("rotate-ccw",Q5);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Np=je("save",t4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Cp=je("search",n4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ac=je("settings",s4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],a4=je("shield-alert",r4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],g0=je("shield",i4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],b0=je("sparkles",o4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],np=je("square-check-big",l4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],dv=je("square",c4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Ad=je("sun",u4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],E_=je("trash-2",d4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],f4=je("trash",h4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],m4=je("trending-up",p4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],No=je("triangle-alert",g4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],y4=je("undo-2",b4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],hv=je("user-plus",v4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ui=je("user",_4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Td=je("users",x4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],qn=je("x",w4);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],S4=je("zap",k4),E4=(r,e=!0)=>{const s=J.useCallback(a=>{if(!e)return;const o=a.target;if(!["INPUT","TEXTAREA","SELECT"].includes(o.tagName))for(const c of r){const u=a.key.toLowerCase()===c.key.toLowerCase(),p=c.ctrlKey?a.ctrlKey||a.metaKey:!0,m=c.shiftKey===void 0?!0:c.shiftKey===a.shiftKey,b=c.altKey===void 0?!0:c.altKey===a.altKey;if(u&&p&&m&&b){a.preventDefault(),c.action();return}}},[r,e]);J.useEffect(()=>(window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)),[s])},A4=({isOpen:r,onClose:e,shortcuts:s})=>{if(!r)return null;const a=o=>{const c=[];return o.ctrlKey&&c.push("/Ctrl"),o.shiftKey&&c.push("Shift"),c.push(o.key.toUpperCase()),c.join(" + ")};return h.jsxs("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-4",onClick:e,children:[h.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm"}),h.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-slate-800 rounded-3xl shadow-2xl overflow-hidden",onClick:o=>o.stopPropagation(),children:[h.jsxs("div",{className:"bg-slate-900 dark:bg-slate-950 p-6 text-white flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(x_,{className:"w-6 h-6"}),h.jsx("h2",{className:"text-lg font-bold",children:"Atajos de Teclado"})]}),h.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-xl",children:h.jsx(qn,{className:"w-5 h-5"})})]}),h.jsx("div",{className:"p-6 space-y-3",children:s.map((o,c)=>h.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-100 dark:border-slate-700 last:border-0",children:[h.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:o.description}),h.jsx("kbd",{className:"px-3 py-1.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 rounded-lg text-xs font-mono font-bold",children:a(o)})]},c))}),h.jsx("div",{className:"px-6 py-4 bg-slate-50 dark:bg-slate-800/50 border-t border-slate-200 dark:border-slate-700",children:h.jsxs("p",{className:"text-[10px] text-slate-400 text-center uppercase tracking-wider",children:["Presiona ",h.jsx("kbd",{className:"px-1.5 py-0.5 bg-slate-200 dark:bg-slate-700 rounded text-[9px]",children:"?"})," para ver esta ayuda"]})})]})]})},A_=Zs.memo(({toast:r,onRemove:e})=>{const[s,a]=J.useState(!1),[o,c]=J.useState(100),u=J.useRef(Date.now()),p=J.useRef(r.duration||4e3),m=J.useRef(0);J.useEffect(()=>{const C=p.current,L=u.current,P=()=>{const V=Date.now()-L,q=Math.max(0,100-V/C*100);c(q),q>0?m.current=requestAnimationFrame(P):(a(!0),setTimeout(()=>e(r.id),350))};return m.current=requestAnimationFrame(P),()=>{m.current&&cancelAnimationFrame(m.current)}},[r,e]);const b=J.useCallback(()=>{m.current&&cancelAnimationFrame(m.current),a(!0),setTimeout(()=>e(r.id),350)},[r.id,e]),x={success:wc,error:n5,warning:No,info:p0},_={success:"bg-white dark:bg-slate-800 border-emerald-200 dark:border-emerald-800",error:"bg-white dark:bg-slate-800 border-red-200 dark:border-red-800",warning:"bg-white dark:bg-slate-800 border-amber-200 dark:border-amber-800",info:"bg-white dark:bg-slate-800 border-blue-200 dark:border-blue-800"},S={success:"bg-emerald-50 dark:bg-emerald-900/30",error:"bg-red-50 dark:bg-red-900/30",warning:"bg-amber-50 dark:bg-amber-900/30",info:"bg-blue-50 dark:bg-blue-900/30"},y={success:"text-emerald-600 dark:text-emerald-400",error:"text-red-600 dark:text-red-400",warning:"text-amber-600 dark:text-amber-400",info:"text-blue-600 dark:text-blue-400"},E={success:"text-emerald-800 dark:text-emerald-200",error:"text-red-800 dark:text-red-200",warning:"text-amber-800 dark:text-amber-200",info:"text-blue-800 dark:text-blue-200"},k={success:"bg-gradient-to-r from-emerald-400 to-emerald-600",error:"bg-gradient-to-r from-red-400 to-red-600",warning:"bg-gradient-to-r from-amber-400 to-amber-600",info:"bg-gradient-to-r from-blue-400 to-blue-600"},N=x[r.type];return h.jsxs("div",{role:"alert",className:`
                relative overflow-hidden rounded-2xl border shadow-xl backdrop-blur-sm
                ${_[r.type]}
                ${s?"toast-exit":"toast-enter"}
            `,children:[h.jsxs("div",{className:"flex items-start gap-3 p-4",children:[h.jsx("div",{className:`p-2 rounded-xl shrink-0 ${S[r.type]}`,children:h.jsx(N,{className:`w-4 h-4 ${y[r.type]}`})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:`text-sm font-bold ${E[r.type]}`,children:r.title}),r.message&&h.jsx("p",{className:"text-[11px] mt-0.5 text-slate-500 dark:text-slate-400 leading-relaxed",children:r.message})]}),h.jsx("button",{onClick:b,className:"p-1.5 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors shrink-0 -mt-0.5 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300","aria-label":"Cerrar notificacin",children:h.jsx(qn,{className:"w-3.5 h-3.5","aria-hidden":"true"})})]}),h.jsx("div",{className:"h-[2px] bg-slate-100 dark:bg-slate-700",children:h.jsx("div",{className:`h-full transition-none ${k[r.type]}`,style:{width:`${o}%`}})})]})});A_.displayName="Toast";const T_=Zs.memo(({toasts:r,onRemove:e})=>h.jsx("div",{className:"fixed bottom-6 right-6 z-[300] flex flex-col-reverse gap-3 max-w-sm w-full pointer-events-none",role:"region","aria-label":"Notificaciones","aria-live":"polite",children:r.slice(-5).map((s,a)=>h.jsx("div",{className:"pointer-events-auto",style:{transform:`scale(${1-(r.length-1-a)*.02})`,opacity:1-(r.length-1-a)*.08},children:h.jsx(A_,{toast:s,onRemove:e})},s.id))}));T_.displayName="ToastContainer";const T4=()=>{const[r,e]=J.useState([]),s=J.useCallback((c,u,p,m)=>{const b=crypto.randomUUID();return e(x=>[...x,{id:b,type:c,title:u,message:p,duration:m}]),b},[]),a=J.useCallback(c=>{e(u=>u.filter(p=>p.id!==c))},[]);return{toasts:r,toast:{success:(c,u)=>s("success",c,u),error:(c,u)=>s("error",c,u,6e3),warning:(c,u)=>s("warning",c,u),info:(c,u)=>s("info",c,u)},removeToast:a}},N4=({currentView:r,setView:e,onLogout:s,isSyncing:a})=>{const o=[{id:"dashboard",label:"Dashboard",icon:w_},{id:"decretos",label:"Decretos",icon:f_},{id:"calendar",label:"Calendario",icon:p_},{id:"employees",label:"Funcionarios",icon:Td},{id:"requests",label:"Solicitudes",icon:rc},{id:"reports",label:"Reportes",icon:m0}];return h.jsxs("div",{className:"flex flex-col w-full h-full bg-slate-900 dark:bg-slate-950 text-white overflow-y-auto",children:[h.jsx("div",{className:"p-6 border-b border-slate-800",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center transition-all duration-500 ${a?"bg-indigo-600 animate-pulse":"bg-gradient-to-br from-indigo-500 to-purple-600"}`,children:h.jsx(b_,{className:"text-white w-5 h-5"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-lg font-extrabold tracking-tight",children:"GDP Cloud"}),h.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-widest",children:"Gestion de Personas"})]})]})}),h.jsx("nav",{className:"flex-1 p-4 space-y-2","aria-label":"Men principal",children:o.map(c=>{const u=c.icon,p=r===c.id;return h.jsxs("button",{onClick:()=>e(c.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 ${p?c.special?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-lg shadow-purple-900/50":"bg-slate-800 text-white shadow-md":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,"aria-current":p?"page":void 0,"aria-label":`Ir a ${c.label}`,children:[h.jsx(u,{size:20,className:c.special?"text-yellow-200":"","aria-hidden":"true"}),h.jsx("span",{className:"font-medium",children:c.label})]},c.id)})}),h.jsxs("div",{className:"p-4 border-t border-slate-800 space-y-2",children:[h.jsxs("button",{onClick:()=>e("settings"),className:`flex items-center gap-3 px-4 py-3 w-full transition-colors rounded-lg ${r==="settings"?"bg-slate-800 text-white shadow-md":"text-slate-400 hover:text-white hover:bg-slate-800"}`,"aria-current":r==="settings"?"page":void 0,"aria-label":"Ir a Configuracin",children:[h.jsx(ac,{size:20,"aria-hidden":"true"}),h.jsx("span",{children:"Configuracin"})]}),h.jsxs("button",{onClick:s,className:"flex items-center gap-3 px-4 py-3 w-full text-slate-400 hover:text-rose-200 hover:bg-rose-900/20 transition-colors rounded-lg","aria-label":"Cerrar sesin",children:[h.jsx(k_,{size:20,"aria-hidden":"true"}),h.jsx("span",{children:"Cerrar Sesin"})]})]})]})};class C4 extends J.Component{constructor(e){super(e),this.handleReload=()=>{window.location.reload()},this.handleGoHome=()=>{window.location.href="/"},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,s){console.error("Error capturado por ErrorBoundary:",e,s),this.setState({errorInfo:s})}render(){var e;return this.state.hasError?this.props.fallback?this.props.fallback:h.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex items-center justify-center p-6",children:h.jsxs("div",{className:"max-w-lg w-full bg-white dark:bg-slate-800 rounded-3xl shadow-2xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:[h.jsxs("div",{className:"bg-red-500 p-8 text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mx-auto mb-4",children:h.jsx(No,{className:"w-8 h-8 text-white"})}),h.jsx("h1",{className:"text-xl font-black text-white uppercase tracking-wider",children:"Error Inesperado"}),h.jsx("p",{className:"text-red-100 text-sm mt-2",children:"Algo sali mal en la aplicacin"})]}),h.jsxs("div",{className:"p-8 space-y-6",children:[h.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-2xl p-4",children:[h.jsx("p",{className:"text-sm font-bold text-red-800 dark:text-red-200 mb-2",children:"Detalles del error:"}),h.jsx("code",{className:"text-xs text-red-600 dark:text-red-300 break-all block",children:((e=this.state.error)==null?void 0:e.message)||"Error desconocido"})]}),h.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 text-center",children:"Por favor, intenta recargar la pgina. Si el problema persiste, contacta al administrador del sistema."}),h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("button",{onClick:this.handleReload,className:"flex-1 flex items-center justify-center gap-2 px-6 py-4 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-xl transition-all active:scale-95",children:[h.jsx(S_,{className:"w-5 h-5"}),"Recargar"]}),h.jsx("button",{onClick:this.handleGoHome,className:"flex items-center justify-center gap-2 px-6 py-4 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 font-bold rounded-xl transition-all active:scale-95",children:h.jsx(N5,{className:"w-5 h-5"})})]})]}),h.jsx("div",{className:"px-8 py-4 bg-slate-50 dark:bg-slate-800/50 border-t border-slate-200 dark:border-slate-700",children:h.jsx("p",{className:"text-xs text-slate-400 text-center uppercase tracking-widest",children:"GDP Cloud  Error Recovery Module"})})]})}):this.props.children}}const j4=()=>{const{signIn:r,signInWithGoogle:e,resetPassword:s}=u0(),[a,o]=J.useState("login"),[c,u]=J.useState(""),[p,m]=J.useState(""),[b,x]=J.useState(!1),[_,S]=J.useState(!1),[y,E]=J.useState(null),[k,N]=J.useState(null),C=async P=>{P.preventDefault(),E(null),N(null),S(!0);try{if(a==="login"){const{error:V}=await r(c,p);V&&(V.message.includes("Invalid login")?E("Credenciales incorrectas. Verifica tu email y contrasea."):E(V.message))}else if(a==="forgot"){const{error:V}=await s(c);V?E(V.message):N("Te enviamos un email con instrucciones para restablecer tu contrasea.")}}catch{E("Ocurri un error inesperado. Intenta nuevamente.")}finally{S(!1)}},L=async()=>{E(null),N(null),S(!0);try{const{error:P}=await e();P&&(P.code==="auth/popup-closed-by-user"||(P.code==="auth/account-exists-with-different-credential"?E("Ya existe una cuenta con este email pero usa un proveedor diferente."):E(P.message)))}catch{E("Error al iniciar sesin con Google.")}finally{S(!1)}};return h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-indigo-950 to-slate-900 flex items-center justify-center p-4",children:[h.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[h.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-indigo-500/20 rounded-full blur-3xl"}),h.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500/20 rounded-full blur-3xl"})]}),h.jsxs("div",{className:"relative w-full max-w-md",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl shadow-2xl mb-4",children:h.jsx("span",{className:"text-2xl font-black text-white",children:"GDP"})}),h.jsx("h1",{className:"text-2xl font-black text-white tracking-tight",children:"GDP Cloud"}),h.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Sistema de Gestin de Decretos"})]}),h.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl border border-white/20 shadow-2xl p-8",children:[h.jsxs("h2",{className:"text-xl font-black text-white mb-6 text-center",children:[a==="login"&&"Iniciar Sesin",a==="forgot"&&"Recuperar Contrasea"]}),y&&h.jsxs("div",{className:"mb-4 p-4 bg-red-500/20 border border-red-500/30 rounded-xl flex items-start gap-3",children:[h.jsx(Do,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),h.jsx("p",{className:"text-sm text-red-200",children:y})]}),k&&h.jsx("div",{className:"mb-4 p-4 bg-emerald-500/20 border border-emerald-500/30 rounded-xl",children:h.jsx("p",{className:"text-sm text-emerald-200",children:k})}),h.jsxs("form",{onSubmit:C,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-slate-300 uppercase tracking-wider mb-2",children:"Correo Electrnico"}),h.jsxs("div",{className:"relative",children:[h.jsx(m0,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),h.jsx("input",{type:"email",value:c,onChange:P=>u(P.target.value),placeholder:"tu@email.com",required:!0,className:"w-full pl-12 pr-4 py-3.5 bg-white/5 border border-white/10 rounded-xl text-white placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"})]})]}),a==="login"&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-slate-300 uppercase tracking-wider mb-2",children:"Contrasea"}),h.jsxs("div",{className:"relative",children:[h.jsx(B5,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),h.jsx("input",{type:b?"text":"password",value:p,onChange:P=>m(P.target.value),placeholder:"",required:!0,minLength:6,className:"w-full pl-12 pr-12 py-3.5 bg-white/5 border border-white/10 rounded-xl text-white placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"}),h.jsx("button",{type:"button",onClick:()=>x(!b),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-white transition-colors",children:b?h.jsx(v_,{size:20}):h.jsx(sc,{size:20})})]})]}),a==="login"&&h.jsx("div",{className:"text-right",children:h.jsx("button",{type:"button",onClick:()=>{o("forgot"),E(null),N(null)},className:"text-xs text-indigo-400 hover:text-indigo-300 font-bold transition-colors",children:"Olvidaste tu contrasea?"})}),h.jsx("button",{type:"submit",disabled:_,className:"w-full py-4 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 disabled:from-slate-600 disabled:to-slate-600 text-white font-black rounded-xl shadow-lg shadow-indigo-500/25 transition-all flex items-center justify-center gap-2",children:_?h.jsxs(h.Fragment,{children:[h.jsx(Tp,{className:"w-5 h-5 animate-spin"}),"Procesando..."]}):h.jsxs(h.Fragment,{children:[a==="login"&&"Iniciar Sesin",a==="forgot"&&"Enviar Instrucciones",h.jsx(h_,{className:"w-5 h-5"})]})})]}),a==="login"&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"relative my-6",children:[h.jsx("div",{className:"absolute inset-0 flex items-center",children:h.jsx("div",{className:"w-full border-t border-white/10"})}),h.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:h.jsx("span",{className:"bg-transparent px-2 text-slate-500 font-bold backdrop-blur-xl",children:"O tambin"})})]}),h.jsxs("button",{type:"button",onClick:L,disabled:_,className:"w-full py-3.5 bg-white hover:bg-slate-50 disabled:bg-slate-400 text-slate-900 font-bold rounded-xl shadow-lg transition-all flex items-center justify-center gap-3",children:[h.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[h.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),h.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),h.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z"}),h.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continuar con Google"]})]}),a==="forgot"&&h.jsx("div",{className:"mt-6 pt-6 border-t border-white/10 text-center",children:h.jsx("button",{onClick:()=>{o("login"),E(null),N(null)},className:"text-sm text-indigo-400 hover:text-indigo-300 font-bold transition-colors",children:" Volver al inicio de sesin"})}),a==="login"&&h.jsx("div",{className:"mt-6 pt-6 border-t border-white/10",children:h.jsx("p",{className:"text-xs text-slate-500 text-center",children:"Las cuentas son creadas por el administrador del sistema. Si necesitas acceso, contacta al administrador."})})]}),h.jsxs("p",{className:"text-center text-xs text-slate-500 mt-6",children:[" ",new Date().getFullYear()," GDP Cloud  Todos los derechos reservados"]})]})]})},R4=()=>{const[r,e]=J.useState(!1),s=J.useCallback(()=>{e(window.scrollY>400)},[]);J.useEffect(()=>(window.addEventListener("scroll",s,{passive:!0}),()=>window.removeEventListener("scroll",s)),[s]);const a=J.useCallback(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);return r?h.jsx("button",{onClick:a,className:"fixed bottom-20 right-6 z-[100] p-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl shadow-xl hover:shadow-2xl text-slate-500 hover:text-indigo-600 dark:hover:text-indigo-400 transition-all active:scale-90 scroll-top-enter hover:-translate-y-0.5","aria-label":"Volver arriba",title:"Volver al inicio",children:h.jsx(jT,{className:"w-5 h-5"})}):null};var Nt=(r=>(r.LEGAL_HOLIDAY="Feriado Legal",r.ADMINISTRATIVE="Permiso Administrativo",r.SICK_LEAVE="Licencia Medica",r.WITHOUT_PAY="Permiso Sin Goce de Sueldo",r.PARENTAL="Permiso Post Natal Parental",r))(Nt||{}),It=(r=>(r.JC="Jornada Completa",r.JM="Jornada Manana",r.JT="Jornada Tarde",r))(It||{}),Eo=(r=>(r.PENDING="Pendiente",r.APPROVED="Aprobado",r.REJECTED="Rechazado",r))(Eo||{});const fv="GDP Cloud - Gestion de Personas",D4=["#","Decreto","Materia","Acto","Funcionario","RUT","Periodo","Cantidad de dias","Fecha de inicio","Tipo de Jornada","Dias a su haber","Fecha","Saldo final","R.A","Emite"],O4=["Jornada manana","Jornada tarde","Jornada completa"],I4=[{value:"PA",label:"PERMISO (PA)"},{value:"FL",label:"FERIADO (FL)"}],L4=["2025-01-01","2025-04-18","2025-04-19","2025-05-01","2025-05-21","2025-06-20","2025-06-29","2025-07-16","2025-08-15","2025-09-18","2025-09-19","2025-10-12","2025-10-31","2025-11-01","2025-12-08","2025-12-25","2026-01-01","2026-04-03","2026-04-04","2026-05-01","2026-05-21","2026-06-21","2026-06-29","2026-07-16","2026-08-15","2026-09-18","2026-09-19","2026-10-12","2026-10-31","2026-11-01","2026-12-08","2026-12-25"],Je=(r,e,s,a)=>({id:r,firstName:e,lastName:s,rut:"",email:`${e.toLowerCase()}.${s.toLowerCase().replace(/ /g,"")}@institucion.cl`,position:"Funcionario",department:"General",totalVacationDays:15,usedVacationDays:0,totalAdminDays:6,usedAdminDays:0,totalSickLeaveDays:30,usedSickLeaveDays:0,avatarUrl:`https://ui-avatars.com/api/?name=${e}+${s}&background=random&color=fff`}),U4=[Je("1","Nelida","Valderama"),Je("2","Yahivett","Tarque"),Je("3","Maria Soledad","Jarrin"),Je("4","Max","Tapia"),Je("5","Gloria","Bolano"),Je("6","Romina","Siau"),Je("7","Sebastian","Troncoso Bruna"),Je("8","Alvaro","Ron"),Je("9","Alejandra","Leiva"),Je("10","Paola","Reyes"),Je("11","Rodrigo","Marin"),Je("12","Karen","Diaz"),Je("13","Natalia","Jofre"),Je("14","Angelica","Zenis"),Je("15","Patricio","Tapia Munoz"),Je("16","Sebastian","Diaz"),Je("17","Benjamin","Vega Navarro"),Je("18","Nicolas","Labbe"),Je("19","Carolina","Prieto"),Je("20","Marcela","Fernandez"),Je("21","Silvia","Esquivel"),Je("22","Jennifer","Cancino"),Je("23","Jose","Montero"),Je("24","Jorge","Guillen"),Je("25","Vanessa","Tavali Cortes"),Je("26","Nicol","Diaz"),Je("27","Claudia","Zamorano"),Je("28","Fernanda","Urrutia"),Je("29","Alonso","Pereda"),Je("30","Maximiliano","Guzman"),Je("31","Roxany","Mery"),Je("32","Reinaldo","Valencia"),Je("33","Gabriela","Zorilla"),Je("34","Maria Alejandra","Saez"),Je("35","Romina","Ron"),Je("36","Ruth","Munoz"),Je("37","Marcelo","Cardenas"),Je("38","Anibal","Carrasco"),Je("39","Yanet","Esquivel"),Je("40","Nicole","Ortega"),Je("41","Mercedes","Corrales"),Je("42","Rosa","Jarpa Zamorano"),Je("43","Jeremy","Gee")],Wt=(r,e,s,a,o,c,u)=>({id:r,employeeId:e,startDate:s,endDate:a,daysCount:o,type:c,shift:u,status:Eo.APPROVED,reason:"Solicitud Importada"}),pv=[Wt("101","1","2026-01-05","2026-01-23",15,Nt.LEGAL_HOLIDAY,It.JC),Wt("102","2","2026-01-06","2026-01-12",5,Nt.WITHOUT_PAY,It.JC),Wt("103","3","2026-01-06","2026-01-06",.5,Nt.ADMINISTRATIVE,It.JM),Wt("104","4","2026-01-07","2026-01-07",1,Nt.ADMINISTRATIVE,It.JC),Wt("105","5","2026-01-06","2026-01-07",2,Nt.SICK_LEAVE,It.JC),Wt("106","6","2026-01-06","2026-01-06",.5,Nt.ADMINISTRATIVE,It.JT),Wt("107","7","2026-01-09","2026-01-09",.5,Nt.ADMINISTRATIVE,It.JM),Wt("108","8","2026-01-08","2026-01-08",1,Nt.ADMINISTRATIVE,It.JC),Wt("109","9","2025-12-08","2026-02-18",42,Nt.SICK_LEAVE,It.JC),Wt("110","10","2026-01-09","2026-01-09",.5,Nt.ADMINISTRATIVE,It.JM),Wt("111","11","2026-01-16","2026-01-16",1,Nt.ADMINISTRATIVE,It.JC),Wt("112","12","2026-01-06","2026-03-30",84,Nt.PARENTAL,It.JC),Wt("113","13","2026-01-12","2026-01-12",.5,Nt.ADMINISTRATIVE,It.JM),Wt("114","14","2026-01-12","2026-01-12",.5,Nt.ADMINISTRATIVE,It.JM),Wt("115","15","2026-01-12","2026-01-12",.5,Nt.ADMINISTRATIVE,It.JT),Wt("116","15","2026-01-13","2026-01-14",2,Nt.LEGAL_HOLIDAY,It.JC),Wt("117","10","2026-01-16","2026-01-16",1,Nt.ADMINISTRATIVE,It.JC),Wt("118","7","2026-01-16","2026-01-16",.5,Nt.ADMINISTRATIVE,It.JM),Wt("119","16","2026-01-16","2026-01-16",1,Nt.ADMINISTRATIVE,It.JC),Wt("120","17","2026-01-23","2026-02-06",11,Nt.LEGAL_HOLIDAY,It.JC)],mv={defaultVacationDays:15,defaultAdminDays:6,defaultSickLeaveDays:30,notificationEmail:"rrhh@institucion.cl",emailTemplate:"- {NOMBRE} ({CARGO}): {TIPO} {JORNADA} desde el {DESDE} hasta el {HASTA}.",templateLegalHoliday:"- {NOMBRE} ({CARGO}): Hara uso de Feriado Legal {JORNADA} desde el {DESDE} hasta el {HASTA}.",templateAdministrative:"- {NOMBRE} ({CARGO}): Solicito Permiso Administrativo {JORNADA} el dia {DESDE} (Retorna: {HASTA}).",templateSickLeave:"- {NOMBRE} ({CARGO}): Presenta Licencia Medica desde el {DESDE} hasta el {HASTA}.",carryoverVacationEnabled:!0,carryoverVacationMaxPeriods:2,adminDaysExpireAtYearEnd:!0,yearCloseReminderDays:30},N_=r=>!!(r.periodo2&&r.periodo2.trim()!=="");function Ud(r,e=null){return(N_(r)?r.saldoFinalP2??r.saldoFinalP1:r.saldoFinalP1??r.saldoFinalP2)??e}const Zu=r=>{if(!r)return!1;const s=new Date(r+"T12:00:00").getDay();return s===0||s===6},Ll=r=>{if(!r)return"";const e=new Date(r+"T12:00:00");return["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado"][e.getDay()]},M4=({onSubmit:r,editingRecord:e,onCancelEdit:s,nextCorrelatives:a,employees:o,records:c,requestedSolicitudType:u,onRequestedSolicitudTypeHandled:p,baseDaysPA:m})=>{const b=new Date().getFullYear(),x=`${b-1}-${b}`,_=`${b}-${b+1}`,S={solicitudType:"PA",decreto:"",materia:"Decreto Exento",acto:a.PA,funcionario:"",rut:"",periodo:b.toString(),cantidadDias:1,fechaInicio:"",tipoJornada:"Jornada completa",diasHaber:m,fechaDecreto:new Date().toISOString().split("T")[0],ra:"MGA",emite:"mga",observaciones:"",fechaTermino:"",periodo1:x,saldoDisponibleP1:0,solicitadoP1:0,saldoFinalP1:0,periodo2:_,saldoDisponibleP2:0,solicitadoP2:0,saldoFinalP2:0},[y,E]=J.useState(S),[k,N]=J.useState({}),[C,L]=J.useState(!1),[P,V]=J.useState(null),[q,G]=J.useState(null);J.useRef(null);const O=J.useRef(null),j=J.useRef(!1);J.useEffect(()=>{const K=ee=>{O.current&&!O.current.contains(ee.target)&&L(!1)};return document.addEventListener("mousedown",K),()=>document.removeEventListener("mousedown",K)},[]),J.useEffect(()=>{if(e){const{id:K,createdAt:ee,...Z}=e;E(Z),N({})}else E(K=>({...K,acto:a[K.solicitudType]}))},[e,a]),J.useEffect(()=>{e||E(K=>({...K,acto:a[K.solicitudType]}))},[y.solicitudType,a,e]),J.useEffect(()=>{if(u){if(e){p==null||p();return}E(K=>K.solicitudType===u?K:{...K,solicitudType:u}),p==null||p()}},[u,e,p]),J.useEffect(()=>{if(j.current){j.current=!1;return}if(!e&&y.rut){const K=c.filter(ee=>ee.rut===y.rut&&ee.solicitudType===y.solicitudType).sort((ee,Z)=>gi(ee,Z));if(K.length>0){const ee=K[0];if(y.solicitudType==="PA"){const Z=ee.diasHaber-ee.cantidadDias;E(re=>({...re,diasHaber:Z})),V(Z)}else{const Z=Ud(ee,0);E(re=>({...re,saldoDisponibleP1:Z})),V(Z)}}else{if(y.solicitudType==="PA"){const ee=m;E(Z=>({...Z,diasHaber:ee}))}else E(ee=>({...ee,saldoDisponibleP1:0}));V(null)}}},[y.solicitudType,y.rut,c,e]);const I=(K,ee)=>{switch(K){case"rut":if(ee&&!Zf(String(ee)))return"RUT invlido";break;case"fechaInicio":case"fechaTermino":if(ee&&!Qf(String(ee)))return"Fecha fuera de rango vlido";break;case"cantidadDias":if(Number(ee)<=0)return"Debe ser mayor a 0";if(Number(ee)>30)return"Mximo 30 das";break}},$=K=>{const{name:ee,value:Z}=K.target,we=["cantidadDias","diasHaber","saldoDisponibleP1","solicitadoP1","saldoDisponibleP2","solicitadoP2"].includes(ee)?Number(Z):Z;E(Ee=>({...Ee,[ee]:we}));const Re=I(ee,we);N(Ee=>({...Ee,[ee]:Re}))},H=K=>{const ee=aT(K.rut);E(re=>({...re,funcionario:d0(K.nombre),rut:ee})),L(!1);const Z=I("rut",ee);N(re=>({...re,rut:Z}))},R=o.filter(K=>K.nombre.toLowerCase().includes(y.funcionario.toLowerCase())||K.rut.includes(y.funcionario)),U=(y.diasHaber-y.cantidadDias).toFixed(1),D=parseFloat(U)<0,me=(y.saldoDisponibleP1||0)-(y.solicitadoP1||0),te=(y.saldoDisponibleP2||0)-(y.solicitadoP2||0),Q=K=>{if(!K)return null;const ee=new Date(K+"T12:00:00");return Number.isNaN(ee.getTime())?null:ee},ve=K=>{const ee=Q(K.fechaInicio||"");if(!ee)return null;let Z=null;if(K.solicitudType==="FL"&&K.fechaTermino&&(Z=Q(K.fechaTermino)||null),!Z||Z<ee){const re=Math.max(Math.ceil(K.cantidadDias||1),1);Z=new Date(ee),Z.setDate(ee.getDate()+re-1)}return{start:ee,end:Z}},ie=(K,ee,Z)=>{const re=ve(K);if(!re)return null;const we=c.filter(Re=>Re.rut===ee&&Re.id!==Z);for(const Re of we){if(!Re.fechaInicio)continue;const Ee=ve({solicitudType:Re.solicitudType,fechaInicio:Re.fechaInicio,fechaTermino:Re.fechaTermino||"",cantidadDias:Re.cantidadDias});if(!Ee)continue;if(re.start<=Ee.end&&re.end>=Ee.start)return Re}return null},se=K=>{K.preventDefault();const ee={};if(y.funcionario||(ee.funcionario="Requerido"),y.rut?Zf(y.rut)||(ee.rut="RUT invlido"):ee.rut="Requerido",y.fechaInicio?Qf(y.fechaInicio)?Zu(y.fechaInicio)&&(ee.fechaInicio="Fin de semana"):ee.fechaInicio="Fecha invlida":ee.fechaInicio="Requerido",y.solicitudType==="FL"&&(y.fechaTermino?Qf(y.fechaTermino)||(ee.fechaTermino="Fecha invlida"):ee.fechaTermino="Requerido"),y.solicitudType==="PA"&&y.cantidadDias>y.diasHaber){ee.cantidadDias="Saldo insuficiente",G(`Saldo insuficiente: solicitas ${y.cantidadDias} das pero solo tienes ${y.diasHaber} disponibles.`),N(ee);return}if(y.solicitudType==="FL"){const re=!!(y.periodo2&&y.periodo2.trim()!==""),we=(y.saldoDisponibleP1||0)-(y.solicitadoP1||0),Re=(y.saldoDisponibleP2||0)-(y.solicitadoP2||0);if(!y.periodo1||!y.periodo1.trim()){G("El perodo 1 es obligatorio para Feriado Legal."),N({...ee,fechaInicio:"Periodo 1 requerido"});return}if(!re&&((y.solicitadoP2||0)>0||(y.saldoDisponibleP2||0)>0)){G("Si no hay Perodo 2, los campos de Perodo 2 deben quedar en 0."),N({...ee,cantidadDias:"Perodo 2 inconsistente"});return}if(y.fechaInicio&&y.fechaTermino&&y.fechaTermino<y.fechaInicio){G("La fecha de trmino no puede ser anterior a la fecha de inicio."),N({...ee,fechaTermino:"Rango invlido"});return}if(we<0||re&&Re<0){G(`Saldo FL insuficiente. Resultado: P1 ${we.toFixed(1)}${re?` | P2 ${Re.toFixed(1)}`:""}.`),N({...ee,cantidadDias:"Saldo FL insuficiente"});return}}if(y.fechaInicio&&y.rut){const re=ie({solicitudType:y.solicitudType,fechaInicio:y.fechaInicio,fechaTermino:y.fechaTermino,cantidadDias:y.cantidadDias},y.rut,e==null?void 0:e.id);if(re){ee.fechaInicio="Conflicto de fechas";const we=re.solicitudType==="PA"?"Permiso Administrativo":"Feriado Legal",Re=new Date(re.fechaInicio+"T12:00:00").toLocaleDateString("es-CL");G(` Conflicto: ${y.funcionario} ya tiene un ${we} registrado desde el ${Re} (${re.cantidadDias} das). Las fechas se superponen.`),N(ee);return}}if(Object.keys(ee).length>0){N(ee);const re=ee.fechaInicio==="Fin de semana",we=ee.fechaTermino;G(re?`El ${Ll(y.fechaInicio)} es fin de semana. Selecciona un da hbil.`:we?"La fecha de trmino es obligatoria para Feriado Legal.":"Por favor, corrige los campos marcados en rojo.");return}const Z={...y,saldoFinalP1:me,saldoFinalP2:te};r(Z),e||(E({...S,acto:a.PA}),N({})),G(null)},X=({icon:K,title:ee,color:Z})=>h.jsxs("div",{className:`flex items-center gap-3 mb-5 pb-3 border-b ${Z}`,children:[h.jsx("div",{className:`p-2 rounded-xl ${Z.includes("indigo")?"bg-indigo-100 dark:bg-indigo-900/50":"bg-amber-100 dark:bg-amber-900/50"}`,children:h.jsx(K,{className:`w-5 h-5 ${Z.includes("indigo")?"text-indigo-600 dark:text-indigo-400":"text-amber-600 dark:text-amber-400"}`})}),h.jsx("h3",{className:`text-sm font-black uppercase tracking-widest ${Z.includes("indigo")?"text-indigo-700 dark:text-indigo-300":"text-amber-700 dark:text-amber-300"}`,children:ee})]});return h.jsxs("div",{className:"relative group",children:[h.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-indigo-500 to-sky-500 rounded-[2.5rem] blur opacity-5 group-hover:opacity-10 transition duration-1000 group-hover:duration-200"}),h.jsxs("form",{onSubmit:se,className:`relative bg-white dark:bg-slate-800 rounded-2xl sm:rounded-[2rem] lg:rounded-[2.5rem] shadow-xl border overflow-hidden transition-all duration-500 ${e?"border-amber-400 dark:border-amber-500":"border-slate-200 dark:border-slate-700"}`,children:[h.jsxs("div",{className:`p-6 sm:p-8 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 text-white relative overflow-hidden ${e?"bg-amber-500":y.solicitudType==="PA"?"bg-gradient-to-r from-indigo-600 to-indigo-800":"bg-gradient-to-r from-amber-500 to-orange-600"}`,children:[h.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 scale-150 pointer-events-none",children:y.solicitudType==="PA"?h.jsx(bi,{size:120}):h.jsx(Ad,{size:120})}),h.jsxs("div",{className:"flex items-center gap-4 sm:gap-5 z-10",children:[h.jsx("div",{className:"p-2.5 sm:p-3 rounded-xl sm:rounded-2xl backdrop-blur-md shadow-lg bg-white/20",children:e?h.jsx(Np,{className:"w-5 h-5 sm:w-6 sm:h-6"}):h.jsx(ov,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg sm:text-xl font-extrabold uppercase tracking-tight",children:e?"Editando Resolucin":"Generar Acto Administrativo"}),h.jsx("p",{className:"text-[10px] sm:text-[11px] font-bold uppercase opacity-80 tracking-[0.15em] sm:tracking-[0.2em] mt-1",children:y.solicitudType==="PA"?"Permiso Administrativo":"Feriado Legal"})]})]}),h.jsx("div",{className:"flex gap-2 z-10 w-full sm:w-auto",children:e&&h.jsx("button",{type:"button",onClick:s,className:"p-2.5 hover:bg-white/20 rounded-xl transition-all border border-white/20",children:h.jsx(qn,{className:"w-5 h-5"})})})]}),h.jsxs("div",{className:"p-4 sm:p-6 md:p-8 lg:p-10 space-y-6 sm:space-y-8",children:[q&&h.jsxs("div",{className:"bg-red-50 dark:bg-red-900/30 border border-red-100 dark:border-red-800 p-4 rounded-2xl flex items-center gap-3",children:[h.jsx(Do,{className:"text-red-500 flex-shrink-0"}),h.jsx("p",{className:"text-xs sm:text-sm font-bold text-red-700 dark:text-red-300",children:q})]}),y.solicitudType==="PA"&&D&&h.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/30 border border-amber-200 dark:border-amber-800 p-4 rounded-2xl flex items-center gap-3",children:[h.jsx(No,{className:"text-amber-500 flex-shrink-0"}),h.jsxs("p",{className:"text-xs sm:text-sm font-bold text-amber-700 dark:text-amber-300",children:["Atencin: El saldo quedar en negativo (",U," das)"]})]}),h.jsx("div",{className:"flex justify-center",children:h.jsx("div",{className:"inline-flex gap-2 bg-slate-100 dark:bg-slate-700/50 p-2 rounded-2xl border border-slate-200 dark:border-slate-600 shadow-inner",children:I4.map(K=>h.jsx("button",{type:"button",onClick:()=>E(ee=>({...ee,solicitudType:K.value})),className:`px-4 sm:px-8 lg:px-12 py-3 rounded-xl text-[11px] sm:text-xs lg:text-sm font-black transition-all duration-300 ${y.solicitudType===K.value?K.value==="PA"?"bg-indigo-600 text-white shadow-lg shadow-indigo-200 dark:shadow-indigo-900/50":"bg-amber-500 text-white shadow-lg shadow-amber-200 dark:shadow-amber-900/50":"text-slate-400 dark:text-slate-500 hover:text-slate-600 dark:hover:text-slate-300 hover:bg-white/50 dark:hover:bg-slate-600/50"}`,children:K.value==="PA"?"PERMISO (PA)":"FERIADO (FL)"},K.value))})}),h.jsxs("div",{className:"bg-slate-50/50 dark:bg-slate-700/20 p-4 sm:p-6 rounded-2xl border border-slate-100 dark:border-slate-700",children:[h.jsx(X,{icon:ui,title:"Datos del Funcionario",color:"border-slate-200 dark:border-slate-600 text-slate-600"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6",children:[h.jsxs("div",{className:"md:col-span-8 relative",ref:O,children:[h.jsxs("label",{className:"text-[10px] sm:text-[11px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest ml-1 mb-2 block",children:["Nombre del Funcionario ",k.funcionario&&h.jsxs("span",{className:"text-red-500 ml-2",children:[" ",k.funcionario]})]}),h.jsxs("div",{className:"relative",children:[h.jsx(ui,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-300 dark:text-slate-600"}),h.jsx("input",{name:"funcionario",value:y.funcionario,onChange:K=>{$(K),L(!0)},onFocus:()=>L(!0),autoComplete:"off",placeholder:"NOMBRE O RUT PARA BUSCAR...",className:`w-full pl-12 pr-12 py-4 bg-white dark:bg-slate-700 border rounded-xl font-black text-slate-800 dark:text-white uppercase focus:border-indigo-500 focus:ring-4 focus:ring-indigo-50 dark:focus:ring-indigo-900/50 outline-none transition-all text-sm ${k.funcionario?"border-red-300":"border-slate-200 dark:border-slate-600"}`}),h.jsx("button",{type:"button",onClick:()=>L(!C),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-indigo-600",children:h.jsx(h0,{className:`w-5 h-5 transition-transform ${C?"rotate-180":""}`})}),C&&h.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-2xl z-[100] overflow-hidden",children:h.jsx("div",{className:"max-h-[280px] overflow-y-auto p-2",children:R.length>0?R.map(K=>h.jsxs("div",{onClick:()=>H(K),className:"flex items-center justify-between px-4 py-3 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded-lg cursor-pointer",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-black text-slate-800 dark:text-white",children:K.nombre}),h.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:["RUT: ",K.rut]})]}),h.jsx(iv,{className:"w-4 h-4 text-indigo-500 opacity-0 group-hover:opacity-100"})]},K.rut)):h.jsxs("div",{className:"px-6 py-8 text-center",children:[h.jsx(ui,{className:"w-8 h-8 text-slate-200 dark:text-slate-700 mx-auto mb-2"}),h.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Sin coincidencias"})]})})})]})]}),h.jsxs("div",{className:"md:col-span-4",children:[h.jsxs("label",{className:"text-[10px] sm:text-[11px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest ml-1 mb-2 block",children:["RUT ",k.rut&&h.jsxs("span",{className:"text-red-500 ml-2",children:[" ",k.rut]})]}),h.jsxs("div",{className:"relative",children:[h.jsx(k5,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-300 dark:text-slate-600"}),h.jsx("input",{readOnly:!0,value:y.rut||"00.000.000-0",className:`w-full pl-12 pr-10 py-4 bg-slate-100 dark:bg-slate-700/50 border rounded-xl font-mono font-bold text-slate-500 dark:text-slate-400 outline-none text-sm ${k.rut?"border-red-300":"border-slate-200 dark:border-slate-600"}`}),y.rut&&Zf(y.rut)&&h.jsx(iv,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-emerald-500"})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 mb-2 block",children:"N Acto Adm."}),h.jsx("input",{name:"acto",value:y.acto,onChange:$,className:"w-full bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 px-4 py-3 rounded-xl font-black text-slate-800 dark:text-white outline-none focus:border-indigo-500 text-center text-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 mb-2 block",children:"Tipo Documento"}),h.jsxs("select",{name:"materia",value:y.materia,onChange:$,className:"w-full bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 px-4 py-3 rounded-xl font-bold text-slate-700 dark:text-slate-200 text-sm outline-none focus:border-indigo-500 cursor-pointer",children:[h.jsx("option",{value:"Decreto Exento",children:"Decreto Exento"}),h.jsx("option",{value:"Resolucin Exenta",children:"Resolucin Exenta"})]})]})]})]}),y.solicitudType==="PA"&&h.jsxs("div",{className:"bg-indigo-50/50 dark:bg-indigo-900/10 p-4 sm:p-6 rounded-2xl border border-indigo-100 dark:border-indigo-800/30",children:[h.jsx(X,{icon:f0,title:"Datos del Permiso Administrativo",color:"border-indigo-200 dark:border-indigo-800 text-indigo-600"}),h.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[h.jsxs("div",{className:"relative",children:[h.jsx("label",{className:"text-[10px] font-black text-indigo-600 dark:text-indigo-400 uppercase tracking-widest block mb-2",children:"Saldo Anterior"}),h.jsx("input",{type:"number",step:"0.5",name:"diasHaber",value:y.diasHaber,onChange:$,className:"w-full bg-white dark:bg-slate-700 border border-indigo-200 dark:border-indigo-700 px-4 py-3 rounded-xl font-black text-indigo-900 dark:text-indigo-100 outline-none focus:border-indigo-500 text-center text-sm"}),P!==null&&h.jsx("span",{className:"absolute -top-1 right-2 bg-indigo-600 text-white text-[8px] font-black px-2 py-0.5 rounded-full",children:"SYNC"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"text-[10px] font-black text-slate-500 dark:text-slate-400 uppercase tracking-widest block mb-2",children:["Das Solicitados ",k.cantidadDias&&h.jsx("span",{className:"text-red-500",children:""})]}),h.jsx("input",{type:"number",step:"0.5",name:"cantidadDias",value:y.cantidadDias,onChange:$,min:"0.5",max:"30",className:`w-full bg-white dark:bg-slate-700 border px-4 py-3 rounded-xl font-black text-slate-900 dark:text-white outline-none focus:border-indigo-500 text-center text-sm ${k.cantidadDias?"border-red-300":"border-slate-200 dark:border-slate-600"}`})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"text-[10px] font-black text-slate-500 dark:text-slate-400 uppercase tracking-widest block mb-2",children:["Fecha Inicio ",k.fechaInicio&&h.jsx("span",{className:"text-red-500",children:""})]}),h.jsx("input",{type:"date",name:"fechaInicio",value:y.fechaInicio,onChange:$,className:`w-full bg-white dark:bg-slate-700 border px-4 py-3 rounded-xl font-bold text-slate-800 dark:text-white outline-none focus:border-indigo-500 text-sm ${k.fechaInicio?"border-red-300":"border-slate-200 dark:border-slate-600"}`}),y.fechaInicio&&h.jsxs("p",{className:`mt-1 text-[10px] font-bold ${Zu(y.fechaInicio)?"text-red-500":"text-emerald-600"}`,children:[Ll(y.fechaInicio)," ",Zu(y.fechaInicio)&&"(Fin de semana)"]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] font-black text-slate-500 dark:text-slate-400 uppercase tracking-widest block mb-2",children:"Fecha Solicitud"}),h.jsx("input",{type:"date",name:"fechaDecreto",value:y.fechaDecreto,onChange:$,className:"w-full bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 px-4 py-3 rounded-xl font-bold text-slate-800 dark:text-white outline-none focus:border-indigo-500 text-sm"}),y.fechaDecreto&&h.jsx("p",{className:"mt-1 text-[10px] font-bold text-emerald-600",children:Ll(y.fechaDecreto)})]})]}),h.jsxs("div",{className:"mt-4",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-500 dark:text-slate-400 uppercase tracking-widest block mb-2",children:"Tipo de Jornada"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:O4.map(K=>h.jsx("button",{type:"button",onClick:()=>E(ee=>({...ee,tipoJornada:K})),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all ${y.tipoJornada===K?"bg-indigo-600 text-white shadow-md":"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-600 hover:border-indigo-400"}`,children:K},K))})]}),h.jsxs("div",{className:`mt-6 p-4 rounded-xl flex items-center gap-4 ${D?"bg-red-100 dark:bg-red-900/30":"bg-emerald-100 dark:bg-emerald-900/30"}`,children:[h.jsx(p0,{className:`w-5 h-5 ${D?"text-red-600":"text-emerald-600"}`}),h.jsxs("div",{children:[h.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Balance Final Proyectado"}),h.jsxs("p",{className:`text-xl font-black ${D?"text-red-600":"text-emerald-600"}`,children:[U," das"]})]})]})]}),y.solicitudType==="FL"&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-amber-50/50 dark:bg-amber-900/10 p-4 sm:p-6 rounded-2xl border border-amber-100 dark:border-amber-800/30",children:[h.jsx(X,{icon:Ad,title:"Datos del Feriado Legal",color:"border-amber-200 dark:border-amber-800 text-amber-600"}),h.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"text-[10px] font-black text-amber-600 dark:text-amber-400 uppercase tracking-widest block mb-2",children:["Das Solicitados ",k.cantidadDias&&h.jsx("span",{className:"text-red-500",children:""})]}),h.jsx("input",{type:"number",step:"0.5",name:"cantidadDias",value:y.cantidadDias,onChange:$,min:"0.5",max:"30",className:`w-full bg-white dark:bg-slate-700 border px-4 py-3 rounded-xl font-black text-amber-900 dark:text-amber-100 outline-none focus:border-amber-500 text-center text-sm ${k.cantidadDias?"border-red-300":"border-amber-200 dark:border-amber-700"}`})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"text-[10px] font-black text-slate-500 dark:text-slate-400 uppercase tracking-widest block mb-2",children:["Fecha Inicio ",k.fechaInicio&&h.jsx("span",{className:"text-red-500",children:""})]}),h.jsx("input",{type:"date",name:"fechaInicio",value:y.fechaInicio,onChange:$,className:`w-full bg-white dark:bg-slate-700 border px-4 py-3 rounded-xl font-bold text-slate-800 dark:text-white outline-none focus:border-amber-500 text-sm ${k.fechaInicio?"border-red-300":"border-slate-200 dark:border-slate-600"}`}),y.fechaInicio&&h.jsx("p",{className:`mt-1 text-[10px] font-bold ${Zu(y.fechaInicio)?"text-red-500":"text-emerald-600"}`,children:Ll(y.fechaInicio)})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"text-[10px] font-black text-slate-500 dark:text-slate-400 uppercase tracking-widest block mb-2",children:["Fecha Trmino ",k.fechaTermino&&h.jsx("span",{className:"text-red-500",children:""})]}),h.jsx("input",{type:"date",name:"fechaTermino",value:y.fechaTermino||"",onChange:$,className:`w-full bg-white dark:bg-slate-700 border px-4 py-3 rounded-xl font-bold text-slate-800 dark:text-white outline-none focus:border-amber-500 text-sm ${k.fechaTermino?"border-red-300":"border-slate-200 dark:border-slate-600"}`}),y.fechaTermino&&h.jsx("p",{className:"mt-1 text-[10px] font-bold text-emerald-600",children:Ll(y.fechaTermino)})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] font-black text-slate-500 dark:text-slate-400 uppercase tracking-widest block mb-2",children:"Fecha Emisin"}),h.jsx("input",{type:"date",name:"fechaDecreto",value:y.fechaDecreto,onChange:$,className:"w-full bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 px-4 py-3 rounded-xl font-bold text-slate-800 dark:text-white outline-none focus:border-amber-500 text-sm"})]})]})]}),h.jsxs("div",{className:"bg-sky-50/50 dark:bg-sky-900/10 p-4 sm:p-6 rounded-2xl border border-sky-100 dark:border-sky-800/30",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("span",{className:"w-8 h-8 bg-sky-600 text-white rounded-lg flex items-center justify-center text-sm font-black",children:"1"}),h.jsx("h4",{className:"text-sm font-black text-sky-700 dark:text-sky-300 uppercase tracking-widest",children:"Perodo 1"})]}),h.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest block mb-2",children:"Perodo"}),h.jsx("input",{name:"periodo1",value:y.periodo1||"",onChange:$,placeholder:"2024-2025",className:"w-full bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 px-4 py-3 rounded-xl font-bold text-slate-800 dark:text-white outline-none focus:border-sky-500 text-sm text-center"})]}),h.jsxs("div",{className:"relative",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest block mb-2",children:"Saldo Disponible"}),h.jsx("input",{type:"number",step:"0.5",name:"saldoDisponibleP1",value:y.saldoDisponibleP1||0,onChange:$,className:"w-full bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 px-4 py-3 rounded-xl font-black text-slate-800 dark:text-white outline-none focus:border-sky-500 text-sm text-center"}),P!==null&&h.jsx("span",{className:"absolute -top-1 right-2 bg-sky-600 text-white text-[8px] font-black px-2 py-0.5 rounded-full",children:"SYNC"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest block mb-2",children:"Solicitado"}),h.jsx("input",{type:"number",step:"0.5",name:"solicitadoP1",value:y.solicitadoP1||0,onChange:$,className:"w-full bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 px-4 py-3 rounded-xl font-black text-slate-800 dark:text-white outline-none focus:border-sky-500 text-sm text-center"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest block mb-2",children:"Saldo Final"}),h.jsx("input",{type:"number",readOnly:!0,value:me,className:"w-full bg-emerald-50 dark:bg-emerald-900/30 border border-emerald-200 dark:border-emerald-700 px-4 py-3 rounded-xl font-black text-emerald-700 dark:text-emerald-300 outline-none text-sm text-center"})]})]})]}),h.jsxs("div",{className:"bg-purple-50/50 dark:bg-purple-900/10 p-4 sm:p-6 rounded-2xl border border-purple-100 dark:border-purple-800/30",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("span",{className:"w-8 h-8 bg-purple-600 text-white rounded-lg flex items-center justify-center text-sm font-black",children:"2"}),h.jsx("h4",{className:"text-sm font-black text-purple-700 dark:text-purple-300 uppercase tracking-widest",children:"Perodo 2"}),h.jsx("span",{className:"text-[10px] font-medium text-slate-400 bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded",children:"(Opcional)"})]}),h.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest block mb-2",children:"Perodo"}),h.jsx("input",{name:"periodo2",value:y.periodo2||"",onChange:$,placeholder:"2025-2026",className:"w-full bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 px-4 py-3 rounded-xl font-bold text-slate-800 dark:text-white outline-none focus:border-purple-500 text-sm text-center"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest block mb-2",children:"Saldo Disponible"}),h.jsx("input",{type:"number",step:"0.5",name:"saldoDisponibleP2",value:y.saldoDisponibleP2||0,onChange:$,className:"w-full bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 px-4 py-3 rounded-xl font-black text-slate-800 dark:text-white outline-none focus:border-purple-500 text-sm text-center"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest block mb-2",children:"Solicitado"}),h.jsx("input",{type:"number",step:"0.5",name:"solicitadoP2",value:y.solicitadoP2||0,onChange:$,className:"w-full bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 px-4 py-3 rounded-xl font-black text-slate-800 dark:text-white outline-none focus:border-purple-500 text-sm text-center"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest block mb-2",children:"Saldo Final"}),h.jsx("input",{type:"number",readOnly:!0,value:te,className:"w-full bg-emerald-50 dark:bg-emerald-900/30 border border-emerald-200 dark:border-emerald-700 px-4 py-3 rounded-xl font-black text-emerald-700 dark:text-emerald-300 outline-none text-sm text-center"})]})]})]}),h.jsxs("div",{className:"bg-amber-100 dark:bg-amber-900/30 p-4 rounded-xl flex items-center gap-4",children:[h.jsx(b0,{className:"w-5 h-5 text-amber-600"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Total Das Feriado Legal"}),h.jsxs("p",{className:"text-xl font-black text-amber-600",children:[y.cantidadDias," das"]})]})]})]}),h.jsx("div",{className:"flex justify-end pt-4",children:h.jsxs("button",{type:"submit",className:`w-full sm:w-auto flex items-center justify-center gap-3 px-6 sm:px-10 py-4 ${e?"bg-amber-500 hover:bg-amber-600":y.solicitudType==="PA"?"bg-indigo-600 hover:bg-indigo-700":"bg-amber-500 hover:bg-amber-600"} text-white font-black rounded-2xl shadow-xl transition-all active:scale-95 uppercase text-xs tracking-widest`,children:[e?h.jsx(Np,{className:"w-5 h-5"}):h.jsx(ov,{className:"w-5 h-5"}),e?"Actualizar Decreto":"Emitir Resolucin"]})})]})]})]})};function Qu(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var sp={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var gv;function P4(){return gv||(gv=1,(function(r,e){(function(s){r.exports=s()})(function(){return(function s(a,o,c){function u(b,x){if(!o[b]){if(!a[b]){var _=typeof Qu=="function"&&Qu;if(!x&&_)return _(b,!0);if(p)return p(b,!0);var S=new Error("Cannot find module '"+b+"'");throw S.code="MODULE_NOT_FOUND",S}var y=o[b]={exports:{}};a[b][0].call(y.exports,function(E){var k=a[b][1][E];return u(k||E)},y,y.exports,s,a,o,c)}return o[b].exports}for(var p=typeof Qu=="function"&&Qu,m=0;m<c.length;m++)u(c[m]);return u})({1:[function(s,a,o){var c=s("./utils"),u=s("./support"),p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(m){for(var b,x,_,S,y,E,k,N=[],C=0,L=m.length,P=L,V=c.getTypeOf(m)!=="string";C<m.length;)P=L-C,_=V?(b=m[C++],x=C<L?m[C++]:0,C<L?m[C++]:0):(b=m.charCodeAt(C++),x=C<L?m.charCodeAt(C++):0,C<L?m.charCodeAt(C++):0),S=b>>2,y=(3&b)<<4|x>>4,E=1<P?(15&x)<<2|_>>6:64,k=2<P?63&_:64,N.push(p.charAt(S)+p.charAt(y)+p.charAt(E)+p.charAt(k));return N.join("")},o.decode=function(m){var b,x,_,S,y,E,k=0,N=0,C="data:";if(m.substr(0,C.length)===C)throw new Error("Invalid base64 input, it looks like a data url.");var L,P=3*(m=m.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(m.charAt(m.length-1)===p.charAt(64)&&P--,m.charAt(m.length-2)===p.charAt(64)&&P--,P%1!=0)throw new Error("Invalid base64 input, bad content length.");for(L=u.uint8array?new Uint8Array(0|P):new Array(0|P);k<m.length;)b=p.indexOf(m.charAt(k++))<<2|(S=p.indexOf(m.charAt(k++)))>>4,x=(15&S)<<4|(y=p.indexOf(m.charAt(k++)))>>2,_=(3&y)<<6|(E=p.indexOf(m.charAt(k++))),L[N++]=b,y!==64&&(L[N++]=x),E!==64&&(L[N++]=_);return L}},{"./support":30,"./utils":32}],2:[function(s,a,o){var c=s("./external"),u=s("./stream/DataWorker"),p=s("./stream/Crc32Probe"),m=s("./stream/DataLengthProbe");function b(x,_,S,y,E){this.compressedSize=x,this.uncompressedSize=_,this.crc32=S,this.compression=y,this.compressedContent=E}b.prototype={getContentWorker:function(){var x=new u(c.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new m("data_length")),_=this;return x.on("end",function(){if(this.streamInfo.data_length!==_.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),x},getCompressedWorker:function(){return new u(c.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},b.createWorkerFrom=function(x,_,S){return x.pipe(new p).pipe(new m("uncompressedSize")).pipe(_.compressWorker(S)).pipe(new m("compressedSize")).withStreamInfo("compression",_)},a.exports=b},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(s,a,o){var c=s("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new c("STORE compression")},uncompressWorker:function(){return new c("STORE decompression")}},o.DEFLATE=s("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(s,a,o){var c=s("./utils"),u=(function(){for(var p,m=[],b=0;b<256;b++){p=b;for(var x=0;x<8;x++)p=1&p?3988292384^p>>>1:p>>>1;m[b]=p}return m})();a.exports=function(p,m){return p!==void 0&&p.length?c.getTypeOf(p)!=="string"?(function(b,x,_,S){var y=u,E=S+_;b^=-1;for(var k=S;k<E;k++)b=b>>>8^y[255&(b^x[k])];return-1^b})(0|m,p,p.length,0):(function(b,x,_,S){var y=u,E=S+_;b^=-1;for(var k=S;k<E;k++)b=b>>>8^y[255&(b^x.charCodeAt(k))];return-1^b})(0|m,p,p.length,0):0}},{"./utils":32}],5:[function(s,a,o){o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(s,a,o){var c=null;c=typeof Promise<"u"?Promise:s("lie"),a.exports={Promise:c}},{lie:37}],7:[function(s,a,o){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",u=s("pako"),p=s("./utils"),m=s("./stream/GenericWorker"),b=c?"uint8array":"array";function x(_,S){m.call(this,"FlateWorker/"+_),this._pako=null,this._pakoAction=_,this._pakoOptions=S,this.meta={}}o.magic="\b\0",p.inherits(x,m),x.prototype.processChunk=function(_){this.meta=_.meta,this._pako===null&&this._createPako(),this._pako.push(p.transformTo(b,_.data),!1)},x.prototype.flush=function(){m.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},x.prototype.cleanUp=function(){m.prototype.cleanUp.call(this),this._pako=null},x.prototype._createPako=function(){this._pako=new u[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var _=this;this._pako.onData=function(S){_.push({data:S,meta:_.meta})}},o.compressWorker=function(_){return new x("Deflate",_)},o.uncompressWorker=function(){return new x("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(s,a,o){function c(y,E){var k,N="";for(k=0;k<E;k++)N+=String.fromCharCode(255&y),y>>>=8;return N}function u(y,E,k,N,C,L){var P,V,q=y.file,G=y.compression,O=L!==b.utf8encode,j=p.transformTo("string",L(q.name)),I=p.transformTo("string",b.utf8encode(q.name)),$=q.comment,H=p.transformTo("string",L($)),R=p.transformTo("string",b.utf8encode($)),U=I.length!==q.name.length,D=R.length!==$.length,me="",te="",Q="",ve=q.dir,ie=q.date,se={crc32:0,compressedSize:0,uncompressedSize:0};E&&!k||(se.crc32=y.crc32,se.compressedSize=y.compressedSize,se.uncompressedSize=y.uncompressedSize);var X=0;E&&(X|=8),O||!U&&!D||(X|=2048);var K=0,ee=0;ve&&(K|=16),C==="UNIX"?(ee=798,K|=(function(re,we){var Re=re;return re||(Re=we?16893:33204),(65535&Re)<<16})(q.unixPermissions,ve)):(ee=20,K|=(function(re){return 63&(re||0)})(q.dosPermissions)),P=ie.getUTCHours(),P<<=6,P|=ie.getUTCMinutes(),P<<=5,P|=ie.getUTCSeconds()/2,V=ie.getUTCFullYear()-1980,V<<=4,V|=ie.getUTCMonth()+1,V<<=5,V|=ie.getUTCDate(),U&&(te=c(1,1)+c(x(j),4)+I,me+="up"+c(te.length,2)+te),D&&(Q=c(1,1)+c(x(H),4)+R,me+="uc"+c(Q.length,2)+Q);var Z="";return Z+=`
\0`,Z+=c(X,2),Z+=G.magic,Z+=c(P,2),Z+=c(V,2),Z+=c(se.crc32,4),Z+=c(se.compressedSize,4),Z+=c(se.uncompressedSize,4),Z+=c(j.length,2),Z+=c(me.length,2),{fileRecord:_.LOCAL_FILE_HEADER+Z+j+me,dirRecord:_.CENTRAL_FILE_HEADER+c(ee,2)+Z+c(H.length,2)+"\0\0\0\0"+c(K,4)+c(N,4)+j+me+H}}var p=s("../utils"),m=s("../stream/GenericWorker"),b=s("../utf8"),x=s("../crc32"),_=s("../signature");function S(y,E,k,N){m.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=E,this.zipPlatform=k,this.encodeFileName=N,this.streamFiles=y,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}p.inherits(S,m),S.prototype.push=function(y){var E=y.meta.percent||0,k=this.entriesCount,N=this._sources.length;this.accumulate?this.contentBuffer.push(y):(this.bytesWritten+=y.data.length,m.prototype.push.call(this,{data:y.data,meta:{currentFile:this.currentFile,percent:k?(E+100*(k-N-1))/k:100}}))},S.prototype.openedSource=function(y){this.currentSourceOffset=this.bytesWritten,this.currentFile=y.file.name;var E=this.streamFiles&&!y.file.dir;if(E){var k=u(y,E,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:k.fileRecord,meta:{percent:0}})}else this.accumulate=!0},S.prototype.closedSource=function(y){this.accumulate=!1;var E=this.streamFiles&&!y.file.dir,k=u(y,E,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(k.dirRecord),E)this.push({data:(function(N){return _.DATA_DESCRIPTOR+c(N.crc32,4)+c(N.compressedSize,4)+c(N.uncompressedSize,4)})(y),meta:{percent:100}});else for(this.push({data:k.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},S.prototype.flush=function(){for(var y=this.bytesWritten,E=0;E<this.dirRecords.length;E++)this.push({data:this.dirRecords[E],meta:{percent:100}});var k=this.bytesWritten-y,N=(function(C,L,P,V,q){var G=p.transformTo("string",q(V));return _.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(C,2)+c(C,2)+c(L,4)+c(P,4)+c(G.length,2)+G})(this.dirRecords.length,k,y,this.zipComment,this.encodeFileName);this.push({data:N,meta:{percent:100}})},S.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},S.prototype.registerPrevious=function(y){this._sources.push(y);var E=this;return y.on("data",function(k){E.processChunk(k)}),y.on("end",function(){E.closedSource(E.previous.streamInfo),E._sources.length?E.prepareNextSource():E.end()}),y.on("error",function(k){E.error(k)}),this},S.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},S.prototype.error=function(y){var E=this._sources;if(!m.prototype.error.call(this,y))return!1;for(var k=0;k<E.length;k++)try{E[k].error(y)}catch{}return!0},S.prototype.lock=function(){m.prototype.lock.call(this);for(var y=this._sources,E=0;E<y.length;E++)y[E].lock()},a.exports=S},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(s,a,o){var c=s("../compressions"),u=s("./ZipFileWorker");o.generateWorker=function(p,m,b){var x=new u(m.streamFiles,b,m.platform,m.encodeFileName),_=0;try{p.forEach(function(S,y){_++;var E=(function(L,P){var V=L||P,q=c[V];if(!q)throw new Error(V+" is not a valid compression method !");return q})(y.options.compression,m.compression),k=y.options.compressionOptions||m.compressionOptions||{},N=y.dir,C=y.date;y._compressWorker(E,k).withStreamInfo("file",{name:S,dir:N,date:C,comment:y.comment||"",unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions}).pipe(x)}),x.entriesCount=_}catch(S){x.error(S)}return x}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(s,a,o){function c(){if(!(this instanceof c))return new c;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var u=new c;for(var p in this)typeof this[p]!="function"&&(u[p]=this[p]);return u}}(c.prototype=s("./object")).loadAsync=s("./load"),c.support=s("./support"),c.defaults=s("./defaults"),c.version="3.10.1",c.loadAsync=function(u,p){return new c().loadAsync(u,p)},c.external=s("./external"),a.exports=c},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(s,a,o){var c=s("./utils"),u=s("./external"),p=s("./utf8"),m=s("./zipEntries"),b=s("./stream/Crc32Probe"),x=s("./nodejsUtils");function _(S){return new u.Promise(function(y,E){var k=S.decompressed.getContentWorker().pipe(new b);k.on("error",function(N){E(N)}).on("end",function(){k.streamInfo.crc32!==S.decompressed.crc32?E(new Error("Corrupted zip : CRC32 mismatch")):y()}).resume()})}a.exports=function(S,y){var E=this;return y=c.extend(y||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:p.utf8decode}),x.isNode&&x.isStream(S)?u.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):c.prepareContent("the loaded zip file",S,!0,y.optimizedBinaryString,y.base64).then(function(k){var N=new m(y);return N.load(k),N}).then(function(k){var N=[u.Promise.resolve(k)],C=k.files;if(y.checkCRC32)for(var L=0;L<C.length;L++)N.push(_(C[L]));return u.Promise.all(N)}).then(function(k){for(var N=k.shift(),C=N.files,L=0;L<C.length;L++){var P=C[L],V=P.fileNameStr,q=c.resolve(P.fileNameStr);E.file(q,P.decompressed,{binary:!0,optimizedBinaryString:!0,date:P.date,dir:P.dir,comment:P.fileCommentStr.length?P.fileCommentStr:null,unixPermissions:P.unixPermissions,dosPermissions:P.dosPermissions,createFolders:y.createFolders}),P.dir||(E.file(q).unsafeOriginalName=V)}return N.zipComment.length&&(E.comment=N.zipComment),E})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(s,a,o){var c=s("../utils"),u=s("../stream/GenericWorker");function p(m,b){u.call(this,"Nodejs stream input adapter for "+m),this._upstreamEnded=!1,this._bindStream(b)}c.inherits(p,u),p.prototype._bindStream=function(m){var b=this;(this._stream=m).pause(),m.on("data",function(x){b.push({data:x,meta:{percent:0}})}).on("error",function(x){b.isPaused?this.generatedError=x:b.error(x)}).on("end",function(){b.isPaused?b._upstreamEnded=!0:b.end()})},p.prototype.pause=function(){return!!u.prototype.pause.call(this)&&(this._stream.pause(),!0)},p.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},a.exports=p},{"../stream/GenericWorker":28,"../utils":32}],13:[function(s,a,o){var c=s("readable-stream").Readable;function u(p,m,b){c.call(this,m),this._helper=p;var x=this;p.on("data",function(_,S){x.push(_)||x._helper.pause(),b&&b(S)}).on("error",function(_){x.emit("error",_)}).on("end",function(){x.push(null)})}s("../utils").inherits(u,c),u.prototype._read=function(){this._helper.resume()},a.exports=u},{"../utils":32,"readable-stream":16}],14:[function(s,a,o){a.exports={isNode:typeof Buffer<"u",newBufferFrom:function(c,u){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(c,u);if(typeof c=="number")throw new Error('The "data" argument must not be a number');return new Buffer(c,u)},allocBuffer:function(c){if(Buffer.alloc)return Buffer.alloc(c);var u=new Buffer(c);return u.fill(0),u},isBuffer:function(c){return Buffer.isBuffer(c)},isStream:function(c){return c&&typeof c.on=="function"&&typeof c.pause=="function"&&typeof c.resume=="function"}}},{}],15:[function(s,a,o){function c(q,G,O){var j,I=p.getTypeOf(G),$=p.extend(O||{},x);$.date=$.date||new Date,$.compression!==null&&($.compression=$.compression.toUpperCase()),typeof $.unixPermissions=="string"&&($.unixPermissions=parseInt($.unixPermissions,8)),$.unixPermissions&&16384&$.unixPermissions&&($.dir=!0),$.dosPermissions&&16&$.dosPermissions&&($.dir=!0),$.dir&&(q=C(q)),$.createFolders&&(j=N(q))&&L.call(this,j,!0);var H=I==="string"&&$.binary===!1&&$.base64===!1;O&&O.binary!==void 0||($.binary=!H),(G instanceof _&&G.uncompressedSize===0||$.dir||!G||G.length===0)&&($.base64=!1,$.binary=!0,G="",$.compression="STORE",I="string");var R=null;R=G instanceof _||G instanceof m?G:E.isNode&&E.isStream(G)?new k(q,G):p.prepareContent(q,G,$.binary,$.optimizedBinaryString,$.base64);var U=new S(q,R,$);this.files[q]=U}var u=s("./utf8"),p=s("./utils"),m=s("./stream/GenericWorker"),b=s("./stream/StreamHelper"),x=s("./defaults"),_=s("./compressedObject"),S=s("./zipObject"),y=s("./generate"),E=s("./nodejsUtils"),k=s("./nodejs/NodejsStreamInputAdapter"),N=function(q){q.slice(-1)==="/"&&(q=q.substring(0,q.length-1));var G=q.lastIndexOf("/");return 0<G?q.substring(0,G):""},C=function(q){return q.slice(-1)!=="/"&&(q+="/"),q},L=function(q,G){return G=G!==void 0?G:x.createFolders,q=C(q),this.files[q]||c.call(this,q,null,{dir:!0,createFolders:G}),this.files[q]};function P(q){return Object.prototype.toString.call(q)==="[object RegExp]"}var V={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(q){var G,O,j;for(G in this.files)j=this.files[G],(O=G.slice(this.root.length,G.length))&&G.slice(0,this.root.length)===this.root&&q(O,j)},filter:function(q){var G=[];return this.forEach(function(O,j){q(O,j)&&G.push(j)}),G},file:function(q,G,O){if(arguments.length!==1)return q=this.root+q,c.call(this,q,G,O),this;if(P(q)){var j=q;return this.filter(function($,H){return!H.dir&&j.test($)})}var I=this.files[this.root+q];return I&&!I.dir?I:null},folder:function(q){if(!q)return this;if(P(q))return this.filter(function(I,$){return $.dir&&q.test(I)});var G=this.root+q,O=L.call(this,G),j=this.clone();return j.root=O.name,j},remove:function(q){q=this.root+q;var G=this.files[q];if(G||(q.slice(-1)!=="/"&&(q+="/"),G=this.files[q]),G&&!G.dir)delete this.files[q];else for(var O=this.filter(function(I,$){return $.name.slice(0,q.length)===q}),j=0;j<O.length;j++)delete this.files[O[j].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(q){var G,O={};try{if((O=p.extend(q||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:u.utf8encode})).type=O.type.toLowerCase(),O.compression=O.compression.toUpperCase(),O.type==="binarystring"&&(O.type="string"),!O.type)throw new Error("No output type specified.");p.checkSupport(O.type),O.platform!=="darwin"&&O.platform!=="freebsd"&&O.platform!=="linux"&&O.platform!=="sunos"||(O.platform="UNIX"),O.platform==="win32"&&(O.platform="DOS");var j=O.comment||this.comment||"";G=y.generateWorker(this,O,j)}catch(I){(G=new m("error")).error(I)}return new b(G,O.type||"string",O.mimeType)},generateAsync:function(q,G){return this.generateInternalStream(q).accumulate(G)},generateNodeStream:function(q,G){return(q=q||{}).type||(q.type="nodebuffer"),this.generateInternalStream(q).toNodejsStream(G)}};a.exports=V},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(s,a,o){a.exports=s("stream")},{stream:void 0}],17:[function(s,a,o){var c=s("./DataReader");function u(p){c.call(this,p);for(var m=0;m<this.data.length;m++)p[m]=255&p[m]}s("../utils").inherits(u,c),u.prototype.byteAt=function(p){return this.data[this.zero+p]},u.prototype.lastIndexOfSignature=function(p){for(var m=p.charCodeAt(0),b=p.charCodeAt(1),x=p.charCodeAt(2),_=p.charCodeAt(3),S=this.length-4;0<=S;--S)if(this.data[S]===m&&this.data[S+1]===b&&this.data[S+2]===x&&this.data[S+3]===_)return S-this.zero;return-1},u.prototype.readAndCheckSignature=function(p){var m=p.charCodeAt(0),b=p.charCodeAt(1),x=p.charCodeAt(2),_=p.charCodeAt(3),S=this.readData(4);return m===S[0]&&b===S[1]&&x===S[2]&&_===S[3]},u.prototype.readData=function(p){if(this.checkOffset(p),p===0)return[];var m=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,m},a.exports=u},{"../utils":32,"./DataReader":18}],18:[function(s,a,o){var c=s("../utils");function u(p){this.data=p,this.length=p.length,this.index=0,this.zero=0}u.prototype={checkOffset:function(p){this.checkIndex(this.index+p)},checkIndex:function(p){if(this.length<this.zero+p||p<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+p+"). Corrupted zip ?")},setIndex:function(p){this.checkIndex(p),this.index=p},skip:function(p){this.setIndex(this.index+p)},byteAt:function(){},readInt:function(p){var m,b=0;for(this.checkOffset(p),m=this.index+p-1;m>=this.index;m--)b=(b<<8)+this.byteAt(m);return this.index+=p,b},readString:function(p){return c.transformTo("string",this.readData(p))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var p=this.readInt(4);return new Date(Date.UTC(1980+(p>>25&127),(p>>21&15)-1,p>>16&31,p>>11&31,p>>5&63,(31&p)<<1))}},a.exports=u},{"../utils":32}],19:[function(s,a,o){var c=s("./Uint8ArrayReader");function u(p){c.call(this,p)}s("../utils").inherits(u,c),u.prototype.readData=function(p){this.checkOffset(p);var m=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,m},a.exports=u},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(s,a,o){var c=s("./DataReader");function u(p){c.call(this,p)}s("../utils").inherits(u,c),u.prototype.byteAt=function(p){return this.data.charCodeAt(this.zero+p)},u.prototype.lastIndexOfSignature=function(p){return this.data.lastIndexOf(p)-this.zero},u.prototype.readAndCheckSignature=function(p){return p===this.readData(4)},u.prototype.readData=function(p){this.checkOffset(p);var m=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,m},a.exports=u},{"../utils":32,"./DataReader":18}],21:[function(s,a,o){var c=s("./ArrayReader");function u(p){c.call(this,p)}s("../utils").inherits(u,c),u.prototype.readData=function(p){if(this.checkOffset(p),p===0)return new Uint8Array(0);var m=this.data.subarray(this.zero+this.index,this.zero+this.index+p);return this.index+=p,m},a.exports=u},{"../utils":32,"./ArrayReader":17}],22:[function(s,a,o){var c=s("../utils"),u=s("../support"),p=s("./ArrayReader"),m=s("./StringReader"),b=s("./NodeBufferReader"),x=s("./Uint8ArrayReader");a.exports=function(_){var S=c.getTypeOf(_);return c.checkSupport(S),S!=="string"||u.uint8array?S==="nodebuffer"?new b(_):u.uint8array?new x(c.transformTo("uint8array",_)):new p(c.transformTo("array",_)):new m(_)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(s,a,o){o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(s,a,o){var c=s("./GenericWorker"),u=s("../utils");function p(m){c.call(this,"ConvertWorker to "+m),this.destType=m}u.inherits(p,c),p.prototype.processChunk=function(m){this.push({data:u.transformTo(this.destType,m.data),meta:m.meta})},a.exports=p},{"../utils":32,"./GenericWorker":28}],25:[function(s,a,o){var c=s("./GenericWorker"),u=s("../crc32");function p(){c.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}s("../utils").inherits(p,c),p.prototype.processChunk=function(m){this.streamInfo.crc32=u(m.data,this.streamInfo.crc32||0),this.push(m)},a.exports=p},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(s,a,o){var c=s("../utils"),u=s("./GenericWorker");function p(m){u.call(this,"DataLengthProbe for "+m),this.propName=m,this.withStreamInfo(m,0)}c.inherits(p,u),p.prototype.processChunk=function(m){if(m){var b=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=b+m.data.length}u.prototype.processChunk.call(this,m)},a.exports=p},{"../utils":32,"./GenericWorker":28}],27:[function(s,a,o){var c=s("../utils"),u=s("./GenericWorker");function p(m){u.call(this,"DataWorker");var b=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,m.then(function(x){b.dataIsReady=!0,b.data=x,b.max=x&&x.length||0,b.type=c.getTypeOf(x),b.isPaused||b._tickAndRepeat()},function(x){b.error(x)})}c.inherits(p,u),p.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this.data=null},p.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,c.delay(this._tickAndRepeat,[],this)),!0)},p.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(c.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},p.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var m=null,b=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":m=this.data.substring(this.index,b);break;case"uint8array":m=this.data.subarray(this.index,b);break;case"array":case"nodebuffer":m=this.data.slice(this.index,b)}return this.index=b,this.push({data:m,meta:{percent:this.max?this.index/this.max*100:0}})},a.exports=p},{"../utils":32,"./GenericWorker":28}],28:[function(s,a,o){function c(u){this.name=u||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}c.prototype={push:function(u){this.emit("data",u)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(u){this.emit("error",u)}return!0},error:function(u){return!this.isFinished&&(this.isPaused?this.generatedError=u:(this.isFinished=!0,this.emit("error",u),this.previous&&this.previous.error(u),this.cleanUp()),!0)},on:function(u,p){return this._listeners[u].push(p),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(u,p){if(this._listeners[u])for(var m=0;m<this._listeners[u].length;m++)this._listeners[u][m].call(this,p)},pipe:function(u){return u.registerPrevious(this)},registerPrevious:function(u){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=u.streamInfo,this.mergeStreamInfo(),this.previous=u;var p=this;return u.on("data",function(m){p.processChunk(m)}),u.on("end",function(){p.end()}),u.on("error",function(m){p.error(m)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var u=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),u=!0),this.previous&&this.previous.resume(),!u},flush:function(){},processChunk:function(u){this.push(u)},withStreamInfo:function(u,p){return this.extraStreamInfo[u]=p,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var u in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,u)&&(this.streamInfo[u]=this.extraStreamInfo[u])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var u="Worker "+this.name;return this.previous?this.previous+" -> "+u:u}},a.exports=c},{}],29:[function(s,a,o){var c=s("../utils"),u=s("./ConvertWorker"),p=s("./GenericWorker"),m=s("../base64"),b=s("../support"),x=s("../external"),_=null;if(b.nodestream)try{_=s("../nodejs/NodejsStreamOutputAdapter")}catch{}function S(E,k){return new x.Promise(function(N,C){var L=[],P=E._internalType,V=E._outputType,q=E._mimeType;E.on("data",function(G,O){L.push(G),k&&k(O)}).on("error",function(G){L=[],C(G)}).on("end",function(){try{var G=(function(O,j,I){switch(O){case"blob":return c.newBlob(c.transformTo("arraybuffer",j),I);case"base64":return m.encode(j);default:return c.transformTo(O,j)}})(V,(function(O,j){var I,$=0,H=null,R=0;for(I=0;I<j.length;I++)R+=j[I].length;switch(O){case"string":return j.join("");case"array":return Array.prototype.concat.apply([],j);case"uint8array":for(H=new Uint8Array(R),I=0;I<j.length;I++)H.set(j[I],$),$+=j[I].length;return H;case"nodebuffer":return Buffer.concat(j);default:throw new Error("concat : unsupported type '"+O+"'")}})(P,L),q);N(G)}catch(O){C(O)}L=[]}).resume()})}function y(E,k,N){var C=k;switch(k){case"blob":case"arraybuffer":C="uint8array";break;case"base64":C="string"}try{this._internalType=C,this._outputType=k,this._mimeType=N,c.checkSupport(C),this._worker=E.pipe(new u(C)),E.lock()}catch(L){this._worker=new p("error"),this._worker.error(L)}}y.prototype={accumulate:function(E){return S(this,E)},on:function(E,k){var N=this;return E==="data"?this._worker.on(E,function(C){k.call(N,C.data,C.meta)}):this._worker.on(E,function(){c.delay(k,arguments,N)}),this},resume:function(){return c.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(E){if(c.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new _(this,{objectMode:this._outputType!=="nodebuffer"},E)}},a.exports=y},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(s,a,o){if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof Buffer<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var c=new ArrayBuffer(0);try{o.blob=new Blob([c],{type:"application/zip"}).size===0}catch{try{var u=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);u.append(c),o.blob=u.getBlob("application/zip").size===0}catch{o.blob=!1}}}try{o.nodestream=!!s("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(s,a,o){for(var c=s("./utils"),u=s("./support"),p=s("./nodejsUtils"),m=s("./stream/GenericWorker"),b=new Array(256),x=0;x<256;x++)b[x]=252<=x?6:248<=x?5:240<=x?4:224<=x?3:192<=x?2:1;b[254]=b[254]=1;function _(){m.call(this,"utf-8 decode"),this.leftOver=null}function S(){m.call(this,"utf-8 encode")}o.utf8encode=function(y){return u.nodebuffer?p.newBufferFrom(y,"utf-8"):(function(E){var k,N,C,L,P,V=E.length,q=0;for(L=0;L<V;L++)(64512&(N=E.charCodeAt(L)))==55296&&L+1<V&&(64512&(C=E.charCodeAt(L+1)))==56320&&(N=65536+(N-55296<<10)+(C-56320),L++),q+=N<128?1:N<2048?2:N<65536?3:4;for(k=u.uint8array?new Uint8Array(q):new Array(q),L=P=0;P<q;L++)(64512&(N=E.charCodeAt(L)))==55296&&L+1<V&&(64512&(C=E.charCodeAt(L+1)))==56320&&(N=65536+(N-55296<<10)+(C-56320),L++),N<128?k[P++]=N:(N<2048?k[P++]=192|N>>>6:(N<65536?k[P++]=224|N>>>12:(k[P++]=240|N>>>18,k[P++]=128|N>>>12&63),k[P++]=128|N>>>6&63),k[P++]=128|63&N);return k})(y)},o.utf8decode=function(y){return u.nodebuffer?c.transformTo("nodebuffer",y).toString("utf-8"):(function(E){var k,N,C,L,P=E.length,V=new Array(2*P);for(k=N=0;k<P;)if((C=E[k++])<128)V[N++]=C;else if(4<(L=b[C]))V[N++]=65533,k+=L-1;else{for(C&=L===2?31:L===3?15:7;1<L&&k<P;)C=C<<6|63&E[k++],L--;1<L?V[N++]=65533:C<65536?V[N++]=C:(C-=65536,V[N++]=55296|C>>10&1023,V[N++]=56320|1023&C)}return V.length!==N&&(V.subarray?V=V.subarray(0,N):V.length=N),c.applyFromCharCode(V)})(y=c.transformTo(u.uint8array?"uint8array":"array",y))},c.inherits(_,m),_.prototype.processChunk=function(y){var E=c.transformTo(u.uint8array?"uint8array":"array",y.data);if(this.leftOver&&this.leftOver.length){if(u.uint8array){var k=E;(E=new Uint8Array(k.length+this.leftOver.length)).set(this.leftOver,0),E.set(k,this.leftOver.length)}else E=this.leftOver.concat(E);this.leftOver=null}var N=(function(L,P){var V;for((P=P||L.length)>L.length&&(P=L.length),V=P-1;0<=V&&(192&L[V])==128;)V--;return V<0||V===0?P:V+b[L[V]]>P?V:P})(E),C=E;N!==E.length&&(u.uint8array?(C=E.subarray(0,N),this.leftOver=E.subarray(N,E.length)):(C=E.slice(0,N),this.leftOver=E.slice(N,E.length))),this.push({data:o.utf8decode(C),meta:y.meta})},_.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=_,c.inherits(S,m),S.prototype.processChunk=function(y){this.push({data:o.utf8encode(y.data),meta:y.meta})},o.Utf8EncodeWorker=S},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(s,a,o){var c=s("./support"),u=s("./base64"),p=s("./nodejsUtils"),m=s("./external");function b(k){return k}function x(k,N){for(var C=0;C<k.length;++C)N[C]=255&k.charCodeAt(C);return N}s("setimmediate"),o.newBlob=function(k,N){o.checkSupport("blob");try{return new Blob([k],{type:N})}catch{try{var C=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return C.append(k),C.getBlob(N)}catch{throw new Error("Bug : can't construct the Blob.")}}};var _={stringifyByChunk:function(k,N,C){var L=[],P=0,V=k.length;if(V<=C)return String.fromCharCode.apply(null,k);for(;P<V;)N==="array"||N==="nodebuffer"?L.push(String.fromCharCode.apply(null,k.slice(P,Math.min(P+C,V)))):L.push(String.fromCharCode.apply(null,k.subarray(P,Math.min(P+C,V)))),P+=C;return L.join("")},stringifyByChar:function(k){for(var N="",C=0;C<k.length;C++)N+=String.fromCharCode(k[C]);return N},applyCanBeUsed:{uint8array:(function(){try{return c.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return c.nodebuffer&&String.fromCharCode.apply(null,p.allocBuffer(1)).length===1}catch{return!1}})()}};function S(k){var N=65536,C=o.getTypeOf(k),L=!0;if(C==="uint8array"?L=_.applyCanBeUsed.uint8array:C==="nodebuffer"&&(L=_.applyCanBeUsed.nodebuffer),L)for(;1<N;)try{return _.stringifyByChunk(k,C,N)}catch{N=Math.floor(N/2)}return _.stringifyByChar(k)}function y(k,N){for(var C=0;C<k.length;C++)N[C]=k[C];return N}o.applyFromCharCode=S;var E={};E.string={string:b,array:function(k){return x(k,new Array(k.length))},arraybuffer:function(k){return E.string.uint8array(k).buffer},uint8array:function(k){return x(k,new Uint8Array(k.length))},nodebuffer:function(k){return x(k,p.allocBuffer(k.length))}},E.array={string:S,array:b,arraybuffer:function(k){return new Uint8Array(k).buffer},uint8array:function(k){return new Uint8Array(k)},nodebuffer:function(k){return p.newBufferFrom(k)}},E.arraybuffer={string:function(k){return S(new Uint8Array(k))},array:function(k){return y(new Uint8Array(k),new Array(k.byteLength))},arraybuffer:b,uint8array:function(k){return new Uint8Array(k)},nodebuffer:function(k){return p.newBufferFrom(new Uint8Array(k))}},E.uint8array={string:S,array:function(k){return y(k,new Array(k.length))},arraybuffer:function(k){return k.buffer},uint8array:b,nodebuffer:function(k){return p.newBufferFrom(k)}},E.nodebuffer={string:S,array:function(k){return y(k,new Array(k.length))},arraybuffer:function(k){return E.nodebuffer.uint8array(k).buffer},uint8array:function(k){return y(k,new Uint8Array(k.length))},nodebuffer:b},o.transformTo=function(k,N){if(N=N||"",!k)return N;o.checkSupport(k);var C=o.getTypeOf(N);return E[C][k](N)},o.resolve=function(k){for(var N=k.split("/"),C=[],L=0;L<N.length;L++){var P=N[L];P==="."||P===""&&L!==0&&L!==N.length-1||(P===".."?C.pop():C.push(P))}return C.join("/")},o.getTypeOf=function(k){return typeof k=="string"?"string":Object.prototype.toString.call(k)==="[object Array]"?"array":c.nodebuffer&&p.isBuffer(k)?"nodebuffer":c.uint8array&&k instanceof Uint8Array?"uint8array":c.arraybuffer&&k instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(k){if(!c[k.toLowerCase()])throw new Error(k+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(k){var N,C,L="";for(C=0;C<(k||"").length;C++)L+="\\x"+((N=k.charCodeAt(C))<16?"0":"")+N.toString(16).toUpperCase();return L},o.delay=function(k,N,C){setImmediate(function(){k.apply(C||null,N||[])})},o.inherits=function(k,N){function C(){}C.prototype=N.prototype,k.prototype=new C},o.extend=function(){var k,N,C={};for(k=0;k<arguments.length;k++)for(N in arguments[k])Object.prototype.hasOwnProperty.call(arguments[k],N)&&C[N]===void 0&&(C[N]=arguments[k][N]);return C},o.prepareContent=function(k,N,C,L,P){return m.Promise.resolve(N).then(function(V){return c.blob&&(V instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(V))!==-1)&&typeof FileReader<"u"?new m.Promise(function(q,G){var O=new FileReader;O.onload=function(j){q(j.target.result)},O.onerror=function(j){G(j.target.error)},O.readAsArrayBuffer(V)}):V}).then(function(V){var q=o.getTypeOf(V);return q?(q==="arraybuffer"?V=o.transformTo("uint8array",V):q==="string"&&(P?V=u.decode(V):C&&L!==!0&&(V=(function(G){return x(G,c.uint8array?new Uint8Array(G.length):new Array(G.length))})(V))),V):m.Promise.reject(new Error("Can't read the data of '"+k+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(s,a,o){var c=s("./reader/readerFor"),u=s("./utils"),p=s("./signature"),m=s("./zipEntry"),b=s("./support");function x(_){this.files=[],this.loadOptions=_}x.prototype={checkSignature:function(_){if(!this.reader.readAndCheckSignature(_)){this.reader.index-=4;var S=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+u.pretty(S)+", expected "+u.pretty(_)+")")}},isSignature:function(_,S){var y=this.reader.index;this.reader.setIndex(_);var E=this.reader.readString(4)===S;return this.reader.setIndex(y),E},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var _=this.reader.readData(this.zipCommentLength),S=b.uint8array?"uint8array":"array",y=u.transformTo(S,_);this.zipComment=this.loadOptions.decodeFileName(y)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var _,S,y,E=this.zip64EndOfCentralSize-44;0<E;)_=this.reader.readInt(2),S=this.reader.readInt(4),y=this.reader.readData(S),this.zip64ExtensibleData[_]={id:_,length:S,value:y}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var _,S;for(_=0;_<this.files.length;_++)S=this.files[_],this.reader.setIndex(S.localHeaderOffset),this.checkSignature(p.LOCAL_FILE_HEADER),S.readLocalPart(this.reader),S.handleUTF8(),S.processAttributes()},readCentralDir:function(){var _;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(p.CENTRAL_FILE_HEADER);)(_=new m({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(_);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var _=this.reader.lastIndexOfSignature(p.CENTRAL_DIRECTORY_END);if(_<0)throw this.isSignature(0,p.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(_);var S=_;if(this.checkSignature(p.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===u.MAX_VALUE_16BITS||this.diskWithCentralDirStart===u.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===u.MAX_VALUE_16BITS||this.centralDirRecords===u.MAX_VALUE_16BITS||this.centralDirSize===u.MAX_VALUE_32BITS||this.centralDirOffset===u.MAX_VALUE_32BITS){if(this.zip64=!0,(_=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(_),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,p.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var y=this.centralDirOffset+this.centralDirSize;this.zip64&&(y+=20,y+=12+this.zip64EndOfCentralSize);var E=S-y;if(0<E)this.isSignature(S,p.CENTRAL_FILE_HEADER)||(this.reader.zero=E);else if(E<0)throw new Error("Corrupted zip: missing "+Math.abs(E)+" bytes.")},prepareReader:function(_){this.reader=c(_)},load:function(_){this.prepareReader(_),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},a.exports=x},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(s,a,o){var c=s("./reader/readerFor"),u=s("./utils"),p=s("./compressedObject"),m=s("./crc32"),b=s("./utf8"),x=s("./compressions"),_=s("./support");function S(y,E){this.options=y,this.loadOptions=E}S.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(y){var E,k;if(y.skip(22),this.fileNameLength=y.readInt(2),k=y.readInt(2),this.fileName=y.readData(this.fileNameLength),y.skip(k),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((E=(function(N){for(var C in x)if(Object.prototype.hasOwnProperty.call(x,C)&&x[C].magic===N)return x[C];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+u.pretty(this.compressionMethod)+" unknown (inner file : "+u.transformTo("string",this.fileName)+")");this.decompressed=new p(this.compressedSize,this.uncompressedSize,this.crc32,E,y.readData(this.compressedSize))},readCentralPart:function(y){this.versionMadeBy=y.readInt(2),y.skip(2),this.bitFlag=y.readInt(2),this.compressionMethod=y.readString(2),this.date=y.readDate(),this.crc32=y.readInt(4),this.compressedSize=y.readInt(4),this.uncompressedSize=y.readInt(4);var E=y.readInt(2);if(this.extraFieldsLength=y.readInt(2),this.fileCommentLength=y.readInt(2),this.diskNumberStart=y.readInt(2),this.internalFileAttributes=y.readInt(2),this.externalFileAttributes=y.readInt(4),this.localHeaderOffset=y.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");y.skip(E),this.readExtraFields(y),this.parseZIP64ExtraField(y),this.fileComment=y.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var y=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),y==0&&(this.dosPermissions=63&this.externalFileAttributes),y==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var y=c(this.extraFields[1].value);this.uncompressedSize===u.MAX_VALUE_32BITS&&(this.uncompressedSize=y.readInt(8)),this.compressedSize===u.MAX_VALUE_32BITS&&(this.compressedSize=y.readInt(8)),this.localHeaderOffset===u.MAX_VALUE_32BITS&&(this.localHeaderOffset=y.readInt(8)),this.diskNumberStart===u.MAX_VALUE_32BITS&&(this.diskNumberStart=y.readInt(4))}},readExtraFields:function(y){var E,k,N,C=y.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});y.index+4<C;)E=y.readInt(2),k=y.readInt(2),N=y.readData(k),this.extraFields[E]={id:E,length:k,value:N};y.setIndex(C)},handleUTF8:function(){var y=_.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=b.utf8decode(this.fileName),this.fileCommentStr=b.utf8decode(this.fileComment);else{var E=this.findExtraFieldUnicodePath();if(E!==null)this.fileNameStr=E;else{var k=u.transformTo(y,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(k)}var N=this.findExtraFieldUnicodeComment();if(N!==null)this.fileCommentStr=N;else{var C=u.transformTo(y,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(C)}}},findExtraFieldUnicodePath:function(){var y=this.extraFields[28789];if(y){var E=c(y.value);return E.readInt(1)!==1||m(this.fileName)!==E.readInt(4)?null:b.utf8decode(E.readData(y.length-5))}return null},findExtraFieldUnicodeComment:function(){var y=this.extraFields[25461];if(y){var E=c(y.value);return E.readInt(1)!==1||m(this.fileComment)!==E.readInt(4)?null:b.utf8decode(E.readData(y.length-5))}return null}},a.exports=S},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(s,a,o){function c(E,k,N){this.name=E,this.dir=N.dir,this.date=N.date,this.comment=N.comment,this.unixPermissions=N.unixPermissions,this.dosPermissions=N.dosPermissions,this._data=k,this._dataBinary=N.binary,this.options={compression:N.compression,compressionOptions:N.compressionOptions}}var u=s("./stream/StreamHelper"),p=s("./stream/DataWorker"),m=s("./utf8"),b=s("./compressedObject"),x=s("./stream/GenericWorker");c.prototype={internalStream:function(E){var k=null,N="string";try{if(!E)throw new Error("No output type specified.");var C=(N=E.toLowerCase())==="string"||N==="text";N!=="binarystring"&&N!=="text"||(N="string"),k=this._decompressWorker();var L=!this._dataBinary;L&&!C&&(k=k.pipe(new m.Utf8EncodeWorker)),!L&&C&&(k=k.pipe(new m.Utf8DecodeWorker))}catch(P){(k=new x("error")).error(P)}return new u(k,N,"")},async:function(E,k){return this.internalStream(E).accumulate(k)},nodeStream:function(E,k){return this.internalStream(E||"nodebuffer").toNodejsStream(k)},_compressWorker:function(E,k){if(this._data instanceof b&&this._data.compression.magic===E.magic)return this._data.getCompressedWorker();var N=this._decompressWorker();return this._dataBinary||(N=N.pipe(new m.Utf8EncodeWorker)),b.createWorkerFrom(N,E,k)},_decompressWorker:function(){return this._data instanceof b?this._data.getContentWorker():this._data instanceof x?this._data:new p(this._data)}};for(var _=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],S=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},y=0;y<_.length;y++)c.prototype[_[y]]=S;a.exports=c},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(s,a,o){(function(c){var u,p,m=c.MutationObserver||c.WebKitMutationObserver;if(m){var b=0,x=new m(E),_=c.document.createTextNode("");x.observe(_,{characterData:!0}),u=function(){_.data=b=++b%2}}else if(c.setImmediate||c.MessageChannel===void 0)u="document"in c&&"onreadystatechange"in c.document.createElement("script")?function(){var k=c.document.createElement("script");k.onreadystatechange=function(){E(),k.onreadystatechange=null,k.parentNode.removeChild(k),k=null},c.document.documentElement.appendChild(k)}:function(){setTimeout(E,0)};else{var S=new c.MessageChannel;S.port1.onmessage=E,u=function(){S.port2.postMessage(0)}}var y=[];function E(){var k,N;p=!0;for(var C=y.length;C;){for(N=y,y=[],k=-1;++k<C;)N[k]();C=y.length}p=!1}a.exports=function(k){y.push(k)!==1||p||u()}}).call(this,typeof qu<"u"?qu:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(s,a,o){var c=s("immediate");function u(){}var p={},m=["REJECTED"],b=["FULFILLED"],x=["PENDING"];function _(C){if(typeof C!="function")throw new TypeError("resolver must be a function");this.state=x,this.queue=[],this.outcome=void 0,C!==u&&k(this,C)}function S(C,L,P){this.promise=C,typeof L=="function"&&(this.onFulfilled=L,this.callFulfilled=this.otherCallFulfilled),typeof P=="function"&&(this.onRejected=P,this.callRejected=this.otherCallRejected)}function y(C,L,P){c(function(){var V;try{V=L(P)}catch(q){return p.reject(C,q)}V===C?p.reject(C,new TypeError("Cannot resolve promise with itself")):p.resolve(C,V)})}function E(C){var L=C&&C.then;if(C&&(typeof C=="object"||typeof C=="function")&&typeof L=="function")return function(){L.apply(C,arguments)}}function k(C,L){var P=!1;function V(O){P||(P=!0,p.reject(C,O))}function q(O){P||(P=!0,p.resolve(C,O))}var G=N(function(){L(q,V)});G.status==="error"&&V(G.value)}function N(C,L){var P={};try{P.value=C(L),P.status="success"}catch(V){P.status="error",P.value=V}return P}(a.exports=_).prototype.finally=function(C){if(typeof C!="function")return this;var L=this.constructor;return this.then(function(P){return L.resolve(C()).then(function(){return P})},function(P){return L.resolve(C()).then(function(){throw P})})},_.prototype.catch=function(C){return this.then(null,C)},_.prototype.then=function(C,L){if(typeof C!="function"&&this.state===b||typeof L!="function"&&this.state===m)return this;var P=new this.constructor(u);return this.state!==x?y(P,this.state===b?C:L,this.outcome):this.queue.push(new S(P,C,L)),P},S.prototype.callFulfilled=function(C){p.resolve(this.promise,C)},S.prototype.otherCallFulfilled=function(C){y(this.promise,this.onFulfilled,C)},S.prototype.callRejected=function(C){p.reject(this.promise,C)},S.prototype.otherCallRejected=function(C){y(this.promise,this.onRejected,C)},p.resolve=function(C,L){var P=N(E,L);if(P.status==="error")return p.reject(C,P.value);var V=P.value;if(V)k(C,V);else{C.state=b,C.outcome=L;for(var q=-1,G=C.queue.length;++q<G;)C.queue[q].callFulfilled(L)}return C},p.reject=function(C,L){C.state=m,C.outcome=L;for(var P=-1,V=C.queue.length;++P<V;)C.queue[P].callRejected(L);return C},_.resolve=function(C){return C instanceof this?C:p.resolve(new this(u),C)},_.reject=function(C){var L=new this(u);return p.reject(L,C)},_.all=function(C){var L=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=C.length,V=!1;if(!P)return this.resolve([]);for(var q=new Array(P),G=0,O=-1,j=new this(u);++O<P;)I(C[O],O);return j;function I($,H){L.resolve($).then(function(R){q[H]=R,++G!==P||V||(V=!0,p.resolve(j,q))},function(R){V||(V=!0,p.reject(j,R))})}},_.race=function(C){var L=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=C.length,V=!1;if(!P)return this.resolve([]);for(var q=-1,G=new this(u);++q<P;)O=C[q],L.resolve(O).then(function(j){V||(V=!0,p.resolve(G,j))},function(j){V||(V=!0,p.reject(G,j))});var O;return G}},{immediate:36}],38:[function(s,a,o){var c={};(0,s("./lib/utils/common").assign)(c,s("./lib/deflate"),s("./lib/inflate"),s("./lib/zlib/constants")),a.exports=c},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(s,a,o){var c=s("./zlib/deflate"),u=s("./utils/common"),p=s("./utils/strings"),m=s("./zlib/messages"),b=s("./zlib/zstream"),x=Object.prototype.toString,_=0,S=-1,y=0,E=8;function k(C){if(!(this instanceof k))return new k(C);this.options=u.assign({level:S,method:E,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},C||{});var L=this.options;L.raw&&0<L.windowBits?L.windowBits=-L.windowBits:L.gzip&&0<L.windowBits&&L.windowBits<16&&(L.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new b,this.strm.avail_out=0;var P=c.deflateInit2(this.strm,L.level,L.method,L.windowBits,L.memLevel,L.strategy);if(P!==_)throw new Error(m[P]);if(L.header&&c.deflateSetHeader(this.strm,L.header),L.dictionary){var V;if(V=typeof L.dictionary=="string"?p.string2buf(L.dictionary):x.call(L.dictionary)==="[object ArrayBuffer]"?new Uint8Array(L.dictionary):L.dictionary,(P=c.deflateSetDictionary(this.strm,V))!==_)throw new Error(m[P]);this._dict_set=!0}}function N(C,L){var P=new k(L);if(P.push(C,!0),P.err)throw P.msg||m[P.err];return P.result}k.prototype.push=function(C,L){var P,V,q=this.strm,G=this.options.chunkSize;if(this.ended)return!1;V=L===~~L?L:L===!0?4:0,typeof C=="string"?q.input=p.string2buf(C):x.call(C)==="[object ArrayBuffer]"?q.input=new Uint8Array(C):q.input=C,q.next_in=0,q.avail_in=q.input.length;do{if(q.avail_out===0&&(q.output=new u.Buf8(G),q.next_out=0,q.avail_out=G),(P=c.deflate(q,V))!==1&&P!==_)return this.onEnd(P),!(this.ended=!0);q.avail_out!==0&&(q.avail_in!==0||V!==4&&V!==2)||(this.options.to==="string"?this.onData(p.buf2binstring(u.shrinkBuf(q.output,q.next_out))):this.onData(u.shrinkBuf(q.output,q.next_out)))}while((0<q.avail_in||q.avail_out===0)&&P!==1);return V===4?(P=c.deflateEnd(this.strm),this.onEnd(P),this.ended=!0,P===_):V!==2||(this.onEnd(_),!(q.avail_out=0))},k.prototype.onData=function(C){this.chunks.push(C)},k.prototype.onEnd=function(C){C===_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg},o.Deflate=k,o.deflate=N,o.deflateRaw=function(C,L){return(L=L||{}).raw=!0,N(C,L)},o.gzip=function(C,L){return(L=L||{}).gzip=!0,N(C,L)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(s,a,o){var c=s("./zlib/inflate"),u=s("./utils/common"),p=s("./utils/strings"),m=s("./zlib/constants"),b=s("./zlib/messages"),x=s("./zlib/zstream"),_=s("./zlib/gzheader"),S=Object.prototype.toString;function y(k){if(!(this instanceof y))return new y(k);this.options=u.assign({chunkSize:16384,windowBits:0,to:""},k||{});var N=this.options;N.raw&&0<=N.windowBits&&N.windowBits<16&&(N.windowBits=-N.windowBits,N.windowBits===0&&(N.windowBits=-15)),!(0<=N.windowBits&&N.windowBits<16)||k&&k.windowBits||(N.windowBits+=32),15<N.windowBits&&N.windowBits<48&&(15&N.windowBits)==0&&(N.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new x,this.strm.avail_out=0;var C=c.inflateInit2(this.strm,N.windowBits);if(C!==m.Z_OK)throw new Error(b[C]);this.header=new _,c.inflateGetHeader(this.strm,this.header)}function E(k,N){var C=new y(N);if(C.push(k,!0),C.err)throw C.msg||b[C.err];return C.result}y.prototype.push=function(k,N){var C,L,P,V,q,G,O=this.strm,j=this.options.chunkSize,I=this.options.dictionary,$=!1;if(this.ended)return!1;L=N===~~N?N:N===!0?m.Z_FINISH:m.Z_NO_FLUSH,typeof k=="string"?O.input=p.binstring2buf(k):S.call(k)==="[object ArrayBuffer]"?O.input=new Uint8Array(k):O.input=k,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new u.Buf8(j),O.next_out=0,O.avail_out=j),(C=c.inflate(O,m.Z_NO_FLUSH))===m.Z_NEED_DICT&&I&&(G=typeof I=="string"?p.string2buf(I):S.call(I)==="[object ArrayBuffer]"?new Uint8Array(I):I,C=c.inflateSetDictionary(this.strm,G)),C===m.Z_BUF_ERROR&&$===!0&&(C=m.Z_OK,$=!1),C!==m.Z_STREAM_END&&C!==m.Z_OK)return this.onEnd(C),!(this.ended=!0);O.next_out&&(O.avail_out!==0&&C!==m.Z_STREAM_END&&(O.avail_in!==0||L!==m.Z_FINISH&&L!==m.Z_SYNC_FLUSH)||(this.options.to==="string"?(P=p.utf8border(O.output,O.next_out),V=O.next_out-P,q=p.buf2string(O.output,P),O.next_out=V,O.avail_out=j-V,V&&u.arraySet(O.output,O.output,P,V,0),this.onData(q)):this.onData(u.shrinkBuf(O.output,O.next_out)))),O.avail_in===0&&O.avail_out===0&&($=!0)}while((0<O.avail_in||O.avail_out===0)&&C!==m.Z_STREAM_END);return C===m.Z_STREAM_END&&(L=m.Z_FINISH),L===m.Z_FINISH?(C=c.inflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===m.Z_OK):L!==m.Z_SYNC_FLUSH||(this.onEnd(m.Z_OK),!(O.avail_out=0))},y.prototype.onData=function(k){this.chunks.push(k)},y.prototype.onEnd=function(k){k===m.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=k,this.msg=this.strm.msg},o.Inflate=y,o.inflate=E,o.inflateRaw=function(k,N){return(N=N||{}).raw=!0,E(k,N)},o.ungzip=E},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(s,a,o){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(m){for(var b=Array.prototype.slice.call(arguments,1);b.length;){var x=b.shift();if(x){if(typeof x!="object")throw new TypeError(x+"must be non-object");for(var _ in x)x.hasOwnProperty(_)&&(m[_]=x[_])}}return m},o.shrinkBuf=function(m,b){return m.length===b?m:m.subarray?m.subarray(0,b):(m.length=b,m)};var u={arraySet:function(m,b,x,_,S){if(b.subarray&&m.subarray)m.set(b.subarray(x,x+_),S);else for(var y=0;y<_;y++)m[S+y]=b[x+y]},flattenChunks:function(m){var b,x,_,S,y,E;for(b=_=0,x=m.length;b<x;b++)_+=m[b].length;for(E=new Uint8Array(_),b=S=0,x=m.length;b<x;b++)y=m[b],E.set(y,S),S+=y.length;return E}},p={arraySet:function(m,b,x,_,S){for(var y=0;y<_;y++)m[S+y]=b[x+y]},flattenChunks:function(m){return[].concat.apply([],m)}};o.setTyped=function(m){m?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,u)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,p))},o.setTyped(c)},{}],42:[function(s,a,o){var c=s("./common"),u=!0,p=!0;try{String.fromCharCode.apply(null,[0])}catch{u=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{p=!1}for(var m=new c.Buf8(256),b=0;b<256;b++)m[b]=252<=b?6:248<=b?5:240<=b?4:224<=b?3:192<=b?2:1;function x(_,S){if(S<65537&&(_.subarray&&p||!_.subarray&&u))return String.fromCharCode.apply(null,c.shrinkBuf(_,S));for(var y="",E=0;E<S;E++)y+=String.fromCharCode(_[E]);return y}m[254]=m[254]=1,o.string2buf=function(_){var S,y,E,k,N,C=_.length,L=0;for(k=0;k<C;k++)(64512&(y=_.charCodeAt(k)))==55296&&k+1<C&&(64512&(E=_.charCodeAt(k+1)))==56320&&(y=65536+(y-55296<<10)+(E-56320),k++),L+=y<128?1:y<2048?2:y<65536?3:4;for(S=new c.Buf8(L),k=N=0;N<L;k++)(64512&(y=_.charCodeAt(k)))==55296&&k+1<C&&(64512&(E=_.charCodeAt(k+1)))==56320&&(y=65536+(y-55296<<10)+(E-56320),k++),y<128?S[N++]=y:(y<2048?S[N++]=192|y>>>6:(y<65536?S[N++]=224|y>>>12:(S[N++]=240|y>>>18,S[N++]=128|y>>>12&63),S[N++]=128|y>>>6&63),S[N++]=128|63&y);return S},o.buf2binstring=function(_){return x(_,_.length)},o.binstring2buf=function(_){for(var S=new c.Buf8(_.length),y=0,E=S.length;y<E;y++)S[y]=_.charCodeAt(y);return S},o.buf2string=function(_,S){var y,E,k,N,C=S||_.length,L=new Array(2*C);for(y=E=0;y<C;)if((k=_[y++])<128)L[E++]=k;else if(4<(N=m[k]))L[E++]=65533,y+=N-1;else{for(k&=N===2?31:N===3?15:7;1<N&&y<C;)k=k<<6|63&_[y++],N--;1<N?L[E++]=65533:k<65536?L[E++]=k:(k-=65536,L[E++]=55296|k>>10&1023,L[E++]=56320|1023&k)}return x(L,E)},o.utf8border=function(_,S){var y;for((S=S||_.length)>_.length&&(S=_.length),y=S-1;0<=y&&(192&_[y])==128;)y--;return y<0||y===0?S:y+m[_[y]]>S?y:S}},{"./common":41}],43:[function(s,a,o){a.exports=function(c,u,p,m){for(var b=65535&c|0,x=c>>>16&65535|0,_=0;p!==0;){for(p-=_=2e3<p?2e3:p;x=x+(b=b+u[m++]|0)|0,--_;);b%=65521,x%=65521}return b|x<<16|0}},{}],44:[function(s,a,o){a.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(s,a,o){var c=(function(){for(var u,p=[],m=0;m<256;m++){u=m;for(var b=0;b<8;b++)u=1&u?3988292384^u>>>1:u>>>1;p[m]=u}return p})();a.exports=function(u,p,m,b){var x=c,_=b+m;u^=-1;for(var S=b;S<_;S++)u=u>>>8^x[255&(u^p[S])];return-1^u}},{}],46:[function(s,a,o){var c,u=s("../utils/common"),p=s("./trees"),m=s("./adler32"),b=s("./crc32"),x=s("./messages"),_=0,S=4,y=0,E=-2,k=-1,N=4,C=2,L=8,P=9,V=286,q=30,G=19,O=2*V+1,j=15,I=3,$=258,H=$+I+1,R=42,U=113,D=1,me=2,te=3,Q=4;function ve(A,ye){return A.msg=x[ye],ye}function ie(A){return(A<<1)-(4<A?9:0)}function se(A){for(var ye=A.length;0<=--ye;)A[ye]=0}function X(A){var ye=A.state,pe=ye.pending;pe>A.avail_out&&(pe=A.avail_out),pe!==0&&(u.arraySet(A.output,ye.pending_buf,ye.pending_out,pe,A.next_out),A.next_out+=pe,ye.pending_out+=pe,A.total_out+=pe,A.avail_out-=pe,ye.pending-=pe,ye.pending===0&&(ye.pending_out=0))}function K(A,ye){p._tr_flush_block(A,0<=A.block_start?A.block_start:-1,A.strstart-A.block_start,ye),A.block_start=A.strstart,X(A.strm)}function ee(A,ye){A.pending_buf[A.pending++]=ye}function Z(A,ye){A.pending_buf[A.pending++]=ye>>>8&255,A.pending_buf[A.pending++]=255&ye}function re(A,ye){var pe,M,B=A.max_chain_length,Y=A.strstart,de=A.prev_length,xe=A.nice_match,oe=A.strstart>A.w_size-H?A.strstart-(A.w_size-H):0,Te=A.window,Ne=A.w_mask,Ae=A.prev,Le=A.strstart+$,Ze=Te[Y+de-1],Ge=Te[Y+de];A.prev_length>=A.good_match&&(B>>=2),xe>A.lookahead&&(xe=A.lookahead);do if(Te[(pe=ye)+de]===Ge&&Te[pe+de-1]===Ze&&Te[pe]===Te[Y]&&Te[++pe]===Te[Y+1]){Y+=2,pe++;do;while(Te[++Y]===Te[++pe]&&Te[++Y]===Te[++pe]&&Te[++Y]===Te[++pe]&&Te[++Y]===Te[++pe]&&Te[++Y]===Te[++pe]&&Te[++Y]===Te[++pe]&&Te[++Y]===Te[++pe]&&Te[++Y]===Te[++pe]&&Y<Le);if(M=$-(Le-Y),Y=Le-$,de<M){if(A.match_start=ye,xe<=(de=M))break;Ze=Te[Y+de-1],Ge=Te[Y+de]}}while((ye=Ae[ye&Ne])>oe&&--B!=0);return de<=A.lookahead?de:A.lookahead}function we(A){var ye,pe,M,B,Y,de,xe,oe,Te,Ne,Ae=A.w_size;do{if(B=A.window_size-A.lookahead-A.strstart,A.strstart>=Ae+(Ae-H)){for(u.arraySet(A.window,A.window,Ae,Ae,0),A.match_start-=Ae,A.strstart-=Ae,A.block_start-=Ae,ye=pe=A.hash_size;M=A.head[--ye],A.head[ye]=Ae<=M?M-Ae:0,--pe;);for(ye=pe=Ae;M=A.prev[--ye],A.prev[ye]=Ae<=M?M-Ae:0,--pe;);B+=Ae}if(A.strm.avail_in===0)break;if(de=A.strm,xe=A.window,oe=A.strstart+A.lookahead,Te=B,Ne=void 0,Ne=de.avail_in,Te<Ne&&(Ne=Te),pe=Ne===0?0:(de.avail_in-=Ne,u.arraySet(xe,de.input,de.next_in,Ne,oe),de.state.wrap===1?de.adler=m(de.adler,xe,Ne,oe):de.state.wrap===2&&(de.adler=b(de.adler,xe,Ne,oe)),de.next_in+=Ne,de.total_in+=Ne,Ne),A.lookahead+=pe,A.lookahead+A.insert>=I)for(Y=A.strstart-A.insert,A.ins_h=A.window[Y],A.ins_h=(A.ins_h<<A.hash_shift^A.window[Y+1])&A.hash_mask;A.insert&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[Y+I-1])&A.hash_mask,A.prev[Y&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=Y,Y++,A.insert--,!(A.lookahead+A.insert<I)););}while(A.lookahead<H&&A.strm.avail_in!==0)}function Re(A,ye){for(var pe,M;;){if(A.lookahead<H){if(we(A),A.lookahead<H&&ye===_)return D;if(A.lookahead===0)break}if(pe=0,A.lookahead>=I&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+I-1])&A.hash_mask,pe=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),pe!==0&&A.strstart-pe<=A.w_size-H&&(A.match_length=re(A,pe)),A.match_length>=I)if(M=p._tr_tally(A,A.strstart-A.match_start,A.match_length-I),A.lookahead-=A.match_length,A.match_length<=A.max_lazy_match&&A.lookahead>=I){for(A.match_length--;A.strstart++,A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+I-1])&A.hash_mask,pe=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart,--A.match_length!=0;);A.strstart++}else A.strstart+=A.match_length,A.match_length=0,A.ins_h=A.window[A.strstart],A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+1])&A.hash_mask;else M=p._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++;if(M&&(K(A,!1),A.strm.avail_out===0))return D}return A.insert=A.strstart<I-1?A.strstart:I-1,ye===S?(K(A,!0),A.strm.avail_out===0?te:Q):A.last_lit&&(K(A,!1),A.strm.avail_out===0)?D:me}function Ee(A,ye){for(var pe,M,B;;){if(A.lookahead<H){if(we(A),A.lookahead<H&&ye===_)return D;if(A.lookahead===0)break}if(pe=0,A.lookahead>=I&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+I-1])&A.hash_mask,pe=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),A.prev_length=A.match_length,A.prev_match=A.match_start,A.match_length=I-1,pe!==0&&A.prev_length<A.max_lazy_match&&A.strstart-pe<=A.w_size-H&&(A.match_length=re(A,pe),A.match_length<=5&&(A.strategy===1||A.match_length===I&&4096<A.strstart-A.match_start)&&(A.match_length=I-1)),A.prev_length>=I&&A.match_length<=A.prev_length){for(B=A.strstart+A.lookahead-I,M=p._tr_tally(A,A.strstart-1-A.prev_match,A.prev_length-I),A.lookahead-=A.prev_length-1,A.prev_length-=2;++A.strstart<=B&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+I-1])&A.hash_mask,pe=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),--A.prev_length!=0;);if(A.match_available=0,A.match_length=I-1,A.strstart++,M&&(K(A,!1),A.strm.avail_out===0))return D}else if(A.match_available){if((M=p._tr_tally(A,0,A.window[A.strstart-1]))&&K(A,!1),A.strstart++,A.lookahead--,A.strm.avail_out===0)return D}else A.match_available=1,A.strstart++,A.lookahead--}return A.match_available&&(M=p._tr_tally(A,0,A.window[A.strstart-1]),A.match_available=0),A.insert=A.strstart<I-1?A.strstart:I-1,ye===S?(K(A,!0),A.strm.avail_out===0?te:Q):A.last_lit&&(K(A,!1),A.strm.avail_out===0)?D:me}function Pe(A,ye,pe,M,B){this.good_length=A,this.max_lazy=ye,this.nice_length=pe,this.max_chain=M,this.func=B}function De(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=L,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new u.Buf16(2*O),this.dyn_dtree=new u.Buf16(2*(2*q+1)),this.bl_tree=new u.Buf16(2*(2*G+1)),se(this.dyn_ltree),se(this.dyn_dtree),se(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new u.Buf16(j+1),this.heap=new u.Buf16(2*V+1),se(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new u.Buf16(2*V+1),se(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Fe(A){var ye;return A&&A.state?(A.total_in=A.total_out=0,A.data_type=C,(ye=A.state).pending=0,ye.pending_out=0,ye.wrap<0&&(ye.wrap=-ye.wrap),ye.status=ye.wrap?R:U,A.adler=ye.wrap===2?0:1,ye.last_flush=_,p._tr_init(ye),y):ve(A,E)}function gt(A){var ye=Fe(A);return ye===y&&(function(pe){pe.window_size=2*pe.w_size,se(pe.head),pe.max_lazy_match=c[pe.level].max_lazy,pe.good_match=c[pe.level].good_length,pe.nice_match=c[pe.level].nice_length,pe.max_chain_length=c[pe.level].max_chain,pe.strstart=0,pe.block_start=0,pe.lookahead=0,pe.insert=0,pe.match_length=pe.prev_length=I-1,pe.match_available=0,pe.ins_h=0})(A.state),ye}function Qe(A,ye,pe,M,B,Y){if(!A)return E;var de=1;if(ye===k&&(ye=6),M<0?(de=0,M=-M):15<M&&(de=2,M-=16),B<1||P<B||pe!==L||M<8||15<M||ye<0||9<ye||Y<0||N<Y)return ve(A,E);M===8&&(M=9);var xe=new De;return(A.state=xe).strm=A,xe.wrap=de,xe.gzhead=null,xe.w_bits=M,xe.w_size=1<<xe.w_bits,xe.w_mask=xe.w_size-1,xe.hash_bits=B+7,xe.hash_size=1<<xe.hash_bits,xe.hash_mask=xe.hash_size-1,xe.hash_shift=~~((xe.hash_bits+I-1)/I),xe.window=new u.Buf8(2*xe.w_size),xe.head=new u.Buf16(xe.hash_size),xe.prev=new u.Buf16(xe.w_size),xe.lit_bufsize=1<<B+6,xe.pending_buf_size=4*xe.lit_bufsize,xe.pending_buf=new u.Buf8(xe.pending_buf_size),xe.d_buf=1*xe.lit_bufsize,xe.l_buf=3*xe.lit_bufsize,xe.level=ye,xe.strategy=Y,xe.method=pe,gt(A)}c=[new Pe(0,0,0,0,function(A,ye){var pe=65535;for(pe>A.pending_buf_size-5&&(pe=A.pending_buf_size-5);;){if(A.lookahead<=1){if(we(A),A.lookahead===0&&ye===_)return D;if(A.lookahead===0)break}A.strstart+=A.lookahead,A.lookahead=0;var M=A.block_start+pe;if((A.strstart===0||A.strstart>=M)&&(A.lookahead=A.strstart-M,A.strstart=M,K(A,!1),A.strm.avail_out===0)||A.strstart-A.block_start>=A.w_size-H&&(K(A,!1),A.strm.avail_out===0))return D}return A.insert=0,ye===S?(K(A,!0),A.strm.avail_out===0?te:Q):(A.strstart>A.block_start&&(K(A,!1),A.strm.avail_out),D)}),new Pe(4,4,8,4,Re),new Pe(4,5,16,8,Re),new Pe(4,6,32,32,Re),new Pe(4,4,16,16,Ee),new Pe(8,16,32,32,Ee),new Pe(8,16,128,128,Ee),new Pe(8,32,128,256,Ee),new Pe(32,128,258,1024,Ee),new Pe(32,258,258,4096,Ee)],o.deflateInit=function(A,ye){return Qe(A,ye,L,15,8,0)},o.deflateInit2=Qe,o.deflateReset=gt,o.deflateResetKeep=Fe,o.deflateSetHeader=function(A,ye){return A&&A.state?A.state.wrap!==2?E:(A.state.gzhead=ye,y):E},o.deflate=function(A,ye){var pe,M,B,Y;if(!A||!A.state||5<ye||ye<0)return A?ve(A,E):E;if(M=A.state,!A.output||!A.input&&A.avail_in!==0||M.status===666&&ye!==S)return ve(A,A.avail_out===0?-5:E);if(M.strm=A,pe=M.last_flush,M.last_flush=ye,M.status===R)if(M.wrap===2)A.adler=0,ee(M,31),ee(M,139),ee(M,8),M.gzhead?(ee(M,(M.gzhead.text?1:0)+(M.gzhead.hcrc?2:0)+(M.gzhead.extra?4:0)+(M.gzhead.name?8:0)+(M.gzhead.comment?16:0)),ee(M,255&M.gzhead.time),ee(M,M.gzhead.time>>8&255),ee(M,M.gzhead.time>>16&255),ee(M,M.gzhead.time>>24&255),ee(M,M.level===9?2:2<=M.strategy||M.level<2?4:0),ee(M,255&M.gzhead.os),M.gzhead.extra&&M.gzhead.extra.length&&(ee(M,255&M.gzhead.extra.length),ee(M,M.gzhead.extra.length>>8&255)),M.gzhead.hcrc&&(A.adler=b(A.adler,M.pending_buf,M.pending,0)),M.gzindex=0,M.status=69):(ee(M,0),ee(M,0),ee(M,0),ee(M,0),ee(M,0),ee(M,M.level===9?2:2<=M.strategy||M.level<2?4:0),ee(M,3),M.status=U);else{var de=L+(M.w_bits-8<<4)<<8;de|=(2<=M.strategy||M.level<2?0:M.level<6?1:M.level===6?2:3)<<6,M.strstart!==0&&(de|=32),de+=31-de%31,M.status=U,Z(M,de),M.strstart!==0&&(Z(M,A.adler>>>16),Z(M,65535&A.adler)),A.adler=1}if(M.status===69)if(M.gzhead.extra){for(B=M.pending;M.gzindex<(65535&M.gzhead.extra.length)&&(M.pending!==M.pending_buf_size||(M.gzhead.hcrc&&M.pending>B&&(A.adler=b(A.adler,M.pending_buf,M.pending-B,B)),X(A),B=M.pending,M.pending!==M.pending_buf_size));)ee(M,255&M.gzhead.extra[M.gzindex]),M.gzindex++;M.gzhead.hcrc&&M.pending>B&&(A.adler=b(A.adler,M.pending_buf,M.pending-B,B)),M.gzindex===M.gzhead.extra.length&&(M.gzindex=0,M.status=73)}else M.status=73;if(M.status===73)if(M.gzhead.name){B=M.pending;do{if(M.pending===M.pending_buf_size&&(M.gzhead.hcrc&&M.pending>B&&(A.adler=b(A.adler,M.pending_buf,M.pending-B,B)),X(A),B=M.pending,M.pending===M.pending_buf_size)){Y=1;break}Y=M.gzindex<M.gzhead.name.length?255&M.gzhead.name.charCodeAt(M.gzindex++):0,ee(M,Y)}while(Y!==0);M.gzhead.hcrc&&M.pending>B&&(A.adler=b(A.adler,M.pending_buf,M.pending-B,B)),Y===0&&(M.gzindex=0,M.status=91)}else M.status=91;if(M.status===91)if(M.gzhead.comment){B=M.pending;do{if(M.pending===M.pending_buf_size&&(M.gzhead.hcrc&&M.pending>B&&(A.adler=b(A.adler,M.pending_buf,M.pending-B,B)),X(A),B=M.pending,M.pending===M.pending_buf_size)){Y=1;break}Y=M.gzindex<M.gzhead.comment.length?255&M.gzhead.comment.charCodeAt(M.gzindex++):0,ee(M,Y)}while(Y!==0);M.gzhead.hcrc&&M.pending>B&&(A.adler=b(A.adler,M.pending_buf,M.pending-B,B)),Y===0&&(M.status=103)}else M.status=103;if(M.status===103&&(M.gzhead.hcrc?(M.pending+2>M.pending_buf_size&&X(A),M.pending+2<=M.pending_buf_size&&(ee(M,255&A.adler),ee(M,A.adler>>8&255),A.adler=0,M.status=U)):M.status=U),M.pending!==0){if(X(A),A.avail_out===0)return M.last_flush=-1,y}else if(A.avail_in===0&&ie(ye)<=ie(pe)&&ye!==S)return ve(A,-5);if(M.status===666&&A.avail_in!==0)return ve(A,-5);if(A.avail_in!==0||M.lookahead!==0||ye!==_&&M.status!==666){var xe=M.strategy===2?(function(oe,Te){for(var Ne;;){if(oe.lookahead===0&&(we(oe),oe.lookahead===0)){if(Te===_)return D;break}if(oe.match_length=0,Ne=p._tr_tally(oe,0,oe.window[oe.strstart]),oe.lookahead--,oe.strstart++,Ne&&(K(oe,!1),oe.strm.avail_out===0))return D}return oe.insert=0,Te===S?(K(oe,!0),oe.strm.avail_out===0?te:Q):oe.last_lit&&(K(oe,!1),oe.strm.avail_out===0)?D:me})(M,ye):M.strategy===3?(function(oe,Te){for(var Ne,Ae,Le,Ze,Ge=oe.window;;){if(oe.lookahead<=$){if(we(oe),oe.lookahead<=$&&Te===_)return D;if(oe.lookahead===0)break}if(oe.match_length=0,oe.lookahead>=I&&0<oe.strstart&&(Ae=Ge[Le=oe.strstart-1])===Ge[++Le]&&Ae===Ge[++Le]&&Ae===Ge[++Le]){Ze=oe.strstart+$;do;while(Ae===Ge[++Le]&&Ae===Ge[++Le]&&Ae===Ge[++Le]&&Ae===Ge[++Le]&&Ae===Ge[++Le]&&Ae===Ge[++Le]&&Ae===Ge[++Le]&&Ae===Ge[++Le]&&Le<Ze);oe.match_length=$-(Ze-Le),oe.match_length>oe.lookahead&&(oe.match_length=oe.lookahead)}if(oe.match_length>=I?(Ne=p._tr_tally(oe,1,oe.match_length-I),oe.lookahead-=oe.match_length,oe.strstart+=oe.match_length,oe.match_length=0):(Ne=p._tr_tally(oe,0,oe.window[oe.strstart]),oe.lookahead--,oe.strstart++),Ne&&(K(oe,!1),oe.strm.avail_out===0))return D}return oe.insert=0,Te===S?(K(oe,!0),oe.strm.avail_out===0?te:Q):oe.last_lit&&(K(oe,!1),oe.strm.avail_out===0)?D:me})(M,ye):c[M.level].func(M,ye);if(xe!==te&&xe!==Q||(M.status=666),xe===D||xe===te)return A.avail_out===0&&(M.last_flush=-1),y;if(xe===me&&(ye===1?p._tr_align(M):ye!==5&&(p._tr_stored_block(M,0,0,!1),ye===3&&(se(M.head),M.lookahead===0&&(M.strstart=0,M.block_start=0,M.insert=0))),X(A),A.avail_out===0))return M.last_flush=-1,y}return ye!==S?y:M.wrap<=0?1:(M.wrap===2?(ee(M,255&A.adler),ee(M,A.adler>>8&255),ee(M,A.adler>>16&255),ee(M,A.adler>>24&255),ee(M,255&A.total_in),ee(M,A.total_in>>8&255),ee(M,A.total_in>>16&255),ee(M,A.total_in>>24&255)):(Z(M,A.adler>>>16),Z(M,65535&A.adler)),X(A),0<M.wrap&&(M.wrap=-M.wrap),M.pending!==0?y:1)},o.deflateEnd=function(A){var ye;return A&&A.state?(ye=A.state.status)!==R&&ye!==69&&ye!==73&&ye!==91&&ye!==103&&ye!==U&&ye!==666?ve(A,E):(A.state=null,ye===U?ve(A,-3):y):E},o.deflateSetDictionary=function(A,ye){var pe,M,B,Y,de,xe,oe,Te,Ne=ye.length;if(!A||!A.state||(Y=(pe=A.state).wrap)===2||Y===1&&pe.status!==R||pe.lookahead)return E;for(Y===1&&(A.adler=m(A.adler,ye,Ne,0)),pe.wrap=0,Ne>=pe.w_size&&(Y===0&&(se(pe.head),pe.strstart=0,pe.block_start=0,pe.insert=0),Te=new u.Buf8(pe.w_size),u.arraySet(Te,ye,Ne-pe.w_size,pe.w_size,0),ye=Te,Ne=pe.w_size),de=A.avail_in,xe=A.next_in,oe=A.input,A.avail_in=Ne,A.next_in=0,A.input=ye,we(pe);pe.lookahead>=I;){for(M=pe.strstart,B=pe.lookahead-(I-1);pe.ins_h=(pe.ins_h<<pe.hash_shift^pe.window[M+I-1])&pe.hash_mask,pe.prev[M&pe.w_mask]=pe.head[pe.ins_h],pe.head[pe.ins_h]=M,M++,--B;);pe.strstart=M,pe.lookahead=I-1,we(pe)}return pe.strstart+=pe.lookahead,pe.block_start=pe.strstart,pe.insert=pe.lookahead,pe.lookahead=0,pe.match_length=pe.prev_length=I-1,pe.match_available=0,A.next_in=xe,A.input=oe,A.avail_in=de,pe.wrap=Y,y},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(s,a,o){a.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(s,a,o){a.exports=function(c,u){var p,m,b,x,_,S,y,E,k,N,C,L,P,V,q,G,O,j,I,$,H,R,U,D,me;p=c.state,m=c.next_in,D=c.input,b=m+(c.avail_in-5),x=c.next_out,me=c.output,_=x-(u-c.avail_out),S=x+(c.avail_out-257),y=p.dmax,E=p.wsize,k=p.whave,N=p.wnext,C=p.window,L=p.hold,P=p.bits,V=p.lencode,q=p.distcode,G=(1<<p.lenbits)-1,O=(1<<p.distbits)-1;e:do{P<15&&(L+=D[m++]<<P,P+=8,L+=D[m++]<<P,P+=8),j=V[L&G];t:for(;;){if(L>>>=I=j>>>24,P-=I,(I=j>>>16&255)===0)me[x++]=65535&j;else{if(!(16&I)){if((64&I)==0){j=V[(65535&j)+(L&(1<<I)-1)];continue t}if(32&I){p.mode=12;break e}c.msg="invalid literal/length code",p.mode=30;break e}$=65535&j,(I&=15)&&(P<I&&(L+=D[m++]<<P,P+=8),$+=L&(1<<I)-1,L>>>=I,P-=I),P<15&&(L+=D[m++]<<P,P+=8,L+=D[m++]<<P,P+=8),j=q[L&O];n:for(;;){if(L>>>=I=j>>>24,P-=I,!(16&(I=j>>>16&255))){if((64&I)==0){j=q[(65535&j)+(L&(1<<I)-1)];continue n}c.msg="invalid distance code",p.mode=30;break e}if(H=65535&j,P<(I&=15)&&(L+=D[m++]<<P,(P+=8)<I&&(L+=D[m++]<<P,P+=8)),y<(H+=L&(1<<I)-1)){c.msg="invalid distance too far back",p.mode=30;break e}if(L>>>=I,P-=I,(I=x-_)<H){if(k<(I=H-I)&&p.sane){c.msg="invalid distance too far back",p.mode=30;break e}if(U=C,(R=0)===N){if(R+=E-I,I<$){for($-=I;me[x++]=C[R++],--I;);R=x-H,U=me}}else if(N<I){if(R+=E+N-I,(I-=N)<$){for($-=I;me[x++]=C[R++],--I;);if(R=0,N<$){for($-=I=N;me[x++]=C[R++],--I;);R=x-H,U=me}}}else if(R+=N-I,I<$){for($-=I;me[x++]=C[R++],--I;);R=x-H,U=me}for(;2<$;)me[x++]=U[R++],me[x++]=U[R++],me[x++]=U[R++],$-=3;$&&(me[x++]=U[R++],1<$&&(me[x++]=U[R++]))}else{for(R=x-H;me[x++]=me[R++],me[x++]=me[R++],me[x++]=me[R++],2<($-=3););$&&(me[x++]=me[R++],1<$&&(me[x++]=me[R++]))}break}}break}}while(m<b&&x<S);m-=$=P>>3,L&=(1<<(P-=$<<3))-1,c.next_in=m,c.next_out=x,c.avail_in=m<b?b-m+5:5-(m-b),c.avail_out=x<S?S-x+257:257-(x-S),p.hold=L,p.bits=P}},{}],49:[function(s,a,o){var c=s("../utils/common"),u=s("./adler32"),p=s("./crc32"),m=s("./inffast"),b=s("./inftrees"),x=1,_=2,S=0,y=-2,E=1,k=852,N=592;function C(R){return(R>>>24&255)+(R>>>8&65280)+((65280&R)<<8)+((255&R)<<24)}function L(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new c.Buf16(320),this.work=new c.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function P(R){var U;return R&&R.state?(U=R.state,R.total_in=R.total_out=U.total=0,R.msg="",U.wrap&&(R.adler=1&U.wrap),U.mode=E,U.last=0,U.havedict=0,U.dmax=32768,U.head=null,U.hold=0,U.bits=0,U.lencode=U.lendyn=new c.Buf32(k),U.distcode=U.distdyn=new c.Buf32(N),U.sane=1,U.back=-1,S):y}function V(R){var U;return R&&R.state?((U=R.state).wsize=0,U.whave=0,U.wnext=0,P(R)):y}function q(R,U){var D,me;return R&&R.state?(me=R.state,U<0?(D=0,U=-U):(D=1+(U>>4),U<48&&(U&=15)),U&&(U<8||15<U)?y:(me.window!==null&&me.wbits!==U&&(me.window=null),me.wrap=D,me.wbits=U,V(R))):y}function G(R,U){var D,me;return R?(me=new L,(R.state=me).window=null,(D=q(R,U))!==S&&(R.state=null),D):y}var O,j,I=!0;function $(R){if(I){var U;for(O=new c.Buf32(512),j=new c.Buf32(32),U=0;U<144;)R.lens[U++]=8;for(;U<256;)R.lens[U++]=9;for(;U<280;)R.lens[U++]=7;for(;U<288;)R.lens[U++]=8;for(b(x,R.lens,0,288,O,0,R.work,{bits:9}),U=0;U<32;)R.lens[U++]=5;b(_,R.lens,0,32,j,0,R.work,{bits:5}),I=!1}R.lencode=O,R.lenbits=9,R.distcode=j,R.distbits=5}function H(R,U,D,me){var te,Q=R.state;return Q.window===null&&(Q.wsize=1<<Q.wbits,Q.wnext=0,Q.whave=0,Q.window=new c.Buf8(Q.wsize)),me>=Q.wsize?(c.arraySet(Q.window,U,D-Q.wsize,Q.wsize,0),Q.wnext=0,Q.whave=Q.wsize):(me<(te=Q.wsize-Q.wnext)&&(te=me),c.arraySet(Q.window,U,D-me,te,Q.wnext),(me-=te)?(c.arraySet(Q.window,U,D-me,me,0),Q.wnext=me,Q.whave=Q.wsize):(Q.wnext+=te,Q.wnext===Q.wsize&&(Q.wnext=0),Q.whave<Q.wsize&&(Q.whave+=te))),0}o.inflateReset=V,o.inflateReset2=q,o.inflateResetKeep=P,o.inflateInit=function(R){return G(R,15)},o.inflateInit2=G,o.inflate=function(R,U){var D,me,te,Q,ve,ie,se,X,K,ee,Z,re,we,Re,Ee,Pe,De,Fe,gt,Qe,A,ye,pe,M,B=0,Y=new c.Buf8(4),de=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!R||!R.state||!R.output||!R.input&&R.avail_in!==0)return y;(D=R.state).mode===12&&(D.mode=13),ve=R.next_out,te=R.output,se=R.avail_out,Q=R.next_in,me=R.input,ie=R.avail_in,X=D.hold,K=D.bits,ee=ie,Z=se,ye=S;e:for(;;)switch(D.mode){case E:if(D.wrap===0){D.mode=13;break}for(;K<16;){if(ie===0)break e;ie--,X+=me[Q++]<<K,K+=8}if(2&D.wrap&&X===35615){Y[D.check=0]=255&X,Y[1]=X>>>8&255,D.check=p(D.check,Y,2,0),K=X=0,D.mode=2;break}if(D.flags=0,D.head&&(D.head.done=!1),!(1&D.wrap)||(((255&X)<<8)+(X>>8))%31){R.msg="incorrect header check",D.mode=30;break}if((15&X)!=8){R.msg="unknown compression method",D.mode=30;break}if(K-=4,A=8+(15&(X>>>=4)),D.wbits===0)D.wbits=A;else if(A>D.wbits){R.msg="invalid window size",D.mode=30;break}D.dmax=1<<A,R.adler=D.check=1,D.mode=512&X?10:12,K=X=0;break;case 2:for(;K<16;){if(ie===0)break e;ie--,X+=me[Q++]<<K,K+=8}if(D.flags=X,(255&D.flags)!=8){R.msg="unknown compression method",D.mode=30;break}if(57344&D.flags){R.msg="unknown header flags set",D.mode=30;break}D.head&&(D.head.text=X>>8&1),512&D.flags&&(Y[0]=255&X,Y[1]=X>>>8&255,D.check=p(D.check,Y,2,0)),K=X=0,D.mode=3;case 3:for(;K<32;){if(ie===0)break e;ie--,X+=me[Q++]<<K,K+=8}D.head&&(D.head.time=X),512&D.flags&&(Y[0]=255&X,Y[1]=X>>>8&255,Y[2]=X>>>16&255,Y[3]=X>>>24&255,D.check=p(D.check,Y,4,0)),K=X=0,D.mode=4;case 4:for(;K<16;){if(ie===0)break e;ie--,X+=me[Q++]<<K,K+=8}D.head&&(D.head.xflags=255&X,D.head.os=X>>8),512&D.flags&&(Y[0]=255&X,Y[1]=X>>>8&255,D.check=p(D.check,Y,2,0)),K=X=0,D.mode=5;case 5:if(1024&D.flags){for(;K<16;){if(ie===0)break e;ie--,X+=me[Q++]<<K,K+=8}D.length=X,D.head&&(D.head.extra_len=X),512&D.flags&&(Y[0]=255&X,Y[1]=X>>>8&255,D.check=p(D.check,Y,2,0)),K=X=0}else D.head&&(D.head.extra=null);D.mode=6;case 6:if(1024&D.flags&&(ie<(re=D.length)&&(re=ie),re&&(D.head&&(A=D.head.extra_len-D.length,D.head.extra||(D.head.extra=new Array(D.head.extra_len)),c.arraySet(D.head.extra,me,Q,re,A)),512&D.flags&&(D.check=p(D.check,me,re,Q)),ie-=re,Q+=re,D.length-=re),D.length))break e;D.length=0,D.mode=7;case 7:if(2048&D.flags){if(ie===0)break e;for(re=0;A=me[Q+re++],D.head&&A&&D.length<65536&&(D.head.name+=String.fromCharCode(A)),A&&re<ie;);if(512&D.flags&&(D.check=p(D.check,me,re,Q)),ie-=re,Q+=re,A)break e}else D.head&&(D.head.name=null);D.length=0,D.mode=8;case 8:if(4096&D.flags){if(ie===0)break e;for(re=0;A=me[Q+re++],D.head&&A&&D.length<65536&&(D.head.comment+=String.fromCharCode(A)),A&&re<ie;);if(512&D.flags&&(D.check=p(D.check,me,re,Q)),ie-=re,Q+=re,A)break e}else D.head&&(D.head.comment=null);D.mode=9;case 9:if(512&D.flags){for(;K<16;){if(ie===0)break e;ie--,X+=me[Q++]<<K,K+=8}if(X!==(65535&D.check)){R.msg="header crc mismatch",D.mode=30;break}K=X=0}D.head&&(D.head.hcrc=D.flags>>9&1,D.head.done=!0),R.adler=D.check=0,D.mode=12;break;case 10:for(;K<32;){if(ie===0)break e;ie--,X+=me[Q++]<<K,K+=8}R.adler=D.check=C(X),K=X=0,D.mode=11;case 11:if(D.havedict===0)return R.next_out=ve,R.avail_out=se,R.next_in=Q,R.avail_in=ie,D.hold=X,D.bits=K,2;R.adler=D.check=1,D.mode=12;case 12:if(U===5||U===6)break e;case 13:if(D.last){X>>>=7&K,K-=7&K,D.mode=27;break}for(;K<3;){if(ie===0)break e;ie--,X+=me[Q++]<<K,K+=8}switch(D.last=1&X,K-=1,3&(X>>>=1)){case 0:D.mode=14;break;case 1:if($(D),D.mode=20,U!==6)break;X>>>=2,K-=2;break e;case 2:D.mode=17;break;case 3:R.msg="invalid block type",D.mode=30}X>>>=2,K-=2;break;case 14:for(X>>>=7&K,K-=7&K;K<32;){if(ie===0)break e;ie--,X+=me[Q++]<<K,K+=8}if((65535&X)!=(X>>>16^65535)){R.msg="invalid stored block lengths",D.mode=30;break}if(D.length=65535&X,K=X=0,D.mode=15,U===6)break e;case 15:D.mode=16;case 16:if(re=D.length){if(ie<re&&(re=ie),se<re&&(re=se),re===0)break e;c.arraySet(te,me,Q,re,ve),ie-=re,Q+=re,se-=re,ve+=re,D.length-=re;break}D.mode=12;break;case 17:for(;K<14;){if(ie===0)break e;ie--,X+=me[Q++]<<K,K+=8}if(D.nlen=257+(31&X),X>>>=5,K-=5,D.ndist=1+(31&X),X>>>=5,K-=5,D.ncode=4+(15&X),X>>>=4,K-=4,286<D.nlen||30<D.ndist){R.msg="too many length or distance symbols",D.mode=30;break}D.have=0,D.mode=18;case 18:for(;D.have<D.ncode;){for(;K<3;){if(ie===0)break e;ie--,X+=me[Q++]<<K,K+=8}D.lens[de[D.have++]]=7&X,X>>>=3,K-=3}for(;D.have<19;)D.lens[de[D.have++]]=0;if(D.lencode=D.lendyn,D.lenbits=7,pe={bits:D.lenbits},ye=b(0,D.lens,0,19,D.lencode,0,D.work,pe),D.lenbits=pe.bits,ye){R.msg="invalid code lengths set",D.mode=30;break}D.have=0,D.mode=19;case 19:for(;D.have<D.nlen+D.ndist;){for(;Pe=(B=D.lencode[X&(1<<D.lenbits)-1])>>>16&255,De=65535&B,!((Ee=B>>>24)<=K);){if(ie===0)break e;ie--,X+=me[Q++]<<K,K+=8}if(De<16)X>>>=Ee,K-=Ee,D.lens[D.have++]=De;else{if(De===16){for(M=Ee+2;K<M;){if(ie===0)break e;ie--,X+=me[Q++]<<K,K+=8}if(X>>>=Ee,K-=Ee,D.have===0){R.msg="invalid bit length repeat",D.mode=30;break}A=D.lens[D.have-1],re=3+(3&X),X>>>=2,K-=2}else if(De===17){for(M=Ee+3;K<M;){if(ie===0)break e;ie--,X+=me[Q++]<<K,K+=8}K-=Ee,A=0,re=3+(7&(X>>>=Ee)),X>>>=3,K-=3}else{for(M=Ee+7;K<M;){if(ie===0)break e;ie--,X+=me[Q++]<<K,K+=8}K-=Ee,A=0,re=11+(127&(X>>>=Ee)),X>>>=7,K-=7}if(D.have+re>D.nlen+D.ndist){R.msg="invalid bit length repeat",D.mode=30;break}for(;re--;)D.lens[D.have++]=A}}if(D.mode===30)break;if(D.lens[256]===0){R.msg="invalid code -- missing end-of-block",D.mode=30;break}if(D.lenbits=9,pe={bits:D.lenbits},ye=b(x,D.lens,0,D.nlen,D.lencode,0,D.work,pe),D.lenbits=pe.bits,ye){R.msg="invalid literal/lengths set",D.mode=30;break}if(D.distbits=6,D.distcode=D.distdyn,pe={bits:D.distbits},ye=b(_,D.lens,D.nlen,D.ndist,D.distcode,0,D.work,pe),D.distbits=pe.bits,ye){R.msg="invalid distances set",D.mode=30;break}if(D.mode=20,U===6)break e;case 20:D.mode=21;case 21:if(6<=ie&&258<=se){R.next_out=ve,R.avail_out=se,R.next_in=Q,R.avail_in=ie,D.hold=X,D.bits=K,m(R,Z),ve=R.next_out,te=R.output,se=R.avail_out,Q=R.next_in,me=R.input,ie=R.avail_in,X=D.hold,K=D.bits,D.mode===12&&(D.back=-1);break}for(D.back=0;Pe=(B=D.lencode[X&(1<<D.lenbits)-1])>>>16&255,De=65535&B,!((Ee=B>>>24)<=K);){if(ie===0)break e;ie--,X+=me[Q++]<<K,K+=8}if(Pe&&(240&Pe)==0){for(Fe=Ee,gt=Pe,Qe=De;Pe=(B=D.lencode[Qe+((X&(1<<Fe+gt)-1)>>Fe)])>>>16&255,De=65535&B,!(Fe+(Ee=B>>>24)<=K);){if(ie===0)break e;ie--,X+=me[Q++]<<K,K+=8}X>>>=Fe,K-=Fe,D.back+=Fe}if(X>>>=Ee,K-=Ee,D.back+=Ee,D.length=De,Pe===0){D.mode=26;break}if(32&Pe){D.back=-1,D.mode=12;break}if(64&Pe){R.msg="invalid literal/length code",D.mode=30;break}D.extra=15&Pe,D.mode=22;case 22:if(D.extra){for(M=D.extra;K<M;){if(ie===0)break e;ie--,X+=me[Q++]<<K,K+=8}D.length+=X&(1<<D.extra)-1,X>>>=D.extra,K-=D.extra,D.back+=D.extra}D.was=D.length,D.mode=23;case 23:for(;Pe=(B=D.distcode[X&(1<<D.distbits)-1])>>>16&255,De=65535&B,!((Ee=B>>>24)<=K);){if(ie===0)break e;ie--,X+=me[Q++]<<K,K+=8}if((240&Pe)==0){for(Fe=Ee,gt=Pe,Qe=De;Pe=(B=D.distcode[Qe+((X&(1<<Fe+gt)-1)>>Fe)])>>>16&255,De=65535&B,!(Fe+(Ee=B>>>24)<=K);){if(ie===0)break e;ie--,X+=me[Q++]<<K,K+=8}X>>>=Fe,K-=Fe,D.back+=Fe}if(X>>>=Ee,K-=Ee,D.back+=Ee,64&Pe){R.msg="invalid distance code",D.mode=30;break}D.offset=De,D.extra=15&Pe,D.mode=24;case 24:if(D.extra){for(M=D.extra;K<M;){if(ie===0)break e;ie--,X+=me[Q++]<<K,K+=8}D.offset+=X&(1<<D.extra)-1,X>>>=D.extra,K-=D.extra,D.back+=D.extra}if(D.offset>D.dmax){R.msg="invalid distance too far back",D.mode=30;break}D.mode=25;case 25:if(se===0)break e;if(re=Z-se,D.offset>re){if((re=D.offset-re)>D.whave&&D.sane){R.msg="invalid distance too far back",D.mode=30;break}we=re>D.wnext?(re-=D.wnext,D.wsize-re):D.wnext-re,re>D.length&&(re=D.length),Re=D.window}else Re=te,we=ve-D.offset,re=D.length;for(se<re&&(re=se),se-=re,D.length-=re;te[ve++]=Re[we++],--re;);D.length===0&&(D.mode=21);break;case 26:if(se===0)break e;te[ve++]=D.length,se--,D.mode=21;break;case 27:if(D.wrap){for(;K<32;){if(ie===0)break e;ie--,X|=me[Q++]<<K,K+=8}if(Z-=se,R.total_out+=Z,D.total+=Z,Z&&(R.adler=D.check=D.flags?p(D.check,te,Z,ve-Z):u(D.check,te,Z,ve-Z)),Z=se,(D.flags?X:C(X))!==D.check){R.msg="incorrect data check",D.mode=30;break}K=X=0}D.mode=28;case 28:if(D.wrap&&D.flags){for(;K<32;){if(ie===0)break e;ie--,X+=me[Q++]<<K,K+=8}if(X!==(4294967295&D.total)){R.msg="incorrect length check",D.mode=30;break}K=X=0}D.mode=29;case 29:ye=1;break e;case 30:ye=-3;break e;case 31:return-4;case 32:default:return y}return R.next_out=ve,R.avail_out=se,R.next_in=Q,R.avail_in=ie,D.hold=X,D.bits=K,(D.wsize||Z!==R.avail_out&&D.mode<30&&(D.mode<27||U!==4))&&H(R,R.output,R.next_out,Z-R.avail_out)?(D.mode=31,-4):(ee-=R.avail_in,Z-=R.avail_out,R.total_in+=ee,R.total_out+=Z,D.total+=Z,D.wrap&&Z&&(R.adler=D.check=D.flags?p(D.check,te,Z,R.next_out-Z):u(D.check,te,Z,R.next_out-Z)),R.data_type=D.bits+(D.last?64:0)+(D.mode===12?128:0)+(D.mode===20||D.mode===15?256:0),(ee==0&&Z===0||U===4)&&ye===S&&(ye=-5),ye)},o.inflateEnd=function(R){if(!R||!R.state)return y;var U=R.state;return U.window&&(U.window=null),R.state=null,S},o.inflateGetHeader=function(R,U){var D;return R&&R.state?(2&(D=R.state).wrap)==0?y:((D.head=U).done=!1,S):y},o.inflateSetDictionary=function(R,U){var D,me=U.length;return R&&R.state?(D=R.state).wrap!==0&&D.mode!==11?y:D.mode===11&&u(1,U,me,0)!==D.check?-3:H(R,U,me,me)?(D.mode=31,-4):(D.havedict=1,S):y},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(s,a,o){var c=s("../utils/common"),u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],p=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],m=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],b=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];a.exports=function(x,_,S,y,E,k,N,C){var L,P,V,q,G,O,j,I,$,H=C.bits,R=0,U=0,D=0,me=0,te=0,Q=0,ve=0,ie=0,se=0,X=0,K=null,ee=0,Z=new c.Buf16(16),re=new c.Buf16(16),we=null,Re=0;for(R=0;R<=15;R++)Z[R]=0;for(U=0;U<y;U++)Z[_[S+U]]++;for(te=H,me=15;1<=me&&Z[me]===0;me--);if(me<te&&(te=me),me===0)return E[k++]=20971520,E[k++]=20971520,C.bits=1,0;for(D=1;D<me&&Z[D]===0;D++);for(te<D&&(te=D),R=ie=1;R<=15;R++)if(ie<<=1,(ie-=Z[R])<0)return-1;if(0<ie&&(x===0||me!==1))return-1;for(re[1]=0,R=1;R<15;R++)re[R+1]=re[R]+Z[R];for(U=0;U<y;U++)_[S+U]!==0&&(N[re[_[S+U]]++]=U);if(O=x===0?(K=we=N,19):x===1?(K=u,ee-=257,we=p,Re-=257,256):(K=m,we=b,-1),R=D,G=k,ve=U=X=0,V=-1,q=(se=1<<(Q=te))-1,x===1&&852<se||x===2&&592<se)return 1;for(;;){for(j=R-ve,$=N[U]<O?(I=0,N[U]):N[U]>O?(I=we[Re+N[U]],K[ee+N[U]]):(I=96,0),L=1<<R-ve,D=P=1<<Q;E[G+(X>>ve)+(P-=L)]=j<<24|I<<16|$|0,P!==0;);for(L=1<<R-1;X&L;)L>>=1;if(L!==0?(X&=L-1,X+=L):X=0,U++,--Z[R]==0){if(R===me)break;R=_[S+N[U]]}if(te<R&&(X&q)!==V){for(ve===0&&(ve=te),G+=D,ie=1<<(Q=R-ve);Q+ve<me&&!((ie-=Z[Q+ve])<=0);)Q++,ie<<=1;if(se+=1<<Q,x===1&&852<se||x===2&&592<se)return 1;E[V=X&q]=te<<24|Q<<16|G-k|0}}return X!==0&&(E[G+X]=R-ve<<24|64<<16|0),C.bits=te,0}},{"../utils/common":41}],51:[function(s,a,o){a.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(s,a,o){var c=s("../utils/common"),u=0,p=1;function m(B){for(var Y=B.length;0<=--Y;)B[Y]=0}var b=0,x=29,_=256,S=_+1+x,y=30,E=19,k=2*S+1,N=15,C=16,L=7,P=256,V=16,q=17,G=18,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],j=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],$=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],H=new Array(2*(S+2));m(H);var R=new Array(2*y);m(R);var U=new Array(512);m(U);var D=new Array(256);m(D);var me=new Array(x);m(me);var te,Q,ve,ie=new Array(y);function se(B,Y,de,xe,oe){this.static_tree=B,this.extra_bits=Y,this.extra_base=de,this.elems=xe,this.max_length=oe,this.has_stree=B&&B.length}function X(B,Y){this.dyn_tree=B,this.max_code=0,this.stat_desc=Y}function K(B){return B<256?U[B]:U[256+(B>>>7)]}function ee(B,Y){B.pending_buf[B.pending++]=255&Y,B.pending_buf[B.pending++]=Y>>>8&255}function Z(B,Y,de){B.bi_valid>C-de?(B.bi_buf|=Y<<B.bi_valid&65535,ee(B,B.bi_buf),B.bi_buf=Y>>C-B.bi_valid,B.bi_valid+=de-C):(B.bi_buf|=Y<<B.bi_valid&65535,B.bi_valid+=de)}function re(B,Y,de){Z(B,de[2*Y],de[2*Y+1])}function we(B,Y){for(var de=0;de|=1&B,B>>>=1,de<<=1,0<--Y;);return de>>>1}function Re(B,Y,de){var xe,oe,Te=new Array(N+1),Ne=0;for(xe=1;xe<=N;xe++)Te[xe]=Ne=Ne+de[xe-1]<<1;for(oe=0;oe<=Y;oe++){var Ae=B[2*oe+1];Ae!==0&&(B[2*oe]=we(Te[Ae]++,Ae))}}function Ee(B){var Y;for(Y=0;Y<S;Y++)B.dyn_ltree[2*Y]=0;for(Y=0;Y<y;Y++)B.dyn_dtree[2*Y]=0;for(Y=0;Y<E;Y++)B.bl_tree[2*Y]=0;B.dyn_ltree[2*P]=1,B.opt_len=B.static_len=0,B.last_lit=B.matches=0}function Pe(B){8<B.bi_valid?ee(B,B.bi_buf):0<B.bi_valid&&(B.pending_buf[B.pending++]=B.bi_buf),B.bi_buf=0,B.bi_valid=0}function De(B,Y,de,xe){var oe=2*Y,Te=2*de;return B[oe]<B[Te]||B[oe]===B[Te]&&xe[Y]<=xe[de]}function Fe(B,Y,de){for(var xe=B.heap[de],oe=de<<1;oe<=B.heap_len&&(oe<B.heap_len&&De(Y,B.heap[oe+1],B.heap[oe],B.depth)&&oe++,!De(Y,xe,B.heap[oe],B.depth));)B.heap[de]=B.heap[oe],de=oe,oe<<=1;B.heap[de]=xe}function gt(B,Y,de){var xe,oe,Te,Ne,Ae=0;if(B.last_lit!==0)for(;xe=B.pending_buf[B.d_buf+2*Ae]<<8|B.pending_buf[B.d_buf+2*Ae+1],oe=B.pending_buf[B.l_buf+Ae],Ae++,xe===0?re(B,oe,Y):(re(B,(Te=D[oe])+_+1,Y),(Ne=O[Te])!==0&&Z(B,oe-=me[Te],Ne),re(B,Te=K(--xe),de),(Ne=j[Te])!==0&&Z(B,xe-=ie[Te],Ne)),Ae<B.last_lit;);re(B,P,Y)}function Qe(B,Y){var de,xe,oe,Te=Y.dyn_tree,Ne=Y.stat_desc.static_tree,Ae=Y.stat_desc.has_stree,Le=Y.stat_desc.elems,Ze=-1;for(B.heap_len=0,B.heap_max=k,de=0;de<Le;de++)Te[2*de]!==0?(B.heap[++B.heap_len]=Ze=de,B.depth[de]=0):Te[2*de+1]=0;for(;B.heap_len<2;)Te[2*(oe=B.heap[++B.heap_len]=Ze<2?++Ze:0)]=1,B.depth[oe]=0,B.opt_len--,Ae&&(B.static_len-=Ne[2*oe+1]);for(Y.max_code=Ze,de=B.heap_len>>1;1<=de;de--)Fe(B,Te,de);for(oe=Le;de=B.heap[1],B.heap[1]=B.heap[B.heap_len--],Fe(B,Te,1),xe=B.heap[1],B.heap[--B.heap_max]=de,B.heap[--B.heap_max]=xe,Te[2*oe]=Te[2*de]+Te[2*xe],B.depth[oe]=(B.depth[de]>=B.depth[xe]?B.depth[de]:B.depth[xe])+1,Te[2*de+1]=Te[2*xe+1]=oe,B.heap[1]=oe++,Fe(B,Te,1),2<=B.heap_len;);B.heap[--B.heap_max]=B.heap[1],(function(Ge,nn){var Gn,Vt,us,it,tt,sn,dt=nn.dyn_tree,tr=nn.max_code,nr=nn.stat_desc.static_tree,Lr=nn.stat_desc.has_stree,kn=nn.stat_desc.extra_bits,Kn=nn.stat_desc.extra_base,xt=nn.stat_desc.max_length,cn=0;for(it=0;it<=N;it++)Ge.bl_count[it]=0;for(dt[2*Ge.heap[Ge.heap_max]+1]=0,Gn=Ge.heap_max+1;Gn<k;Gn++)xt<(it=dt[2*dt[2*(Vt=Ge.heap[Gn])+1]+1]+1)&&(it=xt,cn++),dt[2*Vt+1]=it,tr<Vt||(Ge.bl_count[it]++,tt=0,Kn<=Vt&&(tt=kn[Vt-Kn]),sn=dt[2*Vt],Ge.opt_len+=sn*(it+tt),Lr&&(Ge.static_len+=sn*(nr[2*Vt+1]+tt)));if(cn!==0){do{for(it=xt-1;Ge.bl_count[it]===0;)it--;Ge.bl_count[it]--,Ge.bl_count[it+1]+=2,Ge.bl_count[xt]--,cn-=2}while(0<cn);for(it=xt;it!==0;it--)for(Vt=Ge.bl_count[it];Vt!==0;)tr<(us=Ge.heap[--Gn])||(dt[2*us+1]!==it&&(Ge.opt_len+=(it-dt[2*us+1])*dt[2*us],dt[2*us+1]=it),Vt--)}})(B,Y),Re(Te,Ze,B.bl_count)}function A(B,Y,de){var xe,oe,Te=-1,Ne=Y[1],Ae=0,Le=7,Ze=4;for(Ne===0&&(Le=138,Ze=3),Y[2*(de+1)+1]=65535,xe=0;xe<=de;xe++)oe=Ne,Ne=Y[2*(xe+1)+1],++Ae<Le&&oe===Ne||(Ae<Ze?B.bl_tree[2*oe]+=Ae:oe!==0?(oe!==Te&&B.bl_tree[2*oe]++,B.bl_tree[2*V]++):Ae<=10?B.bl_tree[2*q]++:B.bl_tree[2*G]++,Te=oe,Ze=(Ae=0)===Ne?(Le=138,3):oe===Ne?(Le=6,3):(Le=7,4))}function ye(B,Y,de){var xe,oe,Te=-1,Ne=Y[1],Ae=0,Le=7,Ze=4;for(Ne===0&&(Le=138,Ze=3),xe=0;xe<=de;xe++)if(oe=Ne,Ne=Y[2*(xe+1)+1],!(++Ae<Le&&oe===Ne)){if(Ae<Ze)for(;re(B,oe,B.bl_tree),--Ae!=0;);else oe!==0?(oe!==Te&&(re(B,oe,B.bl_tree),Ae--),re(B,V,B.bl_tree),Z(B,Ae-3,2)):Ae<=10?(re(B,q,B.bl_tree),Z(B,Ae-3,3)):(re(B,G,B.bl_tree),Z(B,Ae-11,7));Te=oe,Ze=(Ae=0)===Ne?(Le=138,3):oe===Ne?(Le=6,3):(Le=7,4)}}m(ie);var pe=!1;function M(B,Y,de,xe){Z(B,(b<<1)+(xe?1:0),3),(function(oe,Te,Ne,Ae){Pe(oe),ee(oe,Ne),ee(oe,~Ne),c.arraySet(oe.pending_buf,oe.window,Te,Ne,oe.pending),oe.pending+=Ne})(B,Y,de)}o._tr_init=function(B){pe||((function(){var Y,de,xe,oe,Te,Ne=new Array(N+1);for(oe=xe=0;oe<x-1;oe++)for(me[oe]=xe,Y=0;Y<1<<O[oe];Y++)D[xe++]=oe;for(D[xe-1]=oe,oe=Te=0;oe<16;oe++)for(ie[oe]=Te,Y=0;Y<1<<j[oe];Y++)U[Te++]=oe;for(Te>>=7;oe<y;oe++)for(ie[oe]=Te<<7,Y=0;Y<1<<j[oe]-7;Y++)U[256+Te++]=oe;for(de=0;de<=N;de++)Ne[de]=0;for(Y=0;Y<=143;)H[2*Y+1]=8,Y++,Ne[8]++;for(;Y<=255;)H[2*Y+1]=9,Y++,Ne[9]++;for(;Y<=279;)H[2*Y+1]=7,Y++,Ne[7]++;for(;Y<=287;)H[2*Y+1]=8,Y++,Ne[8]++;for(Re(H,S+1,Ne),Y=0;Y<y;Y++)R[2*Y+1]=5,R[2*Y]=we(Y,5);te=new se(H,O,_+1,S,N),Q=new se(R,j,0,y,N),ve=new se(new Array(0),I,0,E,L)})(),pe=!0),B.l_desc=new X(B.dyn_ltree,te),B.d_desc=new X(B.dyn_dtree,Q),B.bl_desc=new X(B.bl_tree,ve),B.bi_buf=0,B.bi_valid=0,Ee(B)},o._tr_stored_block=M,o._tr_flush_block=function(B,Y,de,xe){var oe,Te,Ne=0;0<B.level?(B.strm.data_type===2&&(B.strm.data_type=(function(Ae){var Le,Ze=4093624447;for(Le=0;Le<=31;Le++,Ze>>>=1)if(1&Ze&&Ae.dyn_ltree[2*Le]!==0)return u;if(Ae.dyn_ltree[18]!==0||Ae.dyn_ltree[20]!==0||Ae.dyn_ltree[26]!==0)return p;for(Le=32;Le<_;Le++)if(Ae.dyn_ltree[2*Le]!==0)return p;return u})(B)),Qe(B,B.l_desc),Qe(B,B.d_desc),Ne=(function(Ae){var Le;for(A(Ae,Ae.dyn_ltree,Ae.l_desc.max_code),A(Ae,Ae.dyn_dtree,Ae.d_desc.max_code),Qe(Ae,Ae.bl_desc),Le=E-1;3<=Le&&Ae.bl_tree[2*$[Le]+1]===0;Le--);return Ae.opt_len+=3*(Le+1)+5+5+4,Le})(B),oe=B.opt_len+3+7>>>3,(Te=B.static_len+3+7>>>3)<=oe&&(oe=Te)):oe=Te=de+5,de+4<=oe&&Y!==-1?M(B,Y,de,xe):B.strategy===4||Te===oe?(Z(B,2+(xe?1:0),3),gt(B,H,R)):(Z(B,4+(xe?1:0),3),(function(Ae,Le,Ze,Ge){var nn;for(Z(Ae,Le-257,5),Z(Ae,Ze-1,5),Z(Ae,Ge-4,4),nn=0;nn<Ge;nn++)Z(Ae,Ae.bl_tree[2*$[nn]+1],3);ye(Ae,Ae.dyn_ltree,Le-1),ye(Ae,Ae.dyn_dtree,Ze-1)})(B,B.l_desc.max_code+1,B.d_desc.max_code+1,Ne+1),gt(B,B.dyn_ltree,B.dyn_dtree)),Ee(B),xe&&Pe(B)},o._tr_tally=function(B,Y,de){return B.pending_buf[B.d_buf+2*B.last_lit]=Y>>>8&255,B.pending_buf[B.d_buf+2*B.last_lit+1]=255&Y,B.pending_buf[B.l_buf+B.last_lit]=255&de,B.last_lit++,Y===0?B.dyn_ltree[2*de]++:(B.matches++,Y--,B.dyn_ltree[2*(D[de]+_+1)]++,B.dyn_dtree[2*K(Y)]++),B.last_lit===B.lit_bufsize-1},o._tr_align=function(B){Z(B,2,3),re(B,P,H),(function(Y){Y.bi_valid===16?(ee(Y,Y.bi_buf),Y.bi_buf=0,Y.bi_valid=0):8<=Y.bi_valid&&(Y.pending_buf[Y.pending++]=255&Y.bi_buf,Y.bi_buf>>=8,Y.bi_valid-=8)})(B)}},{"../utils/common":41}],53:[function(s,a,o){a.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(s,a,o){(function(c){(function(u,p){if(!u.setImmediate){var m,b,x,_,S=1,y={},E=!1,k=u.document,N=Object.getPrototypeOf&&Object.getPrototypeOf(u);N=N&&N.setTimeout?N:u,m={}.toString.call(u.process)==="[object process]"?function(V){process.nextTick(function(){L(V)})}:(function(){if(u.postMessage&&!u.importScripts){var V=!0,q=u.onmessage;return u.onmessage=function(){V=!1},u.postMessage("","*"),u.onmessage=q,V}})()?(_="setImmediate$"+Math.random()+"$",u.addEventListener?u.addEventListener("message",P,!1):u.attachEvent("onmessage",P),function(V){u.postMessage(_+V,"*")}):u.MessageChannel?((x=new MessageChannel).port1.onmessage=function(V){L(V.data)},function(V){x.port2.postMessage(V)}):k&&"onreadystatechange"in k.createElement("script")?(b=k.documentElement,function(V){var q=k.createElement("script");q.onreadystatechange=function(){L(V),q.onreadystatechange=null,b.removeChild(q),q=null},b.appendChild(q)}):function(V){setTimeout(L,0,V)},N.setImmediate=function(V){typeof V!="function"&&(V=new Function(""+V));for(var q=new Array(arguments.length-1),G=0;G<q.length;G++)q[G]=arguments[G+1];var O={callback:V,args:q};return y[S]=O,m(S),S++},N.clearImmediate=C}function C(V){delete y[V]}function L(V){if(E)setTimeout(L,0,V);else{var q=y[V];if(q){E=!0;try{(function(G){var O=G.callback,j=G.args;switch(j.length){case 0:O();break;case 1:O(j[0]);break;case 2:O(j[0],j[1]);break;case 3:O(j[0],j[1],j[2]);break;default:O.apply(p,j)}})(q)}finally{C(V),E=!1}}}}function P(V){V.source===u&&typeof V.data=="string"&&V.data.indexOf(_)===0&&L(+V.data.slice(_.length))}})(typeof self>"u"?c===void 0?this:c:self)}).call(this,typeof qu<"u"?qu:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(sp)),sp.exports}var z4=P4();const B4=$p(z4),rp=Ro.create("BatchPDF"),$4=async r=>{const e=r.solicitudType,s=r.funcionario.toUpperCase().trim(),a=d0(r.funcionario),o=r.acto.trim(),c=`SGDP-${e} N ${o} - ${s}`,u={fileName:c,Decreto:o,FUNCIONARIO:s,Funcionario:a,solicitudType:e,RUT:r.rut.trim(),Fecha:iT(r.fechaDecreto),Cantidad_de_das:r.cantidadDias.toString().replace(".",","),Fecha_de_inicio:Ts(r.fechaInicio),RA:r.ra,Emite:r.emite},p=e==="FL"&&r.periodo2&&(r.solicitadoP2||0)>0,m=e==="FL"?{...u,templateId:p?Dt.TEMPLATE_FL_2P_DOC_ID:Dt.TEMPLATE_FL_1P_DOC_ID,Fecha_de_Trmino:Ts(r.fechaTermino||""),Perodo_1:r.periodo1||"",Saldo_Disponible_Periodo_1:(r.saldoDisponibleP1||0).toString().replace(".",","),Solicitados_Periodo_1:(r.solicitadoP1||0).toString().replace(".",","),Saldo_Final_Periodo_1:((r.saldoDisponibleP1||0)-(r.solicitadoP1||0)).toString().replace(".",","),...p?{Perodo_2:r.periodo2||"",Saldo_Disponible_Periodo_2:(r.saldoDisponibleP2||0).toString().replace(".",","),Solicitados_Periodo_2:(r.solicitadoP2||0).toString().replace(".",","),Saldo_Final_Periodo_2:((r.saldoDisponibleP2||0)-(r.solicitadoP2||0)).toString().replace(".",",")}:{}}:{...u,Tipo_de_Jornada:r.tipoJornada.replace(/[()]/g,"").trim(),Das_a_su_haber:r.diasHaber.toFixed(1).replace(".",","),Saldo_final:(r.diasHaber-r.cantidadDias).toFixed(1).replace(".",",")},b=e==="FL"?p?Dt.WEB_APP_URL_FL_2P:Dt.WEB_APP_URL_FL:Dt.WEB_APP_URL,x=await fetch(b,{method:"POST",mode:"cors",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify(m)});if(!x.ok)throw new Error(`HTTP Error: ${x.status}`);const _=await x.json();if(_.success&&_.pdfBase64){const S=atob(_.pdfBase64),y=new Array(S.length);for(let N=0;N<S.length;N++)y[N]=S.charCodeAt(N);const E=new Uint8Array(y);return{blob:new Blob([E],{type:"application/pdf"}),fileName:c.replace(/\//g,"_")}}throw new Error(_.error||"El servidor no devolvi el PDF")},bv=(r,e)=>{const s=URL.createObjectURL(r),a=document.createElement("a");a.href=s,a.download=e,a.style.display="none",document.body.appendChild(a),a.click(),setTimeout(()=>{document.body.removeChild(a),URL.revokeObjectURL(s)},500)},yv=async(r,e,s)=>{const a={success:0,failed:0,errors:[]},o=r.length,c=[];rp.info(`Iniciando generacin masiva de ${o} PDFs (modo: ${e})`);for(let u=0;u<r.length;u++){const p=r[u],m=`${p.solicitudType} ${p.acto}  ${p.funcionario}`;s==null||s({current:u+1,total:o,currentFile:m,status:"generating"});try{const b=await $4(p);b&&(a.success++,e==="individual"&&(s==null||s({current:u+1,total:o,currentFile:m,status:"downloading"}),bv(b.blob,`${b.fileName}.pdf`)),c.push(b))}catch(b){a.failed++,a.errors.push({id:p.id,decreto:p.acto,funcionario:p.funcionario,error:b instanceof Error?b.message:"Error desconocido"})}u<r.length-1&&await new Promise(b=>setTimeout(b,600))}if(e==="zip"&&c.length>0){s==null||s({current:o,total:o,currentFile:"Comprimiendo archivos...",status:"zipping"});try{const u=new B4,p=u.folder("Decretos-GDP");c.forEach(x=>{p==null||p.file(`${x.fileName}.pdf`,x.blob)});const m=await u.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:6}}),b=new Date().toISOString().split("T")[0];bv(m,`Decretos-GDP_${b}.zip`)}catch(u){rp.error("Error al generar ZIP:",u)}}return rp.info(`Completado: ${a.success} xitos, ${a.failed} fallos`),s==null||s({current:o,total:o,currentFile:"",status:"done",result:a}),a},X6=async(r,e="Reporte Dashboard GDP Cloud")=>{const s=document.getElementById(r);if(!s)throw new Error("Elemento del dashboard no encontrado");const a=window.open("","_blank","width=1200,height=800");if(!a)throw new Error("No se pudo abrir ventana de impresin");const o=new Date().toLocaleDateString("es-CL",{day:"2-digit",month:"long",year:"numeric"}),c=Array.from(document.styleSheets).map(u=>{try{return Array.from(u.cssRules).map(p=>p.cssText).join(`
`)}catch{return""}}).join(`
`);a.document.write(`
    <!DOCTYPE html>
    <html>
    <head>
      <title>${e}</title>
      <style>
        ${c}
        
        @media print {
          body { 
            padding: 20px;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
          }
          .no-print { display: none !important; }
        }
        
        body {
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
          background: white;
          color: #1e293b;
          padding: 40px;
        }
        
        .report-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 30px;
          padding-bottom: 20px;
          border-bottom: 2px solid #e2e8f0;
        }
        
        .report-title {
          font-size: 24px;
          font-weight: 800;
          color: #1e293b;
        }
        
        .report-date {
          font-size: 12px;
          color: #64748b;
        }
        
        .report-content {
          margin-top: 20px;
        }
      </style>
    </head>
    <body>
      <div class="report-header">
        <div>
          <h1 class="report-title">${e}</h1>
          <p class="report-date">Generado el ${o}</p>
        </div>
        <div>
          <img src="/logo.png" alt="GDP Cloud" style="height: 40px; opacity: 0.7;" onerror="this.style.display='none'" />
        </div>
      </div>
      <div class="report-content">
        ${s.innerHTML}
      </div>
      <script>
        window.onload = function() {
          setTimeout(function() {
            window.print();
            window.close();
          }, 500);
        };
      <\/script>
    </body>
    </html>
  `),a.document.close()},C_=Zs.memo(({currentPage:r,totalPages:e,totalItems:s,itemsPerPage:a,onPageChange:o})=>{const[c,u]=J.useState(window.innerWidth<640);J.useEffect(()=>{const E=()=>u(window.innerWidth<640);return window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]);const p=(r-1)*a+1,m=Math.min(r*a,s),b=J.useMemo(()=>{const E=[];if(e<=(c?3:5))for(let N=1;N<=e;N++)E.push(N);else{E.push(1),r>3&&E.push("...");for(let N=Math.max(2,r-1);N<=Math.min(e-1,r+1);N++)E.push(N);r<e-2&&E.push("..."),E.push(e)}return E},[r,e,c]),x=J.useCallback(()=>o(1),[o]),_=J.useCallback(()=>o(r-1),[o,r]),S=J.useCallback(()=>o(r+1),[o,r]),y=J.useCallback(()=>o(e),[o,e]);return e<=1?null:h.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mt-6 px-2",children:[h.jsxs("div",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:["Mostrando ",h.jsxs("span",{className:"text-slate-700 dark:text-slate-200",children:[p,"-",m]})," de"," ",h.jsx("span",{className:"text-slate-700 dark:text-slate-200",children:s})," registros"]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("button",{onClick:x,disabled:r===1,className:"hidden sm:block p-2 rounded-lg bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700 disabled:opacity-40 disabled:cursor-not-allowed transition-all","aria-label":"Primera pgina",children:h.jsx(KT,{size:16,"aria-hidden":"true"})}),h.jsx("button",{onClick:_,disabled:r===1,className:"p-2 rounded-lg bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700 disabled:opacity-40 disabled:cursor-not-allowed transition-all","aria-label":"Pgina anterior",children:h.jsx(FT,{size:16,"aria-hidden":"true"})}),h.jsx("div",{className:"flex items-center gap-1 mx-2",children:b.map((E,k)=>typeof E=="number"?h.jsx("button",{onClick:()=>o(E),className:`w-8 h-8 sm:w-9 sm:h-9 rounded-lg text-[10px] sm:text-xs font-bold transition-all ${r===E?"bg-indigo-600 text-white shadow-lg shadow-indigo-200 dark:shadow-indigo-900/50":"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:E},k):h.jsx("span",{className:"px-2 text-slate-400",children:E},k))}),h.jsx("button",{onClick:S,disabled:r===e,className:"p-2 rounded-lg bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700 disabled:opacity-40 disabled:cursor-not-allowed transition-all","aria-label":"Pgina siguiente",children:h.jsx(g_,{size:16,"aria-hidden":"true"})}),h.jsx("button",{onClick:y,disabled:r===e,className:"hidden sm:block p-2 rounded-lg bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700 disabled:opacity-40 disabled:cursor-not-allowed transition-all","aria-label":"ltima pgina",children:h.jsx(YT,{size:16,"aria-hidden":"true"})})]})]})});C_.displayName="Pagination";const F4=({record:r,onEdit:e,onDelete:s,onGeneratePDF:a,onPreview:o})=>{const[c,u]=J.useState(!1),p=J.useRef(null);J.useEffect(()=>{const b=x=>{p.current&&!p.current.contains(x.target)&&u(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const m=[...o?[{icon:sc,label:"Previsualizar",onClick:()=>o(r),color:"text-purple-600 dark:text-purple-400",bg:"hover:bg-purple-50 dark:hover:bg-purple-900/30"}]:[],{icon:g5,label:"Ver PDF",onClick:()=>a(r,!0),color:"text-rose-600 dark:text-rose-400",bg:"hover:bg-rose-50 dark:hover:bg-rose-900/30"},{icon:y5,label:"Abrir en Drive",onClick:()=>a(r,!1),color:"text-sky-600 dark:text-sky-400",bg:"hover:bg-sky-50 dark:hover:bg-sky-900/30"},...e?[{icon:W5,label:"Modificar",onClick:()=>e(r),color:"text-amber-600 dark:text-amber-400",bg:"hover:bg-amber-50 dark:hover:bg-amber-900/30"}]:[],...s?[{icon:f4,label:"Eliminar",onClick:()=>s(r.id),color:"text-red-600 dark:text-red-400",bg:"hover:bg-red-50 dark:hover:bg-red-900/30",divider:!0}]:[]];return h.jsxs("div",{className:"relative",ref:p,children:[h.jsx("button",{onClick:()=>u(!c),className:"p-2.5 bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400 rounded-xl hover:bg-slate-200 dark:hover:bg-slate-600 transition-all active:scale-90",children:h.jsx(h5,{size:16})}),c&&h.jsx("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl shadow-2xl z-50 overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:m.map((b,x)=>h.jsxs(Zs.Fragment,{children:[b.divider&&h.jsx("div",{className:"border-t border-slate-100 dark:border-slate-700 my-1"}),h.jsxs("button",{onClick:()=>{b.onClick(),u(!1)},className:`w-full flex items-center gap-3 px-4 py-3 text-left transition-colors ${b.bg}`,children:[h.jsx(b.icon,{className:`w-4 h-4 ${b.color}`}),h.jsx("span",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:b.label})]})]},x))})]})},V4=({filters:r,onFiltersChange:e,onReset:s})=>{const[a,o]=J.useState(!1),c=Object.values(r).some(p=>p!==""),u=(p,m)=>{e({...r,[p]:m})};return h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:[h.jsxs("button",{onClick:()=>o(!a),className:"w-full flex items-center justify-between px-4 py-3 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:`p-2 rounded-lg ${c?"bg-indigo-100 dark:bg-indigo-900/50 text-indigo-600 dark:text-indigo-400":"bg-slate-100 dark:bg-slate-700 text-slate-400"}`,children:h.jsx(E5,{size:16})}),h.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:"Filtros Avanzados"}),c&&h.jsx("span",{className:"px-2 py-0.5 bg-indigo-100 dark:bg-indigo-900/50 text-indigo-600 dark:text-indigo-400 text-[10px] font-black rounded-full uppercase",children:"Activos"})]}),h.jsx("div",{className:`transform transition-transform ${a?"rotate-180":""}`,children:h.jsx("svg",{className:"w-5 h-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),a&&h.jsxs("div",{className:"px-4 pb-4 pt-2 border-t border-slate-100 dark:border-slate-700 space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-wider mb-2 block",children:"Fecha desde"}),h.jsxs("div",{className:"relative",children:[h.jsx(bi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),h.jsx("input",{type:"date",value:r.dateFrom,onChange:p=>u("dateFrom",p.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-xl text-sm font-medium text-slate-700 dark:text-slate-200 outline-none focus:border-indigo-400 focus:ring-2 focus:ring-indigo-50 dark:focus:ring-indigo-900/50"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-wider mb-2 block",children:"Fecha hasta"}),h.jsxs("div",{className:"relative",children:[h.jsx(bi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),h.jsx("input",{type:"date",value:r.dateTo,onChange:p=>u("dateTo",p.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-xl text-sm font-medium text-slate-700 dark:text-slate-200 outline-none focus:border-indigo-400 focus:ring-2 focus:ring-indigo-50 dark:focus:ring-indigo-900/50"})]})]})]}),h.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-wider mb-2 block",children:"Das mn."}),h.jsx("input",{type:"number",min:"0",step:"0.5",value:r.minDays,onChange:p=>u("minDays",p.target.value),placeholder:"0",className:"w-full px-4 py-2.5 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-xl text-sm font-medium text-slate-700 dark:text-slate-200 outline-none focus:border-indigo-400 focus:ring-2 focus:ring-indigo-50 dark:focus:ring-indigo-900/50 text-center"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-wider mb-2 block",children:"Das mx."}),h.jsx("input",{type:"number",min:"0",step:"0.5",value:r.maxDays,onChange:p=>u("maxDays",p.target.value),placeholder:"30",className:"w-full px-4 py-2.5 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-xl text-sm font-medium text-slate-700 dark:text-slate-200 outline-none focus:border-indigo-400 focus:ring-2 focus:ring-indigo-50 dark:focus:ring-indigo-900/50 text-center"})]}),h.jsxs("div",{className:"col-span-2",children:[h.jsx("label",{className:"text-[10px] font-black text-slate-400 dark:text-slate-500 uppercase tracking-wider mb-2 block",children:"Materia"}),h.jsxs("select",{value:r.materia,onChange:p=>u("materia",p.target.value),className:"w-full px-4 py-2.5 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-xl text-sm font-medium text-slate-700 dark:text-slate-200 outline-none focus:border-indigo-400 focus:ring-2 focus:ring-indigo-50 dark:focus:ring-indigo-900/50 cursor-pointer",children:[h.jsx("option",{value:"",children:"Todas las materias"}),h.jsx("option",{value:"Decreto Exento",children:"Decreto Exento"}),h.jsx("option",{value:"Resolucin Exenta",children:"Resolucin Exenta"}),h.jsx("option",{value:"Decreto",children:"Decreto"}),h.jsx("option",{value:"Resolucin",children:"Resolucin"})]})]})]}),c&&h.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 text-slate-600 dark:text-slate-300 rounded-xl transition-colors text-sm font-bold",children:[h.jsx(e4,{size:14}),"Limpiar filtros"]})]})]})},H4=({isOpen:r,onClose:e,record:s,onConfirm:a})=>{if(!r||!s)return null;const o=s.solicitudType==="FL",c=s.saldoDisponibleP1??0,u=s.solicitadoP1??s.cantidadDias??0,p=s.saldoFinalP1??c-u,m=s.saldoDisponibleP2??0,b=s.solicitadoP2??0,x=s.saldoFinalP2??m-b,_=N_(s),y=(o?_?x:p:s.diasHaber-s.cantidadDias).toFixed(1),E=d0(s.funcionario);return h.jsxs("div",{className:"fixed inset-0 z-[160] flex items-center justify-center p-4",onClick:e,children:[h.jsx("div",{className:"absolute inset-0 bg-slate-900/70 backdrop-blur-sm"}),h.jsxs("div",{className:"relative w-full max-w-2xl max-h-[90vh] bg-white dark:bg-slate-800 rounded-2xl sm:rounded-3xl shadow-2xl overflow-hidden flex flex-col",onClick:k=>k.stopPropagation(),children:[h.jsx("div",{className:"bg-gradient-to-r from-slate-800 to-slate-900 p-4 sm:p-6 text-white",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[h.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-white/10 rounded-xl sm:rounded-2xl flex items-center justify-center",children:h.jsx(rc,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-base sm:text-lg font-bold",children:"Previsualizacin del Decreto"}),h.jsx("p",{className:"text-[10px] sm:text-xs opacity-70",children:"Revisa los datos antes de generar"})]})]}),h.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:h.jsx(qn,{className:"w-5 h-5"})})]})}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:[h.jsxs("div",{className:"text-center mb-8 pb-6 border-b-2 border-dashed border-slate-200 dark:border-slate-700",children:[h.jsx("p",{className:"text-xs text-slate-400 uppercase tracking-widest mb-2",children:"Repblica de Chile"}),h.jsx("h3",{className:"text-2xl font-black text-slate-900 dark:text-white tracking-tight",children:s.materia.toUpperCase()}),h.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 px-4 py-2 bg-indigo-50 dark:bg-indigo-900/30 rounded-full",children:[h.jsx(__,{className:"w-4 h-4 text-indigo-600"}),h.jsx("span",{className:"text-lg font-black text-indigo-600 dark:text-indigo-400",children:s.acto})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx("div",{className:"col-span-2 bg-slate-50 dark:bg-slate-700/50 p-4 rounded-2xl",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-indigo-100 dark:bg-indigo-900/50 rounded-xl flex items-center justify-center",children:h.jsx(ui,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-wider",children:"Funcionario"}),h.jsx("p",{className:"text-lg font-bold text-slate-900 dark:text-white",children:E}),h.jsx("p",{className:"text-xs text-slate-500",children:s.rut})]})]})}),h.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-2xl",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${s.solicitudType==="PA"?"bg-indigo-100 dark:bg-indigo-900/50":"bg-amber-100 dark:bg-amber-900/50"}`,children:h.jsx(DT,{className:`w-5 h-5 ${s.solicitudType==="PA"?"text-indigo-600":"text-amber-600"}`})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-wider",children:"Tipo"}),h.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:s.solicitudType==="PA"?"Permiso Administrativo":"Feriado Legal"})]})]})}),h.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-2xl",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-emerald-100 dark:bg-emerald-900/50 rounded-xl flex items-center justify-center",children:h.jsx(bi,{className:"w-5 h-5 text-emerald-600"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-wider",children:"Fecha de Inicio"}),h.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:Ts(s.fechaInicio)})]})]})}),o&&h.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-2xl",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-emerald-100 dark:bg-emerald-900/50 rounded-xl flex items-center justify-center",children:h.jsx(bi,{className:"w-5 h-5 text-emerald-600"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-wider",children:"Fecha de Trmino"}),h.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:Ts(s.fechaTermino||"")})]})]})}),h.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-2xl",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-sky-100 dark:bg-sky-900/50 rounded-xl flex items-center justify-center",children:h.jsx(f0,{className:"w-5 h-5 text-sky-600"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-wider",children:"Cantidad de Das"}),h.jsxs("p",{className:"font-bold text-slate-900 dark:text-white",children:[s.cantidadDias," da(s)"]}),h.jsx("p",{className:"text-xs text-slate-500",children:o?"Feriado Legal":s.tipoJornada})]})]})}),h.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-2xl",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-purple-100 dark:bg-purple-900/50 rounded-xl flex items-center justify-center",children:h.jsx(av,{className:"w-5 h-5 text-purple-600"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-wider",children:o?"Perodo 1":"Perodo"}),h.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:o?s.periodo1||"":s.periodo})]})]})}),o&&_&&h.jsx("div",{className:"bg-slate-50 dark:bg-slate-700/50 p-4 rounded-2xl",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-purple-100 dark:bg-purple-900/50 rounded-xl flex items-center justify-center",children:h.jsx(av,{className:"w-5 h-5 text-purple-600"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-wider",children:"Perodo 2"}),h.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:s.periodo2||""})]})]})})]}),h.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-slate-100 to-slate-50 dark:from-slate-700 dark:to-slate-700/50 rounded-2xl border border-slate-200 dark:border-slate-600",children:o?h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[h.jsxs("div",{className:"bg-white/70 dark:bg-slate-800/60 rounded-xl p-3",children:[h.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-wider mb-2",children:"Perodo 1"}),h.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-[9px] text-slate-400 uppercase tracking-wider",children:"Disponible"}),h.jsx("p",{className:"text-lg font-black text-slate-700 dark:text-slate-200",children:c.toFixed(1)})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-[9px] text-slate-400 uppercase tracking-wider",children:"Solicitado"}),h.jsxs("p",{className:"text-lg font-black text-indigo-600",children:["-",u.toFixed(1)]})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-[9px] text-slate-400 uppercase tracking-wider",children:"Saldo Final"}),h.jsx("p",{className:`text-lg font-black ${p<0?"text-red-500":p<2?"text-amber-500":"text-emerald-500"}`,children:p.toFixed(1)})]})]})]}),_&&h.jsxs("div",{className:"bg-white/70 dark:bg-slate-800/60 rounded-xl p-3",children:[h.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-wider mb-2",children:"Perodo 2"}),h.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-[9px] text-slate-400 uppercase tracking-wider",children:"Disponible"}),h.jsx("p",{className:"text-lg font-black text-slate-700 dark:text-slate-200",children:m.toFixed(1)})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-[9px] text-slate-400 uppercase tracking-wider",children:"Solicitado"}),h.jsxs("p",{className:"text-lg font-black text-indigo-600",children:["-",b.toFixed(1)]})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-[9px] text-slate-400 uppercase tracking-wider",children:"Saldo Final"}),h.jsx("p",{className:`text-lg font-black ${x<0?"text-red-500":x<2?"text-amber-500":"text-emerald-500"}`,children:x.toFixed(1)})]})]})]})]}):h.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-4 text-center",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-wider",children:"Das Haber"}),h.jsx("p",{className:"text-xl sm:text-2xl font-black text-slate-600 dark:text-slate-300",children:s.diasHaber})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-wider",children:"Solicitados"}),h.jsxs("p",{className:"text-xl sm:text-2xl font-black text-indigo-600",children:["-",s.cantidadDias]})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-wider",children:"Saldo Final"}),h.jsx("p",{className:`text-xl sm:text-2xl font-black ${parseFloat(y)<0?"text-red-500":parseFloat(y)<2?"text-amber-500":"text-emerald-500"}`,children:y})]})]})}),h.jsxs("div",{className:"mt-4 flex gap-4",children:[h.jsxs("div",{className:"flex-1 bg-slate-50 dark:bg-slate-700/50 p-3 rounded-xl",children:[h.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-wider",children:"R.A."}),h.jsx("p",{className:"font-bold text-slate-700 dark:text-slate-300",children:s.ra})]}),h.jsxs("div",{className:"flex-1 bg-slate-50 dark:bg-slate-700/50 p-3 rounded-xl",children:[h.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-wider",children:"Emite"}),h.jsx("p",{className:"font-bold text-slate-700 dark:text-slate-300",children:s.emite})]})]})]}),h.jsxs("div",{className:"p-4 sm:p-6 bg-slate-50 dark:bg-slate-800/50 border-t border-slate-200 dark:border-slate-700 flex flex-col sm:flex-row gap-3",children:[h.jsx("button",{onClick:e,className:"flex-1 px-6 py-3 bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-xl font-bold text-sm hover:bg-slate-300 dark:hover:bg-slate-600 transition-colors",children:"Cancelar"}),h.jsxs("button",{onClick:a,className:"flex-1 px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-bold text-sm hover:from-indigo-700 hover:to-purple-700 transition-all shadow-lg shadow-indigo-200 dark:shadow-indigo-900/30 flex items-center justify-center gap-2",children:[h.jsx(rc,{className:"w-4 h-4"}),"Generar Documento"]})]})]})]})},vv={dateFrom:"",dateTo:"",minDays:"",maxDays:"",materia:""},ed=r=>r.solicitudType!=="FL"?r.diasHaber-r.cantidadDias:Ud(r,0),q4=({data:r,activeTab:e,onDelete:s,onEdit:a,searchTerm:o,onSearchTermChange:c,canEdit:u=!0,canDelete:p=!0})=>{const[m,b]=J.useState(o||""),[x,_]=J.useState(null),[S,y]=J.useState("desc"),[E,k]=J.useState(1),[N,C]=J.useState(vv),[L,P]=J.useState(null),[V,q]=J.useState(new Set),[G,O]=J.useState(!1),[j,I]=J.useState(null),$=Z=>{x===Z?y(S==="asc"?"desc":"asc"):(_(Z),y("asc")),k(1)},H=J.useMemo(()=>r.filter(Z=>{const re=m.toLowerCase(),we=Z.funcionario.toLowerCase().includes(re)||Z.acto.toLowerCase().includes(re)||Z.rut.includes(re),Re=e==="ALL"||Z.solicitudType===e;let Ee=!0;return N.dateFrom&&Z.fechaInicio<N.dateFrom&&(Ee=!1),N.dateTo&&Z.fechaInicio>N.dateTo&&(Ee=!1),N.minDays&&Z.cantidadDias<Number(N.minDays)&&(Ee=!1),N.maxDays&&Z.cantidadDias>Number(N.maxDays)&&(Ee=!1),N.materia&&Z.materia!==N.materia&&(Ee=!1),we&&Re&&Ee}).sort((Z,re)=>{if(!x)return gi(Z,re);let we,Re;switch(x){case"acto":we=Z.acto,Re=re.acto;break;case"funcionario":we=Z.funcionario.toLowerCase(),Re=re.funcionario.toLowerCase();break;case"solicitudType":we=Z.solicitudType,Re=re.solicitudType;break;case"fechaInicio":we=new Date(Z.fechaInicio).getTime(),Re=new Date(re.fechaInicio).getTime();break;case"cantidadDias":we=Z.cantidadDias,Re=re.cantidadDias;break;case"saldo":we=ed(Z),Re=ed(re);break;case"fechaDecreto":we=new Date(Z.fechaDecreto||"").getTime()||0,Re=new Date(re.fechaDecreto||"").getTime()||0;break;default:return 0}return we<Re?S==="asc"?-1:1:we>Re?S==="asc"?1:-1:0}),[r,m,e,x,S,N]),R=H.length,U=Math.ceil(R/Dt.ITEMS_PER_PAGE),D=J.useMemo(()=>{const Z=(E-1)*Dt.ITEMS_PER_PAGE;return H.slice(Z,Z+Dt.ITEMS_PER_PAGE)},[H,E]);Zs.useEffect(()=>{o!==void 0&&o!==m&&b(o)},[o,m]),Zs.useEffect(()=>{k(1)},[m,e,N]);const me=J.useCallback(Z=>{q(re=>{const we=new Set(re);return we.has(Z)?we.delete(Z):we.add(Z),we})},[]),te=J.useCallback(()=>{V.size===H.length?q(new Set):q(new Set(H.map(Z=>Z.id)))},[H,V.size]),Q=J.useCallback(()=>{q(new Set)},[]),ve=J.useCallback(async Z=>{const re=H.filter(we=>V.has(we.id));if(re.length!==0){O(!0),I({current:0,total:re.length,currentFile:"",status:"generating"});try{await yv(re,Z,we=>{I(we)})}finally{setTimeout(()=>{O(!1),I(null),Q()},2500)}}},[H,V,Q]),ie=J.useCallback(({field:Z})=>x!==Z?h.jsx(NT,{size:10,className:"opacity-20 ml-auto group-hover:opacity-100 transition-opacity"}):S==="asc"?h.jsx(qT,{size:12,className:"ml-auto text-indigo-500"}):h.jsx(h0,{size:12,className:"ml-auto text-indigo-500"}),[x,S]),se=J.useCallback(async(Z,re)=>{if(!G){O(!0),I({current:0,total:1,currentFile:"",status:"generating"});try{await yv([Z],"individual",we=>{I(we)})}finally{setTimeout(()=>{O(!1),I(null)},2500)}}},[G]),X=J.useCallback(Z=>{P(Z)},[]),K=J.useCallback(()=>{P(null)},[]),ee=J.useCallback(()=>{L&&(se(L,!0),P(null))},[L,se]);return h.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[V.size>0&&h.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-indigo-700 text-white px-4 sm:px-5 py-3.5 rounded-2xl flex items-center justify-between shadow-xl page-fade-in",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("div",{className:"flex items-center gap-2 bg-white/15 px-3 py-1.5 rounded-xl",children:[h.jsx(np,{size:14}),h.jsx("span",{className:"text-xs font-black",children:V.size})]}),h.jsxs("span",{className:"text-[11px] font-bold text-white/70 uppercase tracking-wider hidden sm:inline",children:["seleccionado",V.size>1?"s":""]}),h.jsx("button",{onClick:Q,className:"p-1.5 hover:bg-white/20 rounded-lg transition-colors",title:"Deseleccionar",children:h.jsx(qn,{size:14})})]}),h.jsx("div",{className:"flex items-center gap-2",children:!G&&h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:()=>ve("individual"),className:"flex items-center gap-2 px-3.5 py-2 bg-white text-indigo-600 rounded-xl text-[10px] sm:text-[11px] font-black hover:bg-indigo-50 transition-all active:scale-95 shadow-lg uppercase tracking-wider",title:"Cada decreto se descarga individualmente apenas se genera",children:[h.jsx(y_,{size:14}),h.jsx("span",{className:"hidden sm:inline",children:"Descargar "}),"Uno a uno"]}),h.jsxs("button",{onClick:()=>ve("zip"),className:"flex items-center gap-2 px-3.5 py-2 bg-emerald-500 text-white rounded-xl text-[10px] sm:text-[11px] font-black hover:bg-emerald-400 transition-all active:scale-95 shadow-lg uppercase tracking-wider",title:"Todos los decretos se descargan en un solo archivo ZIP",children:[h.jsx(Ap,{size:14}),h.jsx("span",{className:"hidden sm:inline",children:"Descargar "}),"ZIP"]})]})})]}),G&&j&&h.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 notification-backdrop-enter",children:[h.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md"}),h.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-slate-800 rounded-3xl shadow-2xl overflow-hidden notification-panel-enter",children:[h.jsxs("div",{className:"relative overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-600 via-indigo-700 to-purple-800"}),h.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top_right,_var(--tw-gradient-stops))] from-white/10 via-transparent to-transparent"}),h.jsxs("div",{className:"relative p-6 text-white",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("div",{className:"p-2.5 bg-white/10 backdrop-blur rounded-xl ring-1 ring-white/20",children:j.status==="done"?h.jsx(wc,{className:"w-5 h-5 text-emerald-300"}):j.status==="zipping"?h.jsx(Ap,{className:"w-5 h-5 animate-pulse"}):h.jsx(rc,{className:"w-5 h-5"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-black uppercase tracking-wider",children:"GDP Cloud"}),h.jsx("p",{className:"text-[10px] font-bold text-white/80 tracking-wide mt-0.5",children:"Espere un momento se est generando el decreto"})]})]}),h.jsxs("div",{className:"text-3xl font-black mb-3",children:[j.current," ",h.jsxs("span",{className:"text-base font-bold text-white/40",children:["/ ",j.total]})]}),h.jsx("div",{className:"h-2 bg-white/10 rounded-full overflow-hidden",children:h.jsx("div",{className:"h-full bg-gradient-to-r from-emerald-400 to-cyan-400 rounded-full transition-all duration-500 ease-out",style:{width:`${j.current/j.total*100}%`}})})]})]}),h.jsxs("div",{className:"p-5",children:[j.status!=="done"&&j.currentFile&&h.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-3.5 border border-blue-200 dark:border-blue-800/40",children:[h.jsx("p",{className:"text-[9px] font-black text-blue-600 dark:text-blue-300 uppercase tracking-widest mb-1",children:j.status==="downloading"?" Descargando":j.status==="zipping"?" Empaquetando":" Procesando"}),h.jsx("p",{className:"text-[11px] font-bold text-blue-700 dark:text-blue-200 truncate",children:j.currentFile})]}),j.status==="done"&&j.result&&h.jsxs("div",{className:"space-y-3",children:[h.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-3 border border-blue-200 dark:border-blue-800/40",children:h.jsx("p",{className:"text-[11px] font-bold text-blue-700 dark:text-blue-200 text-center",children:"GDP Cloud - Espere un momento se est generando el decreto"})}),h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("div",{className:"flex-1 bg-blue-50 dark:bg-blue-900/20 rounded-xl p-3 text-center border border-blue-200 dark:border-blue-800/40",children:[h.jsx("p",{className:"text-lg font-black text-blue-700 dark:text-blue-300",children:j.result.success}),h.jsx("p",{className:"text-[9px] font-bold text-blue-600/80 uppercase tracking-widest",children:"Exitosos"})]}),j.result.failed>0&&h.jsxs("div",{className:"flex-1 bg-red-50 dark:bg-red-900/20 rounded-xl p-3 text-center border border-red-100 dark:border-red-800/50",children:[h.jsx("p",{className:"text-lg font-black text-red-600 dark:text-red-400",children:j.result.failed}),h.jsx("p",{className:"text-[9px] font-bold text-red-500/70 uppercase tracking-widest",children:"Con error"})]})]}),j.result.errors.length>0&&h.jsx("div",{className:"space-y-1.5 max-h-32 overflow-y-auto custom-scrollbar",children:j.result.errors.map((Z,re)=>h.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-100 dark:border-red-800/50",children:[h.jsx(Do,{size:12,className:"text-red-500 shrink-0"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("p",{className:"text-[10px] font-bold text-red-700 dark:text-red-300 truncate",children:[Z.decreto,"  ",Z.funcionario]}),h.jsx("p",{className:"text-[9px] text-red-500/70 truncate",children:Z.error})]})]},re))}),h.jsx("p",{className:"text-[10px] text-slate-400 dark:text-slate-500 text-center font-bold uppercase tracking-wider",children:"Cerrando automticamente..."})]})]})]})]}),h.jsxs("div",{className:"relative max-w-2xl",children:[h.jsxs("div",{className:"absolute left-4 sm:left-5 top-1/2 -translate-y-1/2 p-1.5 sm:p-2 bg-indigo-50 dark:bg-indigo-900/50 rounded-lg text-indigo-600 dark:text-indigo-400",children:[h.jsx(Cp,{size:16,className:"sm:hidden"}),h.jsx(Cp,{size:18,className:"hidden sm:block"})]}),h.jsx("input",{placeholder:"Buscar decreto, funcionario o RUT...",className:"w-full pl-12 sm:pl-14 pr-4 sm:pr-6 py-3.5 sm:py-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl shadow-lg outline-none focus:ring-4 focus:ring-indigo-50 dark:focus:ring-indigo-900/50 focus:border-indigo-200 dark:focus:border-indigo-700 transition-all font-bold text-[11px] sm:text-xs uppercase tracking-wide sm:tracking-widest text-slate-700 dark:text-slate-200 placeholder:text-slate-300 dark:placeholder:text-slate-600",value:m,onChange:Z=>{const re=Z.target.value;b(re),c==null||c(re)}})]}),h.jsx(V4,{filters:N,onFiltersChange:C,onReset:()=>C(vv)}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl sm:rounded-[2rem] shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden",children:[h.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:h.jsxs("table",{className:"w-full text-left border-collapse table-auto",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"bg-slate-50/50 dark:bg-slate-900/50 border-b border-slate-100 dark:border-slate-700",children:[h.jsx("th",{className:"pl-4 sm:pl-6 py-4 sm:py-6 w-8",children:h.jsx("button",{onClick:te,className:"p-1 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-lg transition-colors",children:V.size>0&&V.size===H.length?h.jsx(np,{size:18,className:"text-indigo-600 dark:text-indigo-400"}):h.jsx(dv,{size:18,className:"text-slate-300 dark:text-slate-600"})})}),h.jsx("th",{onClick:()=>$("acto"),className:"pr-2 sm:pr-3 py-4 sm:py-6 text-[10px] sm:text-[11px] font-black uppercase tracking-wider sm:tracking-[0.2em] text-slate-400 dark:text-slate-500 cursor-pointer hover:bg-white dark:hover:bg-slate-800 transition-colors group select-none",children:h.jsxs("div",{className:"flex items-center gap-2",children:["Decreto ",h.jsx(ie,{field:"acto"})]})}),h.jsx("th",{onClick:()=>$("funcionario"),className:"px-2 sm:px-3 py-4 sm:py-6 text-[10px] sm:text-[11px] font-black uppercase tracking-wider sm:tracking-[0.2em] text-slate-400 dark:text-slate-500 cursor-pointer hover:bg-white dark:hover:bg-slate-800 transition-colors group select-none",children:h.jsxs("div",{className:"flex items-center gap-2",children:["Funcionario ",h.jsx(ie,{field:"funcionario"})]})}),h.jsx("th",{onClick:()=>$("solicitudType"),className:"px-2 sm:px-3 py-4 sm:py-6 text-[10px] sm:text-[11px] font-black uppercase tracking-wider sm:tracking-[0.2em] text-slate-400 dark:text-slate-500 cursor-pointer hover:bg-white dark:hover:bg-slate-800 transition-colors group select-none hidden sm:table-cell",children:h.jsxs("div",{className:"flex items-center gap-2",children:["Tipo ",h.jsx(ie,{field:"solicitudType"})]})}),(e==="FL"||e==="ALL")&&h.jsx("th",{className:"px-2 sm:px-3 py-4 sm:py-6 text-[10px] sm:text-[11px] font-black uppercase tracking-wider sm:tracking-[0.2em] text-slate-400 dark:text-slate-500 hidden md:table-cell",children:h.jsx("div",{className:"flex items-center gap-2",children:"Perodo"})}),h.jsx("th",{onClick:()=>$("cantidadDias"),className:"px-2 sm:px-3 py-4 sm:py-6 text-[10px] sm:text-[11px] font-black uppercase tracking-wider sm:tracking-[0.2em] text-slate-400 dark:text-slate-500 cursor-pointer hover:bg-white dark:hover:bg-slate-800 transition-colors group select-none",children:h.jsxs("div",{className:"flex items-center gap-2",children:["Das ",h.jsx(ie,{field:"cantidadDias"})]})}),h.jsx("th",{onClick:()=>$("saldo"),className:"px-2 sm:px-3 py-4 sm:py-6 text-[10px] sm:text-[11px] font-black uppercase tracking-wider sm:tracking-[0.2em] text-slate-400 dark:text-slate-500 cursor-pointer hover:bg-white dark:hover:bg-slate-800 transition-colors group select-none hidden sm:table-cell",children:h.jsxs("div",{className:"flex items-center gap-2",children:["Saldo ",h.jsx(ie,{field:"saldo"})]})}),h.jsx("th",{onClick:()=>$("fechaInicio"),className:"px-2 sm:px-3 py-4 sm:py-6 text-[10px] sm:text-[11px] font-black uppercase tracking-wider sm:tracking-[0.2em] text-slate-400 dark:text-slate-500 cursor-pointer hover:bg-white dark:hover:bg-slate-800 transition-colors group select-none hidden sm:table-cell",children:h.jsxs("div",{className:"flex items-center gap-2",children:["Inicio ",h.jsx(ie,{field:"fechaInicio"})]})}),(e==="FL"||e==="ALL")&&h.jsx("th",{className:"px-2 sm:px-3 py-4 sm:py-6 text-[10px] sm:text-[11px] font-black uppercase tracking-wider sm:tracking-[0.2em] text-slate-400 dark:text-slate-500 hidden lg:table-cell",children:h.jsx("div",{className:"flex items-center gap-2",children:"Trmino"})}),h.jsx("th",{onClick:()=>$("fechaDecreto"),className:"px-2 sm:px-3 py-4 sm:py-6 text-[10px] sm:text-[11px] font-black uppercase tracking-wider sm:tracking-[0.2em] text-slate-400 dark:text-slate-500 cursor-pointer hover:bg-white dark:hover:bg-slate-800 transition-colors group select-none hidden lg:table-cell",children:h.jsxs("div",{className:"flex items-center gap-2",children:["Emisin ",h.jsx(ie,{field:"fechaDecreto"})]})}),h.jsx("th",{className:"pl-2 sm:pl-3 pr-4 sm:pr-8 py-4 sm:py-6 text-[10px] sm:text-[11px] font-black uppercase tracking-wider sm:tracking-[0.2em] text-slate-400 dark:text-slate-500 text-right",children:"Acciones"})]})}),h.jsxs("tbody",{className:"divide-y divide-slate-50 dark:divide-slate-700/50",children:[D.map(Z=>{const re=V.has(Z.id);return h.jsxs("tr",{className:`hover:bg-indigo-50/20 dark:hover:bg-indigo-900/10 transition-all group/row ${re?"bg-indigo-50/40 dark:bg-indigo-900/20":""}`,children:[h.jsx("td",{className:"pl-4 sm:pl-6 py-4 sm:py-5 w-10",children:h.jsx("button",{onClick:we=>{we.stopPropagation(),me(Z.id)},className:"p-1.5 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-lg transition-colors",children:re?h.jsx(np,{size:18,className:"text-indigo-600 dark:text-indigo-400"}):h.jsx(dv,{size:18,className:"text-slate-300 dark:text-slate-600 hover:text-slate-400"})})}),h.jsx("td",{className:"pr-2 sm:pr-3 py-4 sm:py-5",children:h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"font-black text-indigo-600 dark:text-indigo-400 text-sm sm:text-[13px] tracking-tight",children:Z.acto}),h.jsx("span",{className:"text-[9px] sm:text-[10px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-tighter truncate max-w-[100px]",children:Z.materia})]})}),h.jsx("td",{className:"px-2 sm:px-3 py-4 sm:py-5",children:h.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[h.jsxs("div",{className:"hidden sm:flex w-8 h-8 sm:w-9 sm:h-9 rounded-xl bg-slate-100 dark:bg-slate-700 items-center justify-center text-slate-300 dark:text-slate-500 group-hover/row:bg-white dark:group-hover/row:bg-slate-600 group-hover/row:shadow-sm transition-all",children:[h.jsx(lv,{size:20,className:"sm:hidden"}),h.jsx(lv,{size:22,className:"hidden sm:block"})]}),h.jsxs("div",{className:"flex flex-col min-w-0",children:[h.jsx("p",{className:"text-[11px] sm:text-xs font-black text-slate-800 dark:text-white uppercase tracking-tight truncate max-w-[120px] sm:max-w-[150px] lg:max-w-xs",children:Z.funcionario}),h.jsx("p",{className:"text-[9px] sm:text-[10px] font-bold text-slate-400 dark:text-slate-500 font-mono tracking-tighter",children:Z.rut})]})]})}),h.jsx("td",{className:"px-2 sm:px-3 py-4 sm:py-5 hidden sm:table-cell",children:h.jsx("span",{className:`px-2 sm:px-3 py-1 rounded-lg text-[9px] sm:text-[10px] font-black uppercase tracking-wider sm:tracking-widest border shadow-sm ${Z.solicitudType==="PA"?"bg-indigo-50 dark:bg-indigo-900/40 text-indigo-700 dark:text-indigo-300 border-indigo-100 dark:border-indigo-800":"bg-amber-50 dark:bg-amber-900/40 text-amber-700 dark:text-amber-300 border-amber-100 dark:border-amber-800"}`,children:Z.solicitudType})}),(e==="FL"||e==="ALL")&&h.jsx("td",{className:"px-2 sm:px-3 py-4 sm:py-5 hidden md:table-cell",children:Z.solicitudType==="FL"?h.jsxs("div",{className:"flex flex-col gap-1",children:[Z.periodo1&&h.jsx("span",{className:"px-1.5 py-0.5 rounded text-[8px] sm:text-[9px] font-black tracking-wide bg-sky-50 dark:bg-sky-900/40 text-sky-700 dark:text-sky-300 border border-sky-100 dark:border-sky-800 whitespace-nowrap",children:Z.periodo1}),Z.periodo2&&h.jsx("span",{className:"px-1.5 py-0.5 rounded text-[8px] sm:text-[9px] font-black tracking-wide bg-purple-50 dark:bg-purple-900/40 text-purple-700 dark:text-purple-300 border border-purple-100 dark:border-purple-800 whitespace-nowrap",children:Z.periodo2}),!Z.periodo1&&!Z.periodo2&&h.jsx("span",{className:"text-[10px] text-slate-400",children:"-"})]}):h.jsx("span",{className:"text-[10px] text-slate-400",children:"-"})}),h.jsx("td",{className:"px-2 sm:px-3 py-4 sm:py-5",children:h.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[h.jsx("span",{className:"font-black text-slate-700 dark:text-slate-200 text-sm sm:text-[13px]",children:Z.cantidadDias}),h.jsx("span",{className:"text-[8px] sm:text-[9px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-tighter hidden lg:inline",children:"DAS"})]})}),h.jsx("td",{className:"px-2 sm:px-3 py-4 sm:py-5 hidden sm:table-cell",children:h.jsx("span",{className:`font-black text-sm sm:text-[13px] ${ed(Z)<0?"text-red-500 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"}`,children:ed(Z).toFixed(1)})}),h.jsx("td",{className:"px-2 sm:px-3 py-4 sm:py-5 hidden sm:table-cell",children:h.jsx("span",{className:"text-[11px] sm:text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-tight truncate whitespace-nowrap",children:ep(Z.fechaInicio)})}),(e==="FL"||e==="ALL")&&h.jsx("td",{className:"px-2 sm:px-3 py-4 sm:py-5 hidden lg:table-cell",children:h.jsx("span",{className:"text-[11px] sm:text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-tight truncate whitespace-nowrap",children:Z.fechaTermino?ep(Z.fechaTermino):"-"})}),h.jsx("td",{className:"px-2 sm:px-3 py-4 sm:py-5 hidden lg:table-cell",children:h.jsx("span",{className:"text-[11px] sm:text-xs font-bold text-indigo-500 dark:text-indigo-400 uppercase tracking-tight truncate whitespace-nowrap",children:Z.fechaDecreto?ep(Z.fechaDecreto):"-"})}),h.jsx("td",{className:"pl-2 sm:pl-3 pr-4 sm:pr-8 py-4 sm:py-5 text-right",children:h.jsx("div",{className:"flex justify-end",children:h.jsx(F4,{record:Z,onEdit:u?a:void 0,onDelete:p?s:void 0,onGeneratePDF:se,onPreview:X})})})]},Z.id)}),D.length===0&&h.jsx("tr",{children:h.jsx("td",{colSpan:10,className:"px-6 sm:px-10 py-16 sm:py-24 text-center",children:h.jsxs("div",{className:"flex flex-col items-center gap-4 opacity-20",children:[h.jsx(M5,{size:40}),h.jsx("p",{className:"text-[10px] sm:text-[11px] font-black uppercase tracking-[0.3em] sm:tracking-[0.4em]",children:"Sin registros que mostrar"})]})})})]})]})}),U>1&&h.jsx("div",{className:"px-4 sm:px-8 py-4 sm:py-6 border-t border-slate-100 dark:border-slate-700",children:h.jsx(C_,{currentPage:E,totalPages:U,totalItems:R,itemsPerPage:Dt.ITEMS_PER_PAGE,onPageChange:k})})]}),h.jsx("p",{className:"text-[9px] sm:text-[10px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider sm:tracking-widest text-center",children:R>0?`${R} registro${R!==1?"s":""} encontrado${R!==1?"s":""}`:"Desliza para ver ms detalles en dispositivos mviles"}),h.jsx(H4,{isOpen:L!==null,onClose:K,record:L,onConfirm:ee})]})},G4=J.memo(q4),j_=Zs.memo(({records:r,totalDatabaseEmployees:e})=>{const s=J.useMemo(()=>{const a=r.filter(m=>m.solicitudType==="PA"),o=r.filter(m=>m.solicitudType==="FL"),c=a.reduce((m,b)=>m+b.cantidadDias,0),u=o.reduce((m,b)=>m+b.cantidadDias,0),p=new Set(r.map(m=>m.rut)).size;return[{label:"Decretos PA",value:a.length,icon:I5,color:"text-indigo-700 dark:text-indigo-400",bg:"bg-indigo-50 dark:bg-indigo-900/40",sub:`${c} das`,borderColor:"border-indigo-100 dark:border-indigo-800/50"},{label:"Feriados FL",value:o.length,icon:Ad,color:"text-amber-700 dark:text-amber-400",bg:"bg-amber-50 dark:bg-amber-900/40",sub:`${u} das`,borderColor:"border-amber-100 dark:border-amber-800/50"},{label:"Base Personal",value:e,icon:Td,color:"text-slate-700 dark:text-slate-300",bg:"bg-slate-100 dark:bg-slate-700/50",sub:`${p} con movimientos`,borderColor:"border-slate-200 dark:border-slate-600/50"},{label:"Total Actos",value:r.length,icon:ST,color:"text-emerald-700 dark:text-emerald-400",bg:"bg-emerald-50 dark:bg-emerald-900/40",sub:"PA + FL",borderColor:"border-emerald-100 dark:border-emerald-800/50"}]},[r,e]);return h.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:s.map((a,o)=>h.jsxs("div",{className:`bg-white dark:bg-slate-800 p-4 sm:p-5 rounded-2xl border ${a.borderColor} shadow-sm flex items-center gap-3 sm:gap-4 transition-all hover:shadow-md group`,children:[h.jsx("div",{className:`${a.bg} ${a.color} p-2.5 sm:p-3 rounded-xl group-hover:scale-110 transition-transform`,children:h.jsx(a.icon,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("p",{className:"text-slate-400 dark:text-slate-500 text-[10px] sm:text-[11px] font-black uppercase tracking-wider truncate",children:a.label}),h.jsx("p",{className:"text-xl sm:text-2xl font-black text-slate-800 dark:text-white leading-tight",children:a.value}),h.jsx("p",{className:"text-[10px] sm:text-[11px] text-slate-400 dark:text-slate-500 font-bold uppercase truncate",children:a.sub})]})]},o))})});j_.displayName="StatsCards";const K4=r=>{const s=new Date().getTime()-r.getTime(),a=Math.floor(s/6e4),o=Math.floor(s/36e5),c=Math.floor(s/864e5);return a<1?"Ahora":a<60?`Hace ${a}m`:o<24?`Hace ${o}h`:c<7?`Hace ${c}d`:r.toLocaleDateString("es-CL",{day:"numeric",month:"short"})},J4=()=>{try{const r=localStorage.getItem("gdp-notification-read-ids");return r?new Set(JSON.parse(r)):new Set}catch{return new Set}},_v=r=>{try{localStorage.setItem("gdp-notification-read-ids",JSON.stringify([...r]))}catch{}},Y4={saldo:{label:"Saldos",icon:h.jsx(g0,{className:"w-3.5 h-3.5"}),gradient:"from-red-500 to-amber-500"},deadline:{label:"Plazos",icon:h.jsx(bi,{className:"w-3.5 h-3.5"}),gradient:"from-amber-500 to-orange-500"},info:{label:"Actividad",icon:h.jsx(S4,{className:"w-3.5 h-3.5"}),gradient:"from-blue-500 to-cyan-500"},suggestion:{label:"Sugerencias",icon:h.jsx(b0,{className:"w-3.5 h-3.5"}),gradient:"from-violet-500 to-purple-500"}},W4=({records:r,employees:e,onViewEmployee:s})=>{const[a,o]=J.useState(!1),[c,u]=J.useState([]),[p,m]=J.useState(!1),[b,x]=J.useState("all"),[_,S]=J.useState(new Set(["saldo","deadline","info","suggestion"])),[y,E]=J.useState(!1),[k,N]=J.useState(!1),C=J.useRef(null),L=J.useRef(J4()),P=J.useCallback(()=>{const se=[],X=new Date,K=X.getMonth(),ee=X.getFullYear();if(e.forEach(De=>{const Fe=r.filter(Qe=>Qe.rut===De.rut&&Qe.solicitudType==="PA").sort((Qe,A)=>gi(Qe,A));if(Fe.length>0){const Qe=Fe[0],A=Qe.diasHaber-Qe.cantidadDias;A<=0?se.push({id:`critical-pa-${De.rut}`,type:"critical",priority:1,category:"saldo",title:"Saldo Agotado PA",message:`${De.nombre} no tiene das de permiso disponibles (${A.toFixed(1)} das)`,timestamp:X,read:!1,data:{employeeName:De.nombre,employeeRut:De.rut,saldo:A}}):A<2&&se.push({id:`low-pa-${De.rut}`,type:"warning",priority:2,category:"saldo",title:"Saldo Bajo PA",message:`${De.nombre} tiene solo ${A.toFixed(1)} das de permiso`,timestamp:X,read:!1,data:{employeeName:De.nombre,employeeRut:De.rut,saldo:A}})}const gt=r.filter(Qe=>Qe.rut===De.rut&&Qe.solicitudType==="FL").sort((Qe,A)=>gi(Qe,A));if(gt.length>0){const Qe=gt[0],A=Ud(Qe,0);A<=0&&se.push({id:`critical-fl-${De.rut}`,type:"critical",priority:1,category:"saldo",title:"Feriado Legal Agotado",message:`${De.nombre} ha utilizado todo su feriado legal`,timestamp:X,read:!1,data:{employeeName:De.nombre,employeeRut:De.rut,saldo:A}})}}),K>=10){const De=Math.ceil((new Date(ee,11,31).getTime()-X.getTime())/864e5),Fe=e.filter(gt=>r.filter(ye=>ye.rut===gt.rut&&ye.solicitudType==="PA"&&new Date(ye.fechaInicio+"T12:00:00").getFullYear()===ee).reduce((ye,pe)=>ye+pe.cantidadDias,0)<3);Fe.length>0&&De<=60&&se.push({id:`year-end-warning-${ee}`,type:"warning",priority:1,category:"deadline",title:"Fin de Ao Prximo",message:`${Fe.length} funcionarios tienen permisos sin usar. Quedan ${De} das para fin de ao.`,timestamp:X,read:!1,data:{actionType:"view-unused"}})}const Z=r.filter(De=>{const Fe=Ed(De);return(X.getTime()-Fe)/(1e3*60*60*24)<=1});Z.length>0&&se.push({id:`recent-activity-${X.toDateString()}`,type:"info",priority:3,category:"info",title:"Actividad Reciente",message:`${Z.length} decreto(s) registrados en las ltimas 24 horas`,timestamp:X,read:!1});const re=new Date(X.getTime()-10080*60*1e3),we=r.filter(De=>Ed(De)>=re.getTime());if(we.length>3){const De=we.reduce((Fe,gt)=>Fe+gt.cantidadDias,0);se.push({id:`weekly-summary-${X.toISOString().split("T")[0]}`,type:"info",priority:3,category:"info",title:"Resumen Semanal",message:`${we.length} decretos con ${De} das otorgados esta semana`,timestamp:X,read:!1})}const Re=r.filter(De=>{const Fe=new Date(De.fechaInicio+"T12:00:00");return Fe.getMonth()===K&&Fe.getFullYear()===ee});Re.length>15&&se.push({id:`high-volume-${K}-${ee}`,type:"info",priority:3,category:"suggestion",title:"Alto Volumen",message:`Se han registrado ${Re.length} decretos este mes. Considera revisar el dashboard para anlisis.`,timestamp:X,read:!1});const Ee=new Set(r.filter(De=>new Date(De.fechaInicio+"T12:00:00").getFullYear()===ee).map(De=>De.rut)),Pe=e.filter(De=>!Ee.has(De.rut));return Pe.length>0&&e.length>3&&se.push({id:`inactive-employees-${ee}`,type:"info",priority:3,category:"suggestion",title:"Funcionarios sin actividad",message:`${Pe.length} funcionario(s) sin registros este ao`,timestamp:X,read:!1}),se},[r,e]);J.useEffect(()=>{const se=P();u(X=>{const K=new Map(X.map(we=>[we.id,we])),Z=se.map(we=>{var Re;return{...we,read:L.current.has(we.id)||(((Re=K.get(we.id))==null?void 0:Re.read)??!1)}}).sort((we,Re)=>we.priority-Re.priority||Re.timestamp.getTime()-we.timestamp.getTime()).slice(0,50),re=Z.some(we=>!we.read);return m(re),re&&Z.some(we=>!we.read&&(we.type==="critical"||we.type==="warning"))&&(N(!0),setTimeout(()=>N(!1),1500)),Z})},[P]);const V=J.useMemo(()=>{switch(b){case"unread":return c.filter(se=>!se.read);case"critical":return c.filter(se=>se.type==="critical"||se.type==="warning");default:return c}},[c,b]),q=J.useMemo(()=>{const se={};return V.forEach(X=>{se[X.category]||(se[X.category]=[]),se[X.category].push(X)}),se},[V]),G=J.useMemo(()=>{const se=c.filter(ee=>ee.type==="critical"&&!ee.read).length,X=c.filter(ee=>ee.type==="warning"&&!ee.read).length,K=c.filter(ee=>(ee.type==="info"||ee.type==="success")&&!ee.read).length;return{critical:se,warning:X,info:K,total:se+X+K}},[c]),O=J.useCallback(se=>{L.current.add(se),_v(L.current),u(X=>{const K=X.map(ee=>ee.id===se?{...ee,read:!0}:ee);return m(K.some(ee=>!ee.read)),K})},[]),j=J.useCallback(()=>{c.forEach(se=>L.current.add(se.id)),_v(L.current),u(se=>se.map(X=>({...X,read:!0}))),m(!1)},[c]),I=J.useCallback(()=>{u([]),m(!1)},[]),$=J.useCallback(se=>{var X;O(se.id),(X=se.data)!=null&&X.employeeRut&&s&&(s(se.data.employeeRut),H())},[O,s]),H=J.useCallback(()=>{E(!0),setTimeout(()=>{o(!1),E(!1)},250)},[]),R=J.useCallback(()=>{o(!0),m(!1)},[]),U=J.useCallback(se=>{S(X=>{const K=new Set(X);return K.has(se)?K.delete(se):K.add(se),K})},[]),D=c.filter(se=>!se.read).length,me=c.filter(se=>se.type==="critical"&&!se.read).length,te=se=>{switch(se.type){case"critical":return h.jsx(Do,{className:"w-4 h-4"});case"warning":return h.jsx(No,{className:"w-4 h-4"});case"success":return h.jsx(wc,{className:"w-4 h-4"});default:return h.jsx(p0,{className:"w-4 h-4"})}},Q=(se,X)=>{if(X)return"bg-slate-50/60 dark:bg-slate-700/20 opacity-70";switch(se.type){case"critical":return"bg-gradient-to-r from-red-50 to-rose-50 dark:from-red-900/20 dark:to-rose-900/20 border-l-[3px] border-l-red-500";case"warning":return"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 border-l-[3px] border-l-amber-500";case"success":return"bg-gradient-to-r from-emerald-50 to-green-50 dark:from-emerald-900/20 dark:to-green-900/20 border-l-[3px] border-l-emerald-500";default:return"bg-gradient-to-r from-blue-50 to-sky-50 dark:from-blue-900/20 dark:to-sky-900/20 border-l-[3px] border-l-blue-500"}},ve=se=>{switch(se.type){case"critical":return"bg-red-100 dark:bg-red-900/50 text-red-600 dark:text-red-400";case"warning":return"bg-amber-100 dark:bg-amber-900/50 text-amber-600 dark:text-amber-400";case"success":return"bg-emerald-100 dark:bg-emerald-900/50 text-emerald-600 dark:text-emerald-400";default:return"bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400"}},ie=["saldo","deadline","info","suggestion"];return h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:R,className:`relative p-2.5 bg-white dark:bg-slate-800 border text-slate-400 hover:text-amber-500 dark:hover:text-amber-400 rounded-xl transition-all shadow-sm hover:shadow-md active:scale-95 ${me>0?"border-red-300 dark:border-red-700 shadow-red-100 dark:shadow-red-900/20":"border-slate-200 dark:border-slate-700"} ${k?"notification-bell-ring":""}`,title:"Notificaciones","aria-label":`Notificaciones: ${D} sin leer`,children:[me>0?h.jsx(sv,{className:"w-4 h-4 sm:w-5 sm:h-5"}):h.jsx(rv,{className:"w-4 h-4 sm:w-5 sm:h-5"}),D>0&&h.jsx("span",{className:`absolute -top-1.5 -right-1.5 min-w-[20px] h-5 px-1 text-white text-[10px] font-black rounded-full flex items-center justify-center shadow-lg ${me>0?"bg-gradient-to-r from-red-500 to-rose-600 notification-badge-pulse":"bg-gradient-to-r from-amber-400 to-amber-600"}`,children:D>99?"99+":D}),me>0&&h.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-400 rounded-full animate-ping opacity-40"})]}),a&&h.jsxs("div",{className:`fixed inset-0 z-[200] flex items-start justify-end p-4 sm:p-6 ${y?"notification-backdrop-exit":"notification-backdrop-enter"}`,onClick:H,children:[h.jsx("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-md"}),h.jsxs("div",{ref:C,className:`relative w-full max-w-md bg-white dark:bg-slate-800 rounded-3xl shadow-2xl overflow-hidden mt-14 sm:mt-18 flex flex-col max-h-[85vh] ${y?"notification-panel-exit":"notification-panel-enter"}`,onClick:se=>se.stopPropagation(),children:[h.jsxs("div",{className:"relative overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-slate-800 to-indigo-950"}),h.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top_right,_var(--tw-gradient-stops))] from-indigo-500/20 via-transparent to-transparent"}),h.jsxs("div",{className:"relative p-5 text-white",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2.5 bg-white/10 backdrop-blur rounded-xl ring-1 ring-white/20",children:h.jsx(sv,{className:"w-5 h-5"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-black uppercase tracking-wider",children:"Centro de Alertas"}),h.jsx("p",{className:"text-[10px] font-bold text-white/50 uppercase tracking-wider mt-0.5",children:G.total>0?`${G.total} pendiente${G.total>1?"s":""}`:"Todo al da"})]})]}),h.jsx("button",{onClick:H,className:"p-2 hover:bg-white/10 rounded-xl transition-all active:scale-90","aria-label":"Cerrar notificaciones",children:h.jsx(qn,{className:"w-5 h-5"})})]}),G.total>0&&h.jsxs("div",{className:"flex gap-2 mb-4",children:[G.critical>0&&h.jsxs("span",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-red-500/20 text-red-200 rounded-lg text-[10px] font-black uppercase tracking-wider ring-1 ring-red-500/30",children:[h.jsx("span",{className:"w-1.5 h-1.5 bg-red-400 rounded-full animate-pulse"}),G.critical," crtica",G.critical>1?"s":""]}),G.warning>0&&h.jsxs("span",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-amber-500/20 text-amber-200 rounded-lg text-[10px] font-black uppercase tracking-wider ring-1 ring-amber-500/30",children:[G.warning," aviso",G.warning>1?"s":""]}),G.info>0&&h.jsxs("span",{className:"flex items-center gap-1.5 px-2.5 py-1 bg-blue-500/20 text-blue-200 rounded-lg text-[10px] font-black uppercase tracking-wider ring-1 ring-blue-500/30",children:[G.info," info"]})]}),h.jsx("div",{className:"flex gap-1.5 bg-white/5 rounded-xl p-1",children:[{id:"all",label:"Todas",count:c.length},{id:"unread",label:"Sin leer",count:D},{id:"critical",label:"Urgentes",count:c.filter(se=>se.type==="critical"||se.type==="warning").length}].map(se=>h.jsxs("button",{onClick:()=>x(se.id),className:`flex-1 px-3 py-1.5 rounded-lg text-[10px] font-bold uppercase tracking-wider transition-all ${b===se.id?"bg-white text-slate-900 shadow-lg":"text-white/60 hover:text-white hover:bg-white/10"}`,children:[se.label,se.count>0&&h.jsx("span",{className:`ml-1 text-[9px] ${b===se.id?"text-slate-500":"text-white/40"}`,children:se.count})]},se.id))})]})]}),c.length>0&&h.jsxs("div",{className:"px-4 py-2.5 bg-slate-50/80 dark:bg-slate-800/80 backdrop-blur-sm border-b border-slate-100 dark:border-slate-700/50 flex justify-between items-center",children:[h.jsxs("span",{className:"text-[10px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider",children:[V.length," notificacin",V.length!==1?"es":""]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:j,className:"flex items-center gap-1 px-2.5 py-1 text-[10px] font-bold uppercase tracking-wider text-slate-500 hover:text-indigo-600 dark:text-slate-400 dark:hover:text-indigo-400 transition-colors rounded-lg hover:bg-indigo-50 dark:hover:bg-indigo-900/20",children:[h.jsx(sc,{className:"w-3 h-3"}),"Leer todas"]}),h.jsxs("button",{onClick:I,className:"flex items-center gap-1 px-2.5 py-1 text-[10px] font-bold uppercase tracking-wider text-slate-400 hover:text-red-500 dark:text-slate-500 dark:hover:text-red-400 transition-colors rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20",children:[h.jsx(Ap,{className:"w-3 h-3"}),"Limpiar"]})]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:V.length>0?h.jsx("div",{className:"p-3 space-y-3",children:ie.map(se=>{const X=q[se];if(!(X!=null&&X.length))return null;const K=Y4[se],ee=_.has(se),Z=X.filter(re=>!re.read).length;return h.jsxs("div",{className:"notification-group-enter",children:[h.jsxs("button",{onClick:()=>U(se),className:"w-full flex items-center gap-2 px-3 py-2 rounded-xl hover:bg-slate-100/70 dark:hover:bg-slate-700/30 transition-all group",children:[h.jsx("div",{className:`p-1.5 rounded-lg bg-gradient-to-r ${K.gradient} text-white`,children:K.icon}),h.jsx("span",{className:"text-[11px] font-black text-slate-600 dark:text-slate-300 uppercase tracking-wider",children:K.label}),Z>0&&h.jsx("span",{className:"text-[9px] font-black text-white bg-slate-400 dark:bg-slate-600 px-1.5 py-0.5 rounded-full",children:Z}),h.jsx("span",{className:"text-[9px] text-slate-400 dark:text-slate-500 ml-auto mr-1",children:X.length}),h.jsx(h0,{className:`w-3.5 h-3.5 text-slate-400 transition-transform duration-200 ${ee?"":"-rotate-90"}`})]}),ee&&h.jsx("div",{className:"space-y-1.5 mt-1 ml-2",children:X.map((re,we)=>{var Re,Ee;return h.jsx("div",{onClick:()=>$(re),className:`group/item p-3.5 rounded-2xl cursor-pointer transition-all duration-200 hover:shadow-md hover:scale-[1.01] active:scale-[0.99] ${Q(re,re.read)}`,style:{animationDelay:`${we*50}ms`},children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:`p-2 rounded-xl shrink-0 ${ve(re)} transition-transform group-hover/item:scale-110`,children:te(re)}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center justify-between gap-2",children:[h.jsx("p",{className:`text-[11px] font-black uppercase tracking-wider leading-tight ${re.read?"text-slate-400 dark:text-slate-500":re.type==="critical"?"text-red-700 dark:text-red-300":re.type==="warning"?"text-amber-700 dark:text-amber-300":"text-blue-700 dark:text-blue-300"}`,children:re.title}),h.jsx("div",{className:"flex items-center gap-1.5 shrink-0",children:!re.read&&h.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${re.type==="critical"?"bg-red-500 animate-pulse":re.type==="warning"?"bg-amber-500":"bg-blue-500"}`})})]}),h.jsx("p",{className:"text-[11px] font-medium text-slate-600 dark:text-slate-300 mt-1 leading-relaxed",children:re.message}),h.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[h.jsx("span",{className:"text-[9px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wider",children:K4(re.timestamp)}),((Re=re.data)==null?void 0:Re.employeeName)&&h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"w-0.5 h-0.5 bg-slate-300 dark:bg-slate-600 rounded-full"}),h.jsxs("span",{className:"text-[9px] font-bold text-indigo-500 dark:text-indigo-400 uppercase tracking-wider flex items-center gap-1 group-hover/item:underline",children:[h.jsx(ui,{className:"w-2.5 h-2.5"}),"Ver funcionario",h.jsx(g_,{className:"w-2.5 h-2.5 transition-transform group-hover/item:translate-x-0.5"})]})]}),((Ee=re.data)==null?void 0:Ee.saldo)!==void 0&&h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"w-0.5 h-0.5 bg-slate-300 dark:bg-slate-600 rounded-full"}),h.jsxs("span",{className:`text-[9px] font-black uppercase tracking-wider ${re.data.saldo<=0?"text-red-500 dark:text-red-400":"text-amber-500 dark:text-amber-400"}`,children:[re.data.saldo.toFixed(1)," das"]})]})]})]})]})},re.id)})})]},se)})}):h.jsxs("div",{className:"py-20 text-center px-6",children:[h.jsx("div",{className:"w-16 h-16 mx-auto mb-5 rounded-2xl bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-700 dark:to-slate-800 flex items-center justify-center",children:h.jsx(rv,{className:"w-8 h-8 text-slate-300 dark:text-slate-600"})}),h.jsx("p",{className:"text-sm font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest",children:b==="all"?"Sin notificaciones":`Sin notificaciones ${b==="unread"?"sin leer":"urgentes"}`}),h.jsxs("p",{className:"text-[11px] text-slate-400 dark:text-slate-600 mt-2 leading-relaxed",children:["Te notificaremos sobre saldos bajos,",h.jsx("br",{}),"fechas importantes y actividad"]})]})}),h.jsx("div",{className:"p-4 border-t border-slate-100 dark:border-slate-700/50 bg-gradient-to-r from-slate-50/80 to-white/80 dark:from-slate-800/50 dark:to-slate-800/30 backdrop-blur-sm",children:h.jsxs("div",{className:"flex items-center justify-center gap-5 text-[9px] font-bold text-slate-400 dark:text-slate-500 uppercase tracking-widest",children:[h.jsxs("span",{className:"flex items-center gap-1.5",children:[h.jsx("span",{className:"w-2 h-2 bg-gradient-to-r from-red-500 to-rose-500 rounded-full"}),"Crtico"]}),h.jsxs("span",{className:"flex items-center gap-1.5",children:[h.jsx("span",{className:"w-2 h-2 bg-gradient-to-r from-amber-400 to-orange-500 rounded-full"}),"Aviso"]}),h.jsxs("span",{className:"flex items-center gap-1.5",children:[h.jsx("span",{className:"w-2 h-2 bg-gradient-to-r from-blue-400 to-cyan-500 rounded-full"}),"Info"]}),h.jsxs("span",{className:"flex items-center gap-1.5",children:[h.jsx("span",{className:"w-2 h-2 bg-gradient-to-r from-emerald-400 to-green-500 rounded-full"}),"OK"]})]})})]})]})]})},X4=({isOpen:r,onClose:e,onConfirm:s,title:a="Confirmar accin",message:o="Ests seguro de que deseas continuar?",confirmText:c="Confirmar",cancelText:u="Cancelar",variant:p="danger"})=>{const m=J.useRef(null),b=J.useRef(null),x=J.useRef(null);J.useEffect(()=>(r&&(x.current=document.activeElement,setTimeout(()=>{var C;(C=b.current)==null||C.focus()},50),document.body.style.overflow="hidden"),()=>{document.body.style.overflow="",x.current&&!r&&x.current.focus()}),[r]);const _=J.useCallback(C=>{if(C.key==="Escape"){e();return}if(C.key==="Tab"&&m.current){const L=m.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),P=L[0],V=L[L.length-1];C.shiftKey&&document.activeElement===P?(C.preventDefault(),V==null||V.focus()):!C.shiftKey&&document.activeElement===V&&(C.preventDefault(),P==null||P.focus())}},[e]),S=J.useCallback(()=>{s(),e()},[s,e]),y=J.useCallback(C=>{C.target===C.currentTarget&&e()},[e]);if(!r)return null;const k={danger:{icon:E_,iconBg:"bg-red-100 dark:bg-red-900/50",iconColor:"text-red-600 dark:text-red-400",confirmBg:"bg-red-600 hover:bg-red-700 focus:ring-red-500"},warning:{icon:No,iconBg:"bg-amber-100 dark:bg-amber-900/50",iconColor:"text-amber-600 dark:text-amber-400",confirmBg:"bg-amber-600 hover:bg-amber-700 focus:ring-amber-500"},info:{icon:No,iconBg:"bg-blue-100 dark:bg-blue-900/50",iconColor:"text-blue-600 dark:text-blue-400",confirmBg:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"}}[p],N=k.icon;return h.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4",onClick:y,onKeyDown:_,role:"dialog","aria-modal":"true","aria-labelledby":"confirm-modal-title","aria-describedby":"confirm-modal-description",children:[h.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm"}),h.jsxs("div",{ref:m,className:"relative w-full max-w-md bg-white dark:bg-slate-800 rounded-2xl shadow-2xl overflow-hidden animate-scale-in",children:[h.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors","aria-label":"Cerrar modal",children:h.jsx(qn,{className:"w-5 h-5"})}),h.jsx("div",{className:"p-6 pt-8",children:h.jsxs("div",{className:"flex flex-col items-center text-center",children:[h.jsx("div",{className:`w-16 h-16 ${k.iconBg} rounded-full flex items-center justify-center mb-4`,children:h.jsx(N,{className:`w-8 h-8 ${k.iconColor}`})}),h.jsx("h2",{id:"confirm-modal-title",className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:a}),h.jsx("p",{id:"confirm-modal-description",className:"text-sm text-slate-600 dark:text-slate-400 mb-6",children:o}),h.jsxs("div",{className:"flex gap-3 w-full",children:[h.jsx("button",{onClick:e,className:"flex-1 px-4 py-3 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold rounded-xl hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 dark:focus:ring-offset-slate-800",children:u}),h.jsx("button",{ref:b,onClick:S,className:`flex-1 px-4 py-3 ${k.confirmBg} text-white font-bold rounded-xl transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 active:scale-95`,children:c})]})]})})]})]})},Z4=Zs.memo(X4);function Md(r,e){var s={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(s[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(s[a[o]]=r[a[o]]);return s}function Q4(r,e,s,a){function o(c){return c instanceof s?c:new s(function(u){u(c)})}return new(s||(s=Promise))(function(c,u){function p(x){try{b(a.next(x))}catch(_){u(_)}}function m(x){try{b(a.throw(x))}catch(_){u(_)}}function b(x){x.done?c(x.value):o(x.value).then(p,m)}b((a=a.apply(r,e||[])).next())})}const eN=r=>r?(...e)=>r(...e):(...e)=>fetch(...e);class y0 extends Error{constructor(e,s="FunctionsError",a){super(e),this.name=s,this.context=a}}class tN extends y0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class xv extends y0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class wv extends y0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var jp;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(jp||(jp={}));class nN{constructor(e,{headers:s={},customFetch:a,region:o=jp.Any}={}){this.url=e,this.headers=s,this.region=o,this.fetch=eN(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Q4(this,arguments,void 0,function*(s,a={}){var o;let c,u;try{const{headers:p,method:m,body:b,signal:x,timeout:_}=a;let S={},{region:y}=a;y||(y=this.region);const E=new URL(`${this.url}/${s}`);y&&y!=="any"&&(S["x-region"]=y,E.searchParams.set("forceFunctionRegion",y));let k;b&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&b instanceof Blob||b instanceof ArrayBuffer?(S["Content-Type"]="application/octet-stream",k=b):typeof b=="string"?(S["Content-Type"]="text/plain",k=b):typeof FormData<"u"&&b instanceof FormData?k=b:(S["Content-Type"]="application/json",k=JSON.stringify(b)):b&&typeof b!="string"&&!(typeof Blob<"u"&&b instanceof Blob)&&!(b instanceof ArrayBuffer)&&!(typeof FormData<"u"&&b instanceof FormData)?k=JSON.stringify(b):k=b;let N=x;_&&(u=new AbortController,c=setTimeout(()=>u.abort(),_),x?(N=u.signal,x.addEventListener("abort",()=>u.abort())):N=u.signal);const C=yield this.fetch(E.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},S),this.headers),p),body:k,signal:N}).catch(q=>{throw new tN(q)}),L=C.headers.get("x-relay-error");if(L&&L==="true")throw new xv(C);if(!C.ok)throw new wv(C);let P=((o=C.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),V;return P==="application/json"?V=yield C.json():P==="application/octet-stream"||P==="application/pdf"?V=yield C.blob():P==="text/event-stream"?V=C:P==="multipart/form-data"?V=yield C.formData():V=yield C.text(),{data:V,error:null,response:C}}catch(p){return{data:null,error:p,response:p instanceof wv||p instanceof xv?p.context:void 0}}finally{c&&clearTimeout(c)}})}}var sN=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},rN=class{constructor(r){var e,s;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(e=r.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=r.signal,this.isMaybeSingle=(s=r.isMaybeSingle)!==null&&s!==void 0?s:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,e){return this.headers=new Headers(this.headers),this.headers.set(r,e),this}then(r,e){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let o=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{let u=null,p=null,m=null,b=c.status,x=c.statusText;if(c.ok){var _,S;if(s.method!=="HEAD"){var y;const C=await c.text();C===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((y=s.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?p=C:p=JSON.parse(C))}const k=(_=s.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),N=(S=c.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");k&&N&&N.length>1&&(m=parseInt(N[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(p)&&(p.length>1?(u={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,m=null,b=406,x="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{var E;const k=await c.text();try{u=JSON.parse(k),Array.isArray(u)&&c.status===404&&(p=[],u=null,b=200,x="OK")}catch{c.status===404&&k===""?(b=204,x="No Content"):u={message:k}}if(u&&s.isMaybeSingle&&(!(u==null||(E=u.details)===null||E===void 0)&&E.includes("0 rows"))&&(u=null,b=200,x="OK"),u&&s.shouldThrowOnError)throw new sN(u)}return{error:u,data:p,count:m,status:b,statusText:x}});return this.shouldThrowOnError||(o=o.catch(c=>{var u;let p="";const m=c==null?void 0:c.cause;if(m){var b,x,_,S;const E=(b=m==null?void 0:m.message)!==null&&b!==void 0?b:"",k=(x=m==null?void 0:m.code)!==null&&x!==void 0?x:"";p=`${(_=c==null?void 0:c.name)!==null&&_!==void 0?_:"FetchError"}: ${c==null?void 0:c.message}`,p+=`

Caused by: ${(S=m==null?void 0:m.name)!==null&&S!==void 0?S:"Error"}: ${E}`,k&&(p+=` (${k})`),m!=null&&m.stack&&(p+=`
${m.stack}`)}else{var y;p=(y=c==null?void 0:c.stack)!==null&&y!==void 0?y:""}return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:p,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(r,e)}returns(){return this}overrideTypes(){return this}},aN=class extends rN{select(r){let e=!1;const s=(r??"*").split("").map(a=>/\s/.test(a)&&!e?"":(a==='"'&&(e=!e),a)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:e=!0,nullsFirst:s,foreignTable:a,referencedTable:o=a}={}){const c=o?`${o}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${r}.${e?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:e,referencedTable:s=e}={}){const a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${r}`),this}range(r,e,{foreignTable:s,referencedTable:a=s}={}){const o=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${r}`),this.url.searchParams.set(c,`${e-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:e=!1,settings:s=!1,buffers:a=!1,wal:o=!1,format:c="text"}={}){var u;const p=[r?"analyze":null,e?"verbose":null,s?"settings":null,a?"buffers":null,o?"wal":null].filter(Boolean).join("|"),m=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${m}"; options=${p};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const kv=new RegExp("[,()]");var bo=class extends aN{eq(r,e){return this.url.searchParams.append(r,`eq.${e}`),this}neq(r,e){return this.url.searchParams.append(r,`neq.${e}`),this}gt(r,e){return this.url.searchParams.append(r,`gt.${e}`),this}gte(r,e){return this.url.searchParams.append(r,`gte.${e}`),this}lt(r,e){return this.url.searchParams.append(r,`lt.${e}`),this}lte(r,e){return this.url.searchParams.append(r,`lte.${e}`),this}like(r,e){return this.url.searchParams.append(r,`like.${e}`),this}likeAllOf(r,e){return this.url.searchParams.append(r,`like(all).{${e.join(",")}}`),this}likeAnyOf(r,e){return this.url.searchParams.append(r,`like(any).{${e.join(",")}}`),this}ilike(r,e){return this.url.searchParams.append(r,`ilike.${e}`),this}ilikeAllOf(r,e){return this.url.searchParams.append(r,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(r,e){return this.url.searchParams.append(r,`ilike(any).{${e.join(",")}}`),this}regexMatch(r,e){return this.url.searchParams.append(r,`match.${e}`),this}regexIMatch(r,e){return this.url.searchParams.append(r,`imatch.${e}`),this}is(r,e){return this.url.searchParams.append(r,`is.${e}`),this}isDistinct(r,e){return this.url.searchParams.append(r,`isdistinct.${e}`),this}in(r,e){const s=Array.from(new Set(e)).map(a=>typeof a=="string"&&kv.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(r,`in.(${s})`),this}notIn(r,e){const s=Array.from(new Set(e)).map(a=>typeof a=="string"&&kv.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(r,`not.in.(${s})`),this}contains(r,e){return typeof e=="string"?this.url.searchParams.append(r,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(r,`cs.{${e.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(e)}`),this}containedBy(r,e){return typeof e=="string"?this.url.searchParams.append(r,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(r,`cd.{${e.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(e)}`),this}rangeGt(r,e){return this.url.searchParams.append(r,`sr.${e}`),this}rangeGte(r,e){return this.url.searchParams.append(r,`nxl.${e}`),this}rangeLt(r,e){return this.url.searchParams.append(r,`sl.${e}`),this}rangeLte(r,e){return this.url.searchParams.append(r,`nxr.${e}`),this}rangeAdjacent(r,e){return this.url.searchParams.append(r,`adj.${e}`),this}overlaps(r,e){return typeof e=="string"?this.url.searchParams.append(r,`ov.${e}`):this.url.searchParams.append(r,`ov.{${e.join(",")}}`),this}textSearch(r,e,{config:s,type:a}={}){let o="";a==="plain"?o="pl":a==="phrase"?o="ph":a==="websearch"&&(o="w");const c=s===void 0?"":`(${s})`;return this.url.searchParams.append(r,`${o}fts${c}.${e}`),this}match(r){return Object.entries(r).forEach(([e,s])=>{this.url.searchParams.append(e,`eq.${s}`)}),this}not(r,e,s){return this.url.searchParams.append(r,`not.${e}.${s}`),this}or(r,{foreignTable:e,referencedTable:s=e}={}){const a=s?`${s}.or`:"or";return this.url.searchParams.append(a,`(${r})`),this}filter(r,e,s){return this.url.searchParams.append(r,`${e}.${s}`),this}},iN=class{constructor(r,{headers:e={},schema:s,fetch:a}){this.url=r,this.headers=new Headers(e),this.schema=s,this.fetch=a}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(r,e){const{head:s=!1,count:a}=e??{},o=s?"HEAD":"GET";let c=!1;const u=(r??"*").split("").map(b=>/\s/.test(b)&&!c?"":(b==='"'&&(c=!c),b)).join(""),{url:p,headers:m}=this.cloneRequestState();return p.searchParams.set("select",u),a&&m.append("Prefer",`count=${a}`),new bo({method:o,url:p,headers:m,schema:this.schema,fetch:this.fetch})}insert(r,{count:e,defaultToNull:s=!0}={}){var a;const o="POST",{url:c,headers:u}=this.cloneRequestState();if(e&&u.append("Prefer",`count=${e}`),s||u.append("Prefer","missing=default"),Array.isArray(r)){const p=r.reduce((m,b)=>m.concat(Object.keys(b)),[]);if(p.length>0){const m=[...new Set(p)].map(b=>`"${b}"`);c.searchParams.set("columns",m.join(","))}}return new bo({method:o,url:c,headers:u,schema:this.schema,body:r,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(r,{onConflict:e,ignoreDuplicates:s=!1,count:a,defaultToNull:o=!0}={}){var c;const u="POST",{url:p,headers:m}=this.cloneRequestState();if(m.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),e!==void 0&&p.searchParams.set("on_conflict",e),a&&m.append("Prefer",`count=${a}`),o||m.append("Prefer","missing=default"),Array.isArray(r)){const b=r.reduce((x,_)=>x.concat(Object.keys(_)),[]);if(b.length>0){const x=[...new Set(b)].map(_=>`"${_}"`);p.searchParams.set("columns",x.join(","))}}return new bo({method:u,url:p,headers:m,schema:this.schema,body:r,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(r,{count:e}={}){var s;const a="PATCH",{url:o,headers:c}=this.cloneRequestState();return e&&c.append("Prefer",`count=${e}`),new bo({method:a,url:o,headers:c,schema:this.schema,body:r,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:r}={}){var e;const s="DELETE",{url:a,headers:o}=this.cloneRequestState();return r&&o.append("Prefer",`count=${r}`),new bo({method:s,url:a,headers:o,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},oN=class R_{constructor(e,{headers:s={},schema:a,fetch:o}={}){this.url=e,this.headers=new Headers(s),this.schemaName=a,this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new iN(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new R_(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:a=!1,get:o=!1,count:c}={}){var u;let p;const m=new URL(`${this.url}/rpc/${e}`);let b;const x=y=>y!==null&&typeof y=="object"&&(!Array.isArray(y)||y.some(x)),_=a&&Object.values(s).some(x);_?(p="POST",b=s):a||o?(p=a?"HEAD":"GET",Object.entries(s).filter(([y,E])=>E!==void 0).map(([y,E])=>[y,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([y,E])=>{m.searchParams.append(y,E)})):(p="POST",b=s);const S=new Headers(this.headers);return _?S.set("Prefer",c?`count=${c},return=minimal`:"return=minimal"):c&&S.set("Prefer",`count=${c}`),new bo({method:p,url:m,headers:S,schema:this.schemaName,body:b,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};class lN{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const a=s.versions;if(a&&a.node){const o=a.node,c=parseInt(o.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const a=this.getWebSocketConstructor();return new a(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const cN="2.93.3",uN=`realtime-js/${cN}`,dN="1.0.0",D_="2.0.0",Sv=D_,Rp=1e4,hN=1e3,fN=100;var ga;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(ga||(ga={}));var tn;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(tn||(tn={}));var xs;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(xs||(xs={}));var Dp;(function(r){r.websocket="websocket"})(Dp||(Dp={}));var ni;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(ni||(ni={}));class pN{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,s){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(e));let a=[e.join_ref,e.ref,e.topic,e.event,e.payload];return s(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(e){var s;return this._isArrayBuffer((s=e.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var s,a;const o=(a=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var s,a;const o=(a=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&a!==void 0?a:{},u=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,s,a){var o,c;const u=e.topic,p=(o=e.ref)!==null&&o!==void 0?o:"",m=(c=e.join_ref)!==null&&c!==void 0?c:"",b=e.payload.event,x=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},_=Object.keys(x).length===0?"":JSON.stringify(x);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`userEvent length ${b.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const S=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+p.length+u.length+b.length+_.length,y=new ArrayBuffer(this.HEADER_LENGTH+S);let E=new DataView(y),k=0;E.setUint8(k++,this.KINDS.userBroadcastPush),E.setUint8(k++,m.length),E.setUint8(k++,p.length),E.setUint8(k++,u.length),E.setUint8(k++,b.length),E.setUint8(k++,_.length),E.setUint8(k++,s),Array.from(m,C=>E.setUint8(k++,C.charCodeAt(0))),Array.from(p,C=>E.setUint8(k++,C.charCodeAt(0))),Array.from(u,C=>E.setUint8(k++,C.charCodeAt(0))),Array.from(b,C=>E.setUint8(k++,C.charCodeAt(0))),Array.from(_,C=>E.setUint8(k++,C.charCodeAt(0)));var N=new Uint8Array(y.byteLength+a.byteLength);return N.set(new Uint8Array(y),0),N.set(new Uint8Array(a),y.byteLength),N.buffer}decode(e,s){if(this._isArrayBuffer(e)){let a=this._binaryDecode(e);return s(a)}if(typeof e=="string"){const a=JSON.parse(e),[o,c,u,p,m]=a;return s({join_ref:o,ref:c,topic:u,event:p,payload:m})}return s({})}_binaryDecode(e){const s=new DataView(e),a=s.getUint8(0),o=new TextDecoder;switch(a){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,s,o)}}_decodeUserBroadcast(e,s,a){const o=s.getUint8(1),c=s.getUint8(2),u=s.getUint8(3),p=s.getUint8(4);let m=this.HEADER_LENGTH+4;const b=a.decode(e.slice(m,m+o));m=m+o;const x=a.decode(e.slice(m,m+c));m=m+c;const _=a.decode(e.slice(m,m+u));m=m+u;const S=e.slice(m,e.byteLength),y=p===this.JSON_ENCODING?JSON.parse(a.decode(S)):S,E={type:this.BROADCAST_EVENT,event:x,payload:y};return u>0&&(E.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:b,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(e){var s;return e instanceof ArrayBuffer||((s=e==null?void 0:e.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(e,s){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([a])=>s.includes(a)))}}class O_{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Tt;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Tt||(Tt={}));const Ev=(r,e,s={})=>{var a;const o=(a=s.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((c,u)=>(c[u]=mN(u,r,e,o),c),{}):{}},mN=(r,e,s,a)=>{const o=e.find(p=>p.name===r),c=o==null?void 0:o.type,u=s[r];return c&&!a.includes(c)?I_(c,u):Op(u)},I_=(r,e)=>{if(r.charAt(0)==="_"){const s=r.slice(1,r.length);return vN(e,s)}switch(r){case Tt.bool:return gN(e);case Tt.float4:case Tt.float8:case Tt.int2:case Tt.int4:case Tt.int8:case Tt.numeric:case Tt.oid:return bN(e);case Tt.json:case Tt.jsonb:return yN(e);case Tt.timestamp:return _N(e);case Tt.abstime:case Tt.date:case Tt.daterange:case Tt.int4range:case Tt.int8range:case Tt.money:case Tt.reltime:case Tt.text:case Tt.time:case Tt.timestamptz:case Tt.timetz:case Tt.tsrange:case Tt.tstzrange:return Op(e);default:return Op(e)}},Op=r=>r,gN=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},bN=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},yN=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},vN=(r,e)=>{if(typeof r!="string")return r;const s=r.length-1,a=r[s];if(r[0]==="{"&&a==="}"){let c;const u=r.slice(1,s);try{c=JSON.parse("["+u+"]")}catch{c=u?u.split(","):[]}return c.map(p=>I_(e,p))}return r},_N=r=>typeof r=="string"?r.replace(" ","T"):r,L_=r=>{const e=new URL(r);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class ap{constructor(e,s,a={},o=Rp){this.channel=e,this.event=s,this.payload=a,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var a;return this._hasReceived(e)&&s((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Av;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Av||(Av={}));class Xl{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},o=>{const{onJoin:c,onLeave:u,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xl.syncState(this.state,o,c,u),this.pendingDiffs.forEach(m=>{this.state=Xl.syncDiff(this.state,m,c,u)}),this.pendingDiffs=[],p()}),this.channel._on(a.diff,{},o=>{const{onJoin:c,onLeave:u,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Xl.syncDiff(this.state,o,c,u),p())}),this.onJoin((o,c,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:u})}),this.onLeave((o,c,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,a,o){const c=this.cloneDeep(e),u=this.transformState(s),p={},m={};return this.map(c,(b,x)=>{u[b]||(m[b]=x)}),this.map(u,(b,x)=>{const _=c[b];if(_){const S=x.map(N=>N.presence_ref),y=_.map(N=>N.presence_ref),E=x.filter(N=>y.indexOf(N.presence_ref)<0),k=_.filter(N=>S.indexOf(N.presence_ref)<0);E.length>0&&(p[b]=E),k.length>0&&(m[b]=k)}else p[b]=x}),this.syncDiff(c,{joins:p,leaves:m},a,o)}static syncDiff(e,s,a,o){const{joins:c,leaves:u}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return a||(a=()=>{}),o||(o=()=>{}),this.map(c,(p,m)=>{var b;const x=(b=e[p])!==null&&b!==void 0?b:[];if(e[p]=this.cloneDeep(m),x.length>0){const _=e[p].map(y=>y.presence_ref),S=x.filter(y=>_.indexOf(y.presence_ref)<0);e[p].unshift(...S)}a(p,x,m)}),this.map(u,(p,m)=>{let b=e[p];if(!b)return;const x=m.map(_=>_.presence_ref);b=b.filter(_=>x.indexOf(_.presence_ref)<0),e[p]=b,o(p,b,m),b.length===0&&delete e[p]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(a=>s(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,a)=>{const o=e[a];return"metas"in o?s[a]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[a]=o,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Tv;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Tv||(Tv={}));var Zl;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Zl||(Zl={}));var kr;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(kr||(kr={}));class _o{constructor(e,s={config:{}},a){var o,c;if(this.topic=e,this.params=s,this.socket=a,this.bindings={},this.state=tn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new ap(this,xs.join,this.params,this.timeout),this.rejoinTimer=new O_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=tn.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=tn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=tn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=tn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xs.reply,{},(u,p)=>{this._trigger(this._replyEventName(p),u)}),this.presence=new Xl(this),this.broadcastEndpointURL=L_(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,s=this.timeout){var a,o,c;if(this.socket.isConnected()||this.socket.connect(),this.state==tn.closed){const{config:{broadcast:u,presence:p,private:m}}=this.params,b=(o=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(y=>y.filter))!==null&&o!==void 0?o:[],x=!!this.bindings[Zl.PRESENCE]&&this.bindings[Zl.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,_={},S={broadcast:u,presence:Object.assign(Object.assign({},p),{enabled:x}),postgres_changes:b,private:m};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(y=>e==null?void 0:e(kr.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(kr.CLOSED)),this.updateJoinPayload(Object.assign({config:S},_)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:y})=>{var E;if(this.socket._isManualToken()||this.socket.setAuth(),y===void 0){e==null||e(kr.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,N=(E=k==null?void 0:k.length)!==null&&E!==void 0?E:0,C=[];for(let L=0;L<N;L++){const P=k[L],{filter:{event:V,schema:q,table:G,filter:O}}=P,j=y&&y[L];if(j&&j.event===V&&_o.isFilterValueEqual(j.schema,q)&&_o.isFilterValueEqual(j.table,G)&&_o.isFilterValueEqual(j.filter,O))C.push(Object.assign(Object.assign({},P),{id:j.id}));else{this.unsubscribe(),this.state=tn.errored,e==null||e(kr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e(kr.SUBSCRIBED);return}}).receive("error",y=>{this.state=tn.errored,e==null||e(kr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(kr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,a){return this.state===tn.joined&&e===Zl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,s,a)}async httpSend(e,s,a={}){var o;if(s==null)return Promise.reject("Payload is required for httpSend()");const c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:s,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=a.timeout)!==null&&o!==void 0?o:this.timeout);if(p.status===202)return{success:!0};let m=p.statusText;try{const b=await p.json();m=b.error||b.message||m}catch{}return Promise.reject(new Error(m))}async send(e,s={}){var a,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:u}=e,p={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(p.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:p,body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:u,private:this.private}]})};try{const b=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);return await((o=b.body)===null||o===void 0?void 0:o.cancel()),b.ok?"ok":"error"}catch(b){return b.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var u,p,m;const b=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((m=(p=(u=this.params)===null||u===void 0?void 0:u.config)===null||p===void 0?void 0:p.broadcast)===null||m===void 0)&&m.ack)&&c("ok"),b.receive("ok",()=>c("ok")),b.receive("error",()=>c("error")),b.receive("timeout",()=>c("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=tn.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xs.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(o=>{a=new ap(this,xs.leave,{},e),a.receive("ok",()=>{s(),o("ok")}).receive("timeout",()=>{s(),o("timed out")}).receive("error",()=>{o("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=tn.closed,this.bindings={}}async _fetchWithTimeout(e,s,a){const o=new AbortController,c=setTimeout(()=>o.abort(),a),u=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:o.signal}));return clearTimeout(c),u}_push(e,s,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new ap(this,e,s,a);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>fN){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,a){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,a){var o,c;const u=e.toLocaleLowerCase(),{close:p,error:m,leave:b,join:x}=xs;if(a&&[p,m,b,x].indexOf(u)>=0&&a!==this._joinRef())return;let S=this._onMessage(u,s,a);if(s&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(y=>{var E,k,N;return((E=y.filter)===null||E===void 0?void 0:E.event)==="*"||((N=(k=y.filter)===null||k===void 0?void 0:k.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===u}).map(y=>y.callback(S,a)):(c=this.bindings[u])===null||c===void 0||c.filter(y=>{var E,k,N,C,L,P;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in y){const V=y.id,q=(E=y.filter)===null||E===void 0?void 0:E.event;return V&&((k=s.ids)===null||k===void 0?void 0:k.includes(V))&&(q==="*"||(q==null?void 0:q.toLocaleLowerCase())===((N=s.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const V=(L=(C=y==null?void 0:y.filter)===null||C===void 0?void 0:C.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return V==="*"||V===((P=s==null?void 0:s.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===u}).map(y=>{if(typeof S=="object"&&"ids"in S){const E=S.data,{schema:k,table:N,commit_timestamp:C,type:L,errors:P}=E;S=Object.assign(Object.assign({},{schema:k,table:N,commit_timestamp:C,eventType:L,new:{},old:{},errors:P}),this._getPayloadRecords(E))}y.callback(S,a)})}_isClosed(){return this.state===tn.closed}_isJoined(){return this.state===tn.joined}_isJoining(){return this.state===tn.joining}_isLeaving(){return this.state===tn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,a){const o=e.toLocaleLowerCase(),c={type:o,filter:s,callback:a};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(e,s){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===a&&_o.isEqual(o.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const a in e)if(e[a]!==s[a])return!1;return!0}static isFilterValueEqual(e,s){return(e??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(xs.close,{},e)}_onError(e){this._on(xs.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Ev(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Ev(e.columns,e.old_record)),s}}const ip=()=>{},td={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},xN=[1e3,2e3,5e3,1e4],wN=1e4,kN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class SN{constructor(e,s){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Rp,this.transport=null,this.heartbeatIntervalMs=td.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ip,this.ref=0,this.reconnectTimer=null,this.vsn=Sv,this.logger=ip,this.conn=null,this.sendBuffer=[],this.serializer=new pN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...c)=>o(...c):(...c)=>fetch(...c),!(!((a=s==null?void 0:s.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${Dp.websocket}`,this.httpEndpoint=L_(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=lN.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,a){this.logger(e,s,a)}connectionState(){switch(this.conn&&this.conn.readyState){case ga.connecting:return ni.Connecting;case ga.open:return ni.Open;case ga.closing:return ni.Closing;default:return ni.Closed}}isConnected(){return this.connectionState()===ni.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const a=`realtime:${e}`,o=this.getChannels().find(c=>c.topic===a);if(o)return o;{const c=new _o(`realtime:${e}`,s,this);return this.channels.push(c),c}}push(e){const{topic:s,event:a,payload:o,ref:c}=e,u=()=>{this.encode(e,p=>{var m;(m=this.conn)===null||m===void 0||m.send(p)})};this.log("push",`${s} ${a} (${c})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(hN,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},td.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const b=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",b)}catch(x){this.log("error","error in heartbeat callback",x)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:a,event:o,payload:c,ref:u}=s,p=u?`(${u})`:"",m=c.status||"";this.log("receive",`${m} ${a} ${o} ${p}`.trim(),c),this.channels.filter(b=>b._isMember(a)).forEach(b=>b._trigger(o,c,u)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===ga.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ga.open||this.conn.readyState===ga.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(s){this.log("error","error in heartbeat callback",s)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(xs.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const a=e.match(/\?/)?"&":"?",o=new URLSearchParams(s);return`${e}${a}${o}`}_workerObjectUrl(e){let s;if(e)s=e;else{const a=new Blob([kN],{type:"application/javascript"});s=URL.createObjectURL(a)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s,a=!1;if(e)s=e,a=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),s=this.accessTokenValue}else s=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(o=>{const c={access_token:s,version:uN};s&&o.updateJoinPayload(c),o.joinedOnce&&o._isJoined()&&o._push(xs.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(s)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new O_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},td.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,a,o,c,u,p,m,b,x,_,S,y;switch(this.transport=(s=e==null?void 0:e.transport)!==null&&s!==void 0?s:null,this.timeout=(a=e==null?void 0:e.timeout)!==null&&a!==void 0?a:Rp,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:td.HEARTBEAT_INTERVAL,this.worker=(c=e==null?void 0:e.worker)!==null&&c!==void 0?c:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(p=e==null?void 0:e.heartbeatCallback)!==null&&p!==void 0?p:ip,this.vsn=(m=e==null?void 0:e.vsn)!==null&&m!==void 0?m:Sv,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(b=e==null?void 0:e.reconnectAfterMs)!==null&&b!==void 0?b:(E=>xN[E-1]||wN),this.vsn){case dN:this.encode=(x=e==null?void 0:e.encode)!==null&&x!==void 0?x:((E,k)=>k(JSON.stringify(E))),this.decode=(_=e==null?void 0:e.decode)!==null&&_!==void 0?_:((E,k)=>k(JSON.parse(E)));break;case D_:this.encode=(S=e==null?void 0:e.encode)!==null&&S!==void 0?S:this.serializer.encode.bind(this.serializer),this.decode=(y=e==null?void 0:e.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var ic=class extends Error{constructor(r,e){var s;super(r),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((s=e.icebergType)==null?void 0:s.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function EN(r,e,s){const a=new URL(e,r);if(s)for(const[o,c]of Object.entries(s))c!==void 0&&a.searchParams.set(o,c);return a.toString()}async function AN(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function TN(r){const e=r.fetchImpl??globalThis.fetch;return{async request({method:s,path:a,query:o,body:c,headers:u}){const p=EN(r.baseUrl,a,o),m=await AN(r.auth),b=await e(p,{method:s,headers:{...c?{"Content-Type":"application/json"}:{},...m,...u},body:c?JSON.stringify(c):void 0}),x=await b.text(),_=(b.headers.get("content-type")||"").includes("application/json"),S=_&&x?JSON.parse(x):x;if(!b.ok){const y=_?S:void 0,E=y==null?void 0:y.error;throw new ic((E==null?void 0:E.message)??`Request failed with status ${b.status}`,{status:b.status,icebergType:E==null?void 0:E.type,icebergCode:E==null?void 0:E.code,details:y})}return{status:b.status,headers:b.headers,data:S}}}}function nd(r){return r.join("")}var NN=class{constructor(r,e=""){this.client=r,this.prefix=e}async listNamespaces(r){const e=r?{parent:nd(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(r,e){const s={namespace:r.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${nd(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${nd(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${nd(r.namespace)}`}),!0}catch(e){if(e instanceof ic&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(r,e){try{return await this.createNamespace(r,e)}catch(s){if(s instanceof ic&&s.status===409)return;throw s}}};function co(r){return r.join("")}var CN=class{constructor(r,e="",s){this.client=r,this.prefix=e,this.accessDelegation=s}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${co(r.namespace)}/tables`})).data.identifiers}async createTable(r,e){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${co(r.namespace)}/tables`,body:e,headers:s})).data.metadata}async updateTable(r,e){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${co(r.namespace)}/tables/${r.name}`,body:e});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(r,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${co(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(r){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${co(r.namespace)}/tables/${r.name}`,headers:e})).data.metadata}async tableExists(r){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${co(r.namespace)}/tables/${r.name}`,headers:e}),!0}catch(s){if(s instanceof ic&&s.status===404)return!1;throw s}}async createTableIfNotExists(r,e){try{return await this.createTable(r,e)}catch(s){if(s instanceof ic&&s.status===409)return await this.loadTable({namespace:r.namespace,name:e.name});throw s}}},jN=class{constructor(r){var a;let e="v1";r.catalogName&&(e+=`/${r.catalogName}`);const s=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=TN({baseUrl:s,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=(a=r.accessDelegation)==null?void 0:a.join(","),this.namespaceOps=new NN(this.client,e),this.tableOps=new CN(this.client,e,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,e){return this.namespaceOps.createNamespace(r,e)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,e){return this.tableOps.createTable(r,e)}async updateTable(r,e){return this.tableOps.updateTable(r,e)}async dropTable(r,e){await this.tableOps.dropTable(r,e)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,e){return this.namespaceOps.createNamespaceIfNotExists(r,e)}async createTableIfNotExists(r,e){return this.tableOps.createTableIfNotExists(r,e)}},Pd=class extends Error{constructor(r,e="storage",s,a){super(r),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=s,this.statusCode=a}};function zd(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var sd=class extends Pd{constructor(r,e,s,a="storage"){super(r,a,e,s),this.name=a==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},U_=class extends Pd{constructor(r,e,s="storage"){super(r,s),this.name=s==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const RN=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),DN=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Ip=r=>{if(Array.isArray(r))return r.map(s=>Ip(s));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([s,a])=>{const o=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));e[o]=Ip(a)}),e},ON=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function oc(r){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(r)}function IN(r,e){if(oc(r)!="object"||!r)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var a=s.call(r,e);if(oc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function LN(r){var e=IN(r,"string");return oc(e)=="symbol"?e:e+""}function UN(r,e,s){return(e=LN(e))in r?Object.defineProperty(r,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[e]=s,r}function Nv(r,e){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),s.push.apply(s,a)}return s}function He(r){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?Nv(Object(s),!0).forEach(function(a){UN(r,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):Nv(Object(s)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(s,a))})}return r}const Cv=r=>{var e;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(e=r.error)===null||e===void 0?void 0:e.message)||JSON.stringify(r)},MN=async(r,e,s,a)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!(s!=null&&s.noResolveJson)){const o=r,c=o.status||500;if(typeof o.json=="function")o.json().then(u=>{const p=(u==null?void 0:u.statusCode)||(u==null?void 0:u.code)||c+"";e(new sd(Cv(u),c,p,a))}).catch(()=>{if(a==="vectors"){const u=c+"";e(new sd(o.statusText||`HTTP ${c} error`,c,u,a))}else{const u=c+"";e(new sd(o.statusText||`HTTP ${c} error`,c,u,a))}});else{const u=c+"";e(new sd(o.statusText||`HTTP ${c} error`,c,u,a))}}else e(new U_(Cv(r),r,a))},PN=(r,e,s,a)=>{const o={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"||r==="HEAD"||!a?He(He({},o),s):(DN(a)?(o.headers=He({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(a)):o.body=a,e!=null&&e.duplex&&(o.duplex=e.duplex),He(He({},o),s))};async function Ul(r,e,s,a,o,c,u){return new Promise((p,m)=>{r(s,PN(e,a,o,c)).then(b=>{if(!b.ok)throw b;if(a!=null&&a.noResolveJson)return b;if(u==="vectors"){const x=b.headers.get("content-type");if(b.headers.get("content-length")==="0"||b.status===204)return{};if(!x||!x.includes("application/json"))return{}}return b.json()}).then(b=>p(b)).catch(b=>MN(b,m,a,u))})}function M_(r="storage"){return{get:async(e,s,a,o)=>Ul(e,"GET",s,a,o,void 0,r),post:async(e,s,a,o,c)=>Ul(e,"POST",s,o,c,a,r),put:async(e,s,a,o,c)=>Ul(e,"PUT",s,o,c,a,r),head:async(e,s,a,o)=>Ul(e,"HEAD",s,He(He({},a),{},{noResolveJson:!0}),o,void 0,r),remove:async(e,s,a,o,c)=>Ul(e,"DELETE",s,o,c,a,r)}}const zN=M_("storage"),{get:lc,post:_s,put:Lp,head:BN,remove:v0}=zN,Hn=M_("vectors");var Oo=class{constructor(r,e={},s,a="storage"){this.shouldThrowOnError=!1,this.url=r,this.headers=e,this.fetch=RN(s),this.namespace=a}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(r){var e=this;try{return{data:await r(),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(zd(s))return{data:null,error:s};throw s}}},$N=class{constructor(r,e){this.downloadFn=r,this.shouldThrowOnError=e}then(r,e){return this.execute().then(r,e)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(e){if(r.shouldThrowOnError)throw e;if(zd(e))return{data:null,error:e};throw e}}};let P_;P_=Symbol.toStringTag;var FN=class{constructor(r,e){this.downloadFn=r,this.shouldThrowOnError=e,this[P_]="BlobDownloadBuilder",this.promise=null}asStream(){return new $N(this.downloadFn,this.shouldThrowOnError)}then(r,e){return this.getPromise().then(r,e)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(e){if(r.shouldThrowOnError)throw e;if(zd(e))return{data:null,error:e};throw e}}};const VN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},jv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var HN=class extends Oo{constructor(r,e={},s,a){super(r,e,a,"storage"),this.bucketId=s}async uploadOrUpdate(r,e,s,a){var o=this;return o.handleOperation(async()=>{let c;const u=He(He({},jv),a);let p=He(He({},o.headers),r==="POST"&&{"x-upsert":String(u.upsert)});const m=u.metadata;typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),m&&c.append("metadata",o.encodeMetadata(m)),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.has("cacheControl")||c.append("cacheControl",u.cacheControl),m&&!c.has("metadata")&&c.append("metadata",o.encodeMetadata(m))):(c=s,p["cache-control"]=`max-age=${u.cacheControl}`,p["content-type"]=u.contentType,m&&(p["x-metadata"]=o.toBase64(o.encodeMetadata(m))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!u.duplex&&(u.duplex="half")),a!=null&&a.headers&&(p=He(He({},p),a.headers));const b=o._removeEmptyFolders(e),x=o._getFinalPath(b),_=await(r=="PUT"?Lp:_s)(o.fetch,`${o.url}/object/${x}`,c,He({headers:p},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{path:b,id:_.Id,fullPath:_.Key}})}async upload(r,e,s){return this.uploadOrUpdate("POST",r,e,s)}async uploadToSignedUrl(r,e,s,a){var o=this;const c=o._removeEmptyFolders(r),u=o._getFinalPath(c),p=new URL(o.url+`/object/upload/sign/${u}`);return p.searchParams.set("token",e),o.handleOperation(async()=>{let m;const b=He({upsert:jv.upsert},a),x=He(He({},o.headers),{"x-upsert":String(b.upsert)});return typeof Blob<"u"&&s instanceof Blob?(m=new FormData,m.append("cacheControl",b.cacheControl),m.append("",s)):typeof FormData<"u"&&s instanceof FormData?(m=s,m.append("cacheControl",b.cacheControl)):(m=s,x["cache-control"]=`max-age=${b.cacheControl}`,x["content-type"]=b.contentType),{path:c,fullPath:(await Lp(o.fetch,p.toString(),m,{headers:x})).Key}})}async createSignedUploadUrl(r,e){var s=this;return s.handleOperation(async()=>{let a=s._getFinalPath(r);const o=He({},s.headers);e!=null&&e.upsert&&(o["x-upsert"]="true");const c=await _s(s.fetch,`${s.url}/object/upload/sign/${a}`,{},{headers:o}),u=new URL(s.url+c.url),p=u.searchParams.get("token");if(!p)throw new Pd("No token returned by API");return{signedUrl:u.toString(),path:r,token:p}})}async update(r,e,s){return this.uploadOrUpdate("PUT",r,e,s)}async move(r,e,s){var a=this;return a.handleOperation(async()=>await _s(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:r,destinationKey:e,destinationBucket:s==null?void 0:s.destinationBucket},{headers:a.headers}))}async copy(r,e,s){var a=this;return a.handleOperation(async()=>({path:(await _s(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:r,destinationKey:e,destinationBucket:s==null?void 0:s.destinationBucket},{headers:a.headers})).Key}))}async createSignedUrl(r,e,s){var a=this;return a.handleOperation(async()=>{let o=a._getFinalPath(r),c=await _s(a.fetch,`${a.url}/object/sign/${o}`,He({expiresIn:e},s!=null&&s.transform?{transform:s.transform}:{}),{headers:a.headers});const u=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{signedUrl:encodeURI(`${a.url}${c.signedURL}${u}`)}})}async createSignedUrls(r,e,s){var a=this;return a.handleOperation(async()=>{const o=await _s(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:e,paths:r},{headers:a.headers}),c=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return o.map(u=>He(He({},u),{},{signedUrl:u.signedURL?encodeURI(`${a.url}${u.signedURL}${c}`):null}))})}download(r,e){const s=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),o=a?`?${a}`:"",c=this._getFinalPath(r),u=()=>lc(this.fetch,`${this.url}/${s}/${c}${o}`,{headers:this.headers,noResolveJson:!0});return new FN(u,this.shouldThrowOnError)}async info(r){var e=this;const s=e._getFinalPath(r);return e.handleOperation(async()=>Ip(await lc(e.fetch,`${e.url}/object/info/${s}`,{headers:e.headers})))}async exists(r){var e=this;const s=e._getFinalPath(r);try{return await BN(e.fetch,`${e.url}/object/${s}`,{headers:e.headers}),{data:!0,error:null}}catch(a){if(e.shouldThrowOnError)throw a;if(zd(a)&&a instanceof U_){const o=a.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:a}}throw a}}getPublicUrl(r,e){const s=this._getFinalPath(r),a=[],o=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&a.push(o);const c=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});u!==""&&a.push(u);let p=a.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${s}${p}`)}}}async remove(r){var e=this;return e.handleOperation(async()=>await v0(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:r},{headers:e.headers}))}async list(r,e,s){var a=this;return a.handleOperation(async()=>{const o=He(He(He({},VN),e),{},{prefix:r||""});return await _s(a.fetch,`${a.url}/object/list/${a.bucketId}`,o,{headers:a.headers},s)})}async listV2(r,e){var s=this;return s.handleOperation(async()=>{const a=He({},r);return await _s(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,a,{headers:s.headers},e)})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const e=[];return r.width&&e.push(`width=${r.width}`),r.height&&e.push(`height=${r.height}`),r.resize&&e.push(`resize=${r.resize}`),r.format&&e.push(`format=${r.format}`),r.quality&&e.push(`quality=${r.quality}`),e.join("&")}};const qN="2.93.3",kc={"X-Client-Info":`storage-js/${qN}`};var GN=class extends Oo{constructor(r,e={},s,a){const o=new URL(r);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase."));const c=o.href.replace(/\/$/,""),u=He(He({},kc),e);super(c,u,s,"storage")}async listBuckets(r){var e=this;return e.handleOperation(async()=>{const s=e.listBucketOptionsToQueryString(r);return await lc(e.fetch,`${e.url}/bucket${s}`,{headers:e.headers})})}async getBucket(r){var e=this;return e.handleOperation(async()=>await lc(e.fetch,`${e.url}/bucket/${r}`,{headers:e.headers}))}async createBucket(r,e={public:!1}){var s=this;return s.handleOperation(async()=>await _s(s.fetch,`${s.url}/bucket`,{id:r,name:r,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:s.headers}))}async updateBucket(r,e){var s=this;return s.handleOperation(async()=>await Lp(s.fetch,`${s.url}/bucket/${r}`,{id:r,name:r,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:s.headers}))}async emptyBucket(r){var e=this;return e.handleOperation(async()=>await _s(e.fetch,`${e.url}/bucket/${r}/empty`,{},{headers:e.headers}))}async deleteBucket(r){var e=this;return e.handleOperation(async()=>await v0(e.fetch,`${e.url}/bucket/${r}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(r){const e={};return r&&("limit"in r&&(e.limit=String(r.limit)),"offset"in r&&(e.offset=String(r.offset)),r.search&&(e.search=r.search),r.sortColumn&&(e.sortColumn=r.sortColumn),r.sortOrder&&(e.sortOrder=r.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},KN=class extends Oo{constructor(r,e={},s){const a=r.replace(/\/$/,""),o=He(He({},kc),e);super(a,o,s,"storage")}async createBucket(r){var e=this;return e.handleOperation(async()=>await _s(e.fetch,`${e.url}/bucket`,{name:r},{headers:e.headers}))}async listBuckets(r){var e=this;return e.handleOperation(async()=>{const s=new URLSearchParams;(r==null?void 0:r.limit)!==void 0&&s.set("limit",r.limit.toString()),(r==null?void 0:r.offset)!==void 0&&s.set("offset",r.offset.toString()),r!=null&&r.sortColumn&&s.set("sortColumn",r.sortColumn),r!=null&&r.sortOrder&&s.set("sortOrder",r.sortOrder),r!=null&&r.search&&s.set("search",r.search);const a=s.toString(),o=a?`${e.url}/bucket?${a}`:`${e.url}/bucket`;return await lc(e.fetch,o,{headers:e.headers})})}async deleteBucket(r){var e=this;return e.handleOperation(async()=>await v0(e.fetch,`${e.url}/bucket/${r}`,{},{headers:e.headers}))}from(r){var e=this;if(!ON(r))throw new Pd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new jN({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(s,{get(o,c){const u=o[c];return typeof u!="function"?u:async(...p)=>{try{return{data:await u.apply(o,p),error:null}}catch(m){if(a)throw m;return{data:null,error:m}}}}})}},JN=class extends Oo{constructor(r,e={},s){const a=r.replace(/\/$/,""),o=He(He({},kc),{},{"Content-Type":"application/json"},e);super(a,o,s,"vectors")}async createIndex(r){var e=this;return e.handleOperation(async()=>await Hn.post(e.fetch,`${e.url}/CreateIndex`,r,{headers:e.headers})||{})}async getIndex(r,e){var s=this;return s.handleOperation(async()=>await Hn.post(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:r,indexName:e},{headers:s.headers}))}async listIndexes(r){var e=this;return e.handleOperation(async()=>await Hn.post(e.fetch,`${e.url}/ListIndexes`,r,{headers:e.headers}))}async deleteIndex(r,e){var s=this;return s.handleOperation(async()=>await Hn.post(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:r,indexName:e},{headers:s.headers})||{})}},YN=class extends Oo{constructor(r,e={},s){const a=r.replace(/\/$/,""),o=He(He({},kc),{},{"Content-Type":"application/json"},e);super(a,o,s,"vectors")}async putVectors(r){var e=this;if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Hn.post(e.fetch,`${e.url}/PutVectors`,r,{headers:e.headers})||{})}async getVectors(r){var e=this;return e.handleOperation(async()=>await Hn.post(e.fetch,`${e.url}/GetVectors`,r,{headers:e.headers}))}async listVectors(r){var e=this;if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return e.handleOperation(async()=>await Hn.post(e.fetch,`${e.url}/ListVectors`,r,{headers:e.headers}))}async queryVectors(r){var e=this;return e.handleOperation(async()=>await Hn.post(e.fetch,`${e.url}/QueryVectors`,r,{headers:e.headers}))}async deleteVectors(r){var e=this;if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Hn.post(e.fetch,`${e.url}/DeleteVectors`,r,{headers:e.headers})||{})}},WN=class extends Oo{constructor(r,e={},s){const a=r.replace(/\/$/,""),o=He(He({},kc),{},{"Content-Type":"application/json"},e);super(a,o,s,"vectors")}async createBucket(r){var e=this;return e.handleOperation(async()=>await Hn.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:e.headers})||{})}async getBucket(r){var e=this;return e.handleOperation(async()=>await Hn.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:r},{headers:e.headers}))}async listBuckets(r={}){var e=this;return e.handleOperation(async()=>await Hn.post(e.fetch,`${e.url}/ListVectorBuckets`,r,{headers:e.headers}))}async deleteBucket(r){var e=this;return e.handleOperation(async()=>await Hn.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:e.headers})||{})}},XN=class extends WN{constructor(r,e={}){super(r,e.headers||{},e.fetch)}from(r){return new ZN(this.url,this.headers,r,this.fetch)}async createBucket(r){var e=()=>super.createBucket,s=this;return e().call(s,r)}async getBucket(r){var e=()=>super.getBucket,s=this;return e().call(s,r)}async listBuckets(r={}){var e=()=>super.listBuckets,s=this;return e().call(s,r)}async deleteBucket(r){var e=()=>super.deleteBucket,s=this;return e().call(s,r)}},ZN=class extends JN{constructor(r,e,s,a){super(r,e,a),this.vectorBucketName=s}async createIndex(r){var e=()=>super.createIndex,s=this;return e().call(s,He(He({},r),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(r={}){var e=()=>super.listIndexes,s=this;return e().call(s,He(He({},r),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(r){var e=()=>super.getIndex,s=this;return e().call(s,s.vectorBucketName,r)}async deleteIndex(r){var e=()=>super.deleteIndex,s=this;return e().call(s,s.vectorBucketName,r)}index(r){return new QN(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},QN=class extends YN{constructor(r,e,s,a,o){super(r,e,o),this.vectorBucketName=s,this.indexName=a}async putVectors(r){var e=()=>super.putVectors,s=this;return e().call(s,He(He({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(r){var e=()=>super.getVectors,s=this;return e().call(s,He(He({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(r={}){var e=()=>super.listVectors,s=this;return e().call(s,He(He({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(r){var e=()=>super.queryVectors,s=this;return e().call(s,He(He({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(r){var e=()=>super.deleteVectors,s=this;return e().call(s,He(He({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},eC=class extends GN{constructor(r,e={},s,a){super(r,e,s,a)}from(r){return new HN(this.url,this.headers,r,this.fetch)}get vectors(){return new XN(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new KN(this.url+"/iceberg",this.headers,this.fetch)}};const z_="2.93.3",yo=30*1e3,Up=3,op=Up*yo,tC="http://localhost:9999",nC="supabase.auth.token",sC={"X-Client-Info":`gotrue-js/${z_}`},Mp="X-Supabase-Api-Version",B_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},rC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,aC=600*1e3;class cc extends Error{constructor(e,s,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=a}}function Me(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class iC extends cc{constructor(e,s,a){super(e,s,a),this.name="AuthApiError",this.status=s,this.code=a}}function oC(r){return Me(r)&&r.name==="AuthApiError"}class si extends cc{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class Ir extends cc{constructor(e,s,a,o){super(e,a,o),this.name=s,this.status=a}}class Vn extends Ir{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function lp(r){return Me(r)&&r.name==="AuthSessionMissingError"}class uo extends Ir{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class rd extends Ir{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ad extends Ir{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function lC(r){return Me(r)&&r.name==="AuthImplicitGrantRedirectError"}class Rv extends Ir{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class cC extends Ir{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Pp extends Ir{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function cp(r){return Me(r)&&r.name==="AuthRetryableFetchError"}class Dv extends Ir{constructor(e,s,a){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=a}}class zp extends Ir{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Nd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ov=` 	
\r=`.split(""),uC=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<Ov.length;e+=1)r[Ov[e].charCodeAt(0)]=-2;for(let e=0;e<Nd.length;e+=1)r[Nd[e].charCodeAt(0)]=e;return r})();function Iv(r,e,s){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;s(Nd[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;s(Nd[a]),e.queuedBits-=6}}function $_(r,e,s){const a=uC[r];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Lv(r){const e=[],s=u=>{e.push(String.fromCodePoint(u))},a={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=u=>{fC(u,a,s)};for(let u=0;u<r.length;u+=1)$_(r.charCodeAt(u),o,c);return e.join("")}function dC(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function hC(r,e){for(let s=0;s<r.length;s+=1){let a=r.charCodeAt(s);if(a>55295&&a<=56319){const o=(a-55296)*1024&65535;a=(r.charCodeAt(s+1)-56320&65535|o)+65536,s+=1}dC(a,e)}}function fC(r,e,s){if(e.utf8seq===0){if(r<=127){s(r);return}for(let a=1;a<6;a+=1)if((r>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function Ao(r){const e=[],s={queue:0,queuedBits:0},a=o=>{e.push(o)};for(let o=0;o<r.length;o+=1)$_(r.charCodeAt(o),s,a);return new Uint8Array(e)}function pC(r){const e=[];return hC(r,s=>e.push(s)),new Uint8Array(e)}function oi(r){const e=[],s={queue:0,queuedBits:0},a=o=>{e.push(o)};return r.forEach(o=>Iv(o,s,a)),Iv(null,s,a),e.join("")}function mC(r){return Math.round(Date.now()/1e3)+r}function gC(){return Symbol("auth-callback")}const gn=()=>typeof window<"u"&&typeof document<"u",Wa={tested:!1,writable:!1},F_=()=>{if(!gn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Wa.tested)return Wa.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Wa.tested=!0,Wa.writable=!0}catch{Wa.tested=!0,Wa.writable=!1}return Wa.writable};function bC(r){const e={},s=new URL(r);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((o,c)=>{e[c]=o})}catch{}return s.searchParams.forEach((a,o)=>{e[o]=a}),e}const V_=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),yC=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",vo=async(r,e,s)=>{await r.setItem(e,JSON.stringify(s))},Xa=async(r,e)=>{const s=await r.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},mn=async(r,e)=>{await r.removeItem(e)};class Bd{constructor(){this.promise=new Bd.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Bd.promiseConstructor=Promise;function id(r){const e=r.split(".");if(e.length!==3)throw new zp("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!rC.test(e[a]))throw new zp("JWT not in base64url format");return{header:JSON.parse(Lv(e[0])),payload:JSON.parse(Lv(e[1])),signature:Ao(e[2]),raw:{header:e[0],payload:e[1]}}}async function vC(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function _C(r,e){return new Promise((a,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const u=await r(c);if(!e(c,null,u)){a(u);return}}catch(u){if(!e(c,u)){o(u);return}}})()})}function xC(r){return("0"+r.toString(16)).substr(-2)}function wC(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=s.length;let o="";for(let c=0;c<56;c++)o+=s.charAt(Math.floor(Math.random()*a));return o}return crypto.getRandomValues(e),Array.from(e,xC).join("")}async function kC(r){const s=new TextEncoder().encode(r),a=await crypto.subtle.digest("SHA-256",s),o=new Uint8Array(a);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function SC(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const s=await kC(r);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ho(r,e,s=!1){const a=wC();let o=a;s&&(o+="/PASSWORD_RECOVERY"),await vo(r,`${e}-code-verifier`,o);const c=await SC(a);return[c,a===c?"plain":"s256"]}const EC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function AC(r){const e=r.headers.get(Mp);if(!e||!e.match(EC))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function TC(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function NC(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const CC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fo(r){if(!CC.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function up(){const r={};return new Proxy(r,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const a=s.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function jC(r,e){return new Proxy(r,{get:(s,a,o)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const c=a.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,a,o)}return!e.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(s,a,o)}})}function Uv(r){return JSON.parse(JSON.stringify(r))}const ei=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),RC=[502,503,504];async function Mv(r){var e;if(!yC(r))throw new Pp(ei(r),0);if(RC.includes(r.status))throw new Pp(ei(r),r.status);let s;try{s=await r.json()}catch(c){throw new si(ei(c),c)}let a;const o=AC(r);if(o&&o.getTime()>=B_["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?a=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(a=s.error_code),a){if(a==="weak_password")throw new Dv(ei(s),r.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new Vn}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,u)=>c&&typeof u=="string",!0))throw new Dv(ei(s),r.status,s.weak_password.reasons);throw new iC(ei(s),r.status||500,a)}const DC=(r,e,s,a)=>{const o={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(a),Object.assign(Object.assign({},o),s))};async function Ve(r,e,s,a){var o;const c=Object.assign({},a==null?void 0:a.headers);c[Mp]||(c[Mp]=B_["2024-01-01"].name),a!=null&&a.jwt&&(c.Authorization=`Bearer ${a.jwt}`);const u=(o=a==null?void 0:a.query)!==null&&o!==void 0?o:{};a!=null&&a.redirectTo&&(u.redirect_to=a.redirectTo);const p=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",m=await OC(r,e,s+p,{headers:c,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(m):{data:Object.assign({},m),error:null}}async function OC(r,e,s,a,o,c){const u=DC(e,a,o,c);let p;try{p=await r(s,Object.assign({},u))}catch(m){throw console.error(m),new Pp(ei(m),0)}if(p.ok||await Mv(p),a!=null&&a.noResolveJson)return p;try{return await p.json()}catch(m){await Mv(m)}}function vs(r){var e;let s=null;UC(r)&&(s=Object.assign({},r),r.expires_at||(s.expires_at=mC(r.expires_in)));const a=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:s,user:a},error:null}}function Pv(r){const e=vs(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0)&&(e.data.weak_password=r.weak_password),e}function _a(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function IC(r){return{data:r,error:null}}function LC(r){const{action_link:e,email_otp:s,hashed_token:a,redirect_to:o,verification_type:c}=r,u=Md(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:e,email_otp:s,hashed_token:a,redirect_to:o,verification_type:c},m=Object.assign({},u);return{data:{properties:p,user:m},error:null}}function zv(r){return r}function UC(r){return r.access_token&&r.refresh_token&&r.expires_in}const dp=["global","local","others"];class MC{constructor({url:e="",headers:s={},fetch:a}){this.url=e,this.headers=s,this.fetch=V_(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,s=dp[0]){if(dp.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${dp.join(", ")}`);try{return await Ve(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Me(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,s={}){try{return await Ve(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:_a})}catch(a){if(Me(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:s}=e,a=Md(e,["options"]),o=Object.assign(Object.assign({},a),s);return"newEmail"in a&&(o.new_email=a==null?void 0:a.newEmail,delete o.newEmail),await Ve(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:LC,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(Me(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await Ve(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:_a})}catch(s){if(Me(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,a,o,c,u,p,m;try{const b={nextPage:null,lastPage:0,total:0},x=await Ve(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(c=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:zv});if(x.error)throw x.error;const _=await x.json(),S=(u=x.headers.get("x-total-count"))!==null&&u!==void 0?u:0,y=(m=(p=x.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return y.length>0&&(y.forEach(E=>{const k=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(E.split(";")[1].split("=")[1]);b[`${N}Page`]=k}),b.total=parseInt(S)),{data:Object.assign(Object.assign({},_),b),error:null}}catch(b){if(Me(b))return{data:{users:[]},error:b};throw b}}async getUserById(e){fo(e);try{return await Ve(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:_a})}catch(s){if(Me(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){fo(e);try{return await Ve(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:_a})}catch(a){if(Me(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,s=!1){fo(e);try{return await Ve(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:_a})}catch(a){if(Me(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){fo(e.userId);try{const{data:s,error:a}=await Ve(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:s,error:a}}catch(s){if(Me(s))return{data:null,error:s};throw s}}async _deleteFactor(e){fo(e.userId),fo(e.id);try{return{data:await Ve(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(Me(s))return{data:null,error:s};throw s}}async _listOAuthClients(e){var s,a,o,c,u,p,m;try{const b={nextPage:null,lastPage:0,total:0},x=await Ve(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(c=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:zv});if(x.error)throw x.error;const _=await x.json(),S=(u=x.headers.get("x-total-count"))!==null&&u!==void 0?u:0,y=(m=(p=x.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return y.length>0&&(y.forEach(E=>{const k=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(E.split(";")[1].split("=")[1]);b[`${N}Page`]=k}),b.total=parseInt(S)),{data:Object.assign(Object.assign({},_),b),error:null}}catch(b){if(Me(b))return{data:{clients:[]},error:b};throw b}}async _createOAuthClient(e){try{return await Ve(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Me(s))return{data:null,error:s};throw s}}async _getOAuthClient(e){try{return await Ve(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Me(s))return{data:null,error:s};throw s}}async _updateOAuthClient(e,s){try{return await Ve(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:s,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(Me(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(e){try{return await Ve(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Me(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(e){try{return await Ve(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Me(s))return{data:null,error:s};throw s}}}function Bv(r={}){return{getItem:e=>r[e]||null,setItem:(e,s)=>{r[e]=s},removeItem:e=>{delete r[e]}}}const po={debug:!!(globalThis&&F_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class H_ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class PC extends H_{}async function zC(r,e,s){po.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),po.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async o=>{if(o){po.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,o.name);try{return await s()}finally{po.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,o.name)}}else{if(e===0)throw po.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new PC(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(po.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function BC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function q_(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function $C(r){return parseInt(r,16)}function FC(r){const e=new TextEncoder().encode(r);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function VC(r){var e;const{chainId:s,domain:a,expirationTime:o,issuedAt:c=new Date,nonce:u,notBefore:p,requestId:m,resources:b,scheme:x,uri:_,version:S}=r;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((e=r.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const y=q_(r.address),E=x?`${x}://${a}`:a,k=r.statement?`${r.statement}
`:"",N=`${E} wants you to sign in with your Ethereum account:
${y}

${k}`;let C=`URI: ${_}
Version: ${S}
Chain ID: ${s}${u?`
Nonce: ${u}`:""}
Issued At: ${c.toISOString()}`;if(o&&(C+=`
Expiration Time: ${o.toISOString()}`),p&&(C+=`
Not Before: ${p.toISOString()}`),m&&(C+=`
Request ID: ${m}`),b){let L=`
Resources:`;for(const P of b){if(!P||typeof P!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${P}`);L+=`
- ${P}`}C+=L}return`${N}
${C}`}class Xt extends Error{constructor({message:e,code:s,cause:a,name:o}){var c;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(c=o??(a instanceof Error?a.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=s}}class Cd extends Xt{constructor(e,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:e}),this.name="WebAuthnUnknownError",this.originalError=s}}function HC({error:r,options:e}){var s,a,o;const{publicKey:c}=e;if(!c)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Xt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((s=c.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Xt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(e.mediation==="conditional"&&((a=c.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Xt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Xt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new Xt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new Xt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return c.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new Xt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new Xt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const u=window.location.hostname;if(G_(u)){if(c.rp.id!==u)return new Xt({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Xt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new Xt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new Xt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Xt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function qC({error:r,options:e}){const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Xt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new Xt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const a=window.location.hostname;if(G_(a)){if(s.rpId!==a)return new Xt({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Xt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new Xt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Xt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class GC{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const KC=new GC;function JC(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:e,user:s,excludeCredentials:a}=r,o=Md(r,["challenge","user","excludeCredentials"]),c=Ao(e).buffer,u=Object.assign(Object.assign({},s),{id:Ao(s.id).buffer}),p=Object.assign(Object.assign({},o),{challenge:c,user:u});if(a&&a.length>0){p.excludeCredentials=new Array(a.length);for(let m=0;m<a.length;m++){const b=a[m];p.excludeCredentials[m]=Object.assign(Object.assign({},b),{id:Ao(b.id).buffer,type:b.type||"public-key",transports:b.transports})}}return p}function YC(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:e,allowCredentials:s}=r,a=Md(r,["challenge","allowCredentials"]),o=Ao(e).buffer,c=Object.assign(Object.assign({},a),{challenge:o});if(s&&s.length>0){c.allowCredentials=new Array(s.length);for(let u=0;u<s.length;u++){const p=s[u];c.allowCredentials[u]=Object.assign(Object.assign({},p),{id:Ao(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return c}function WC(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const s=r;return{id:r.id,rawId:r.id,response:{attestationObject:oi(new Uint8Array(r.response.attestationObject)),clientDataJSON:oi(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function XC(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const s=r,a=r.getClientExtensionResults(),o=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:oi(new Uint8Array(o.authenticatorData)),clientDataJSON:oi(new Uint8Array(o.clientDataJSON)),signature:oi(new Uint8Array(o.signature)),userHandle:o.userHandle?oi(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function G_(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function $v(){var r,e;return!!(gn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function ZC(r){try{const e=await navigator.credentials.create(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Cd("Browser returned unexpected credential type",e)}:{data:null,error:new Cd("Empty credential response",e)}}catch(e){return{data:null,error:HC({error:e,options:r})}}}async function QC(r){try{const e=await navigator.credentials.get(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Cd("Browser returned unexpected credential type",e)}:{data:null,error:new Cd("Empty credential response",e)}}catch(e){return{data:null,error:qC({error:e,options:r})}}}const e6={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},t6={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function jd(...r){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),s=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),a={};for(const o of r)if(o)for(const c in o){const u=o[c];if(u!==void 0)if(Array.isArray(u))a[c]=u;else if(s(u))a[c]=u;else if(e(u)){const p=a[c];e(p)?a[c]=jd(p,u):a[c]=jd(u)}else a[c]=u}return a}function n6(r,e){return jd(e6,r,e||{})}function s6(r,e){return jd(t6,r,e||{})}class r6{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:s,friendlyName:a,signal:o},c){var u;try{const{data:p,error:m}=await this.client.mfa.challenge({factorId:e,webauthn:s});if(!p)return{data:null,error:m};const b=o??KC.createNewAbortSignal();if(p.webauthn.type==="create"){const{user:x}=p.webauthn.credential_options.publicKey;if(!x.name){const _=a;if(_)x.name=`${x.id}:${_}`;else{const y=(await this.client.getUser()).data.user,E=((u=y==null?void 0:y.user_metadata)===null||u===void 0?void 0:u.name)||(y==null?void 0:y.email)||(y==null?void 0:y.id)||"User";x.name=`${x.id}:${E}`}}x.displayName||(x.displayName=x.name)}switch(p.webauthn.type){case"create":{const x=n6(p.webauthn.credential_options.publicKey,c==null?void 0:c.create),{data:_,error:S}=await ZC({publicKey:x,signal:b});return _?{data:{factorId:e,challengeId:p.id,webauthn:{type:p.webauthn.type,credential_response:_}},error:null}:{data:null,error:S}}case"request":{const x=s6(p.webauthn.credential_options.publicKey,c==null?void 0:c.request),{data:_,error:S}=await QC(Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:x,signal:b}));return _?{data:{factorId:e,challengeId:p.id,webauthn:{type:p.webauthn.type,credential_response:_}},error:null}:{data:null,error:S}}}}catch(p){return Me(p)?{data:null,error:p}:{data:null,error:new si("Unexpected error in challenge",p)}}}async _verify({challengeId:e,factorId:s,webauthn:a}){return this.client.mfa.verify({factorId:s,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!s)return{data:null,error:new cc("rpId is required for WebAuthn authentication")};try{if(!$v())return{data:null,error:new si("Browser does not support WebAuthn",null)};const{data:u,error:p}=await this.challenge({factorId:e,webauthn:{rpId:s,rpOrigins:a},signal:o},{request:c});if(!u)return{data:null,error:p};const{webauthn:m}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:m.type,rpId:s,rpOrigins:a,credential_response:m.credential_response}})}catch(u){return Me(u)?{data:null,error:u}:{data:null,error:new si("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!s)return{data:null,error:new cc("rpId is required for WebAuthn registration")};try{if(!$v())return{data:null,error:new si("Browser does not support WebAuthn",null)};const{data:u,error:p}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(x=>{var _;return(_=x.data)===null||_===void 0?void 0:_.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===e&&S.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x==null?void 0:x.id}):void 0),{data:null,error:p};const{data:m,error:b}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:s,rpOrigins:a},signal:o},{create:c});return m?this._verify({factorId:u.id,challengeId:m.challengeId,webauthn:{rpId:s,rpOrigins:a,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:b}}catch(u){return Me(u)?{data:null,error:u}:{data:null,error:new si("Unexpected error in register",u)}}}}BC();const a6={url:tC,storageKey:nC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Fv(r,e,s){return await s()}const mo={};class uc{get jwks(){var e,s;return(s=(e=mo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){mo[this.storageKey]=Object.assign(Object.assign({},mo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=mo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){mo[this.storageKey]=Object.assign(Object.assign({},mo[this.storageKey]),{cachedAt:e})}constructor(e){var s,a,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},a6),e);if(this.storageKey=c.storageKey,this.instanceID=(s=uc.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,uc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&gn()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new MC({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=V_(c.fetch),this.lock=c.lock||Fv,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,this.lockAcquireTimeout=c.lockAcquireTimeout,c.lock?this.lock=c.lock:this.persistSession&&gn()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=zC:this.lock=Fv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new r6(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:F_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Bv(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=Bv(this.memoryStorage)),gn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u);try{await this._notifyAllSubscribers(u.data.event,u.data.session,!1)}catch(p){this._debug("#broadcastChannel","error",p)}})}this.initialize().catch(u=>{this._debug("#initialize()","error",u)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${z_}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let s={},a="none";if(gn()&&(s=bC(window.location.href),this._isImplicitGrantCallback(s)?a="implicit":await this._isPKCECallback(s)&&(a="pkce")),gn()&&this.detectSessionInUrl&&a!=="none"){const{data:o,error:c}=await this._getSessionFromURL(s,a);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),lC(c)){const m=(e=c.details)===null||e===void 0?void 0:e.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:c}}return{error:c}}const{session:u,redirectType:p}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",p),await this._saveSession(u),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return Me(s)?this._returnResult({error:s}):this._returnResult({error:new si("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,a,o;try{const c=await Ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:vs}),{data:u,error:p}=c;if(p||!u)return this._returnResult({data:{user:null,session:null},error:p});const m=u.session,b=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:b,session:m},error:null})}catch(c){if(Me(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(e){var s,a,o;try{let c;if("email"in e){const{email:x,password:_,options:S}=e;let y=null,E=null;this.flowType==="pkce"&&([y,E]=await ho(this.storage,this.storageKey)),c=await Ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S==null?void 0:S.emailRedirectTo,body:{email:x,password:_,data:(s=S==null?void 0:S.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken},code_challenge:y,code_challenge_method:E},xform:vs})}else if("phone"in e){const{phone:x,password:_,options:S}=e;c=await Ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:_,data:(a=S==null?void 0:S.data)!==null&&a!==void 0?a:{},channel:(o=S==null?void 0:S.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken}},xform:vs})}else throw new rd("You must provide either an email or phone number and a password");const{data:u,error:p}=c;if(p||!u)return await mn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:p});const m=u.session,b=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:b,session:m},error:null})}catch(c){if(await mn(this.storage,`${this.storageKey}-code-verifier`),Me(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(e){try{let s;if("email"in e){const{email:c,password:u,options:p}=e;s=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:u,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Pv})}else if("phone"in e){const{phone:c,password:u,options:p}=e;s=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:u,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Pv})}else throw new rd("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!a||!a.session||!a.user){const c=new uo;return this._returnResult({data:{user:null,session:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:o})}catch(s){if(Me(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(e){var s,a,o,c;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=e.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;switch(s){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(e){var s,a,o,c,u,p,m,b,x,_,S;let y,E;if("message"in e)y=e.message,E=e.signature;else{const{chain:k,wallet:N,statement:C,options:L}=e;let P;if(gn())if(typeof N=="object")P=N;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")P=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(L!=null&&L.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=N}const V=new URL((s=L==null?void 0:L.url)!==null&&s!==void 0?s:window.location.href),q=await P.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!q||q.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const G=q_(q[0]);let O=(a=L==null?void 0:L.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!O){const I=await P.request({method:"eth_chainId"});O=$C(I)}const j={domain:V.host,address:G,statement:C,uri:V.href,version:"1",chainId:O,nonce:(o=L==null?void 0:L.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(c=L==null?void 0:L.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(p=L==null?void 0:L.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(m=L==null?void 0:L.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(b=L==null?void 0:L.signInWithEthereum)===null||b===void 0?void 0:b.requestId,resources:(x=L==null?void 0:L.signInWithEthereum)===null||x===void 0?void 0:x.resources};y=VC(j),E=await P.request({method:"personal_sign",params:[FC(y),G]})}try{const{data:k,error:N}=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:E},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:vs});if(N)throw N;if(!k||!k.session||!k.user){const C=new uo;return this._returnResult({data:{user:null,session:null},error:C})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:N})}catch(k){if(Me(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(e){var s,a,o,c,u,p,m,b,x,_,S,y;let E,k;if("message"in e)E=e.message,k=e.signature;else{const{chain:N,wallet:C,statement:L,options:P}=e;let V;if(gn())if(typeof C=="object")V=C;else{const G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))V=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");V=C}const q=new URL((s=P==null?void 0:P.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in V&&V.signIn){const G=await V.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P==null?void 0:P.signInWithSolana),{version:"1",domain:q.host,uri:q.href}),L?{statement:L}:null));let O;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")O=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)O=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)E=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),k=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in V)||typeof V.signMessage!="function"||!("publicKey"in V)||typeof V!="object"||!V.publicKey||!("toBase58"in V.publicKey)||typeof V.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${q.host} wants you to sign in with your Solana account:`,V.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${q.href}`,`Issued At: ${(o=(a=P==null?void 0:P.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=P==null?void 0:P.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((u=P==null?void 0:P.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((p=P==null?void 0:P.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((m=P==null?void 0:P.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((b=P==null?void 0:P.signInWithSolana)===null||b===void 0)&&b.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((_=(x=P==null?void 0:P.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||_===void 0)&&_.length?["Resources",...P.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const G=await V.signMessage(new TextEncoder().encode(E),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=G}}try{const{data:N,error:C}=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:oi(k)},!((S=e.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:vs});if(C)throw C;if(!N||!N.session||!N.user){const L=new uo;return this._returnResult({data:{user:null,session:null},error:L})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:C})}catch(N){if(Me(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async _exchangeCodeForSession(e){const s=await Xa(this.storage,`${this.storageKey}-code-verifier`),[a,o]=(s??"").split("/");try{if(!a&&this.flowType==="pkce")throw new cC;const{data:c,error:u}=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:vs});if(await mn(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!c||!c.session||!c.user){const p=new uo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:u})}catch(c){if(await mn(this.storage,`${this.storageKey}-code-verifier`),Me(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(e){try{const{options:s,provider:a,token:o,access_token:c,nonce:u}=e,p=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:o,access_token:c,nonce:u,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:vs}),{data:m,error:b}=p;if(b)return this._returnResult({data:{user:null,session:null},error:b});if(!m||!m.session||!m.user){const x=new uo;return this._returnResult({data:{user:null,session:null},error:x})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:b})}catch(s){if(Me(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(e){var s,a,o,c,u;try{if("email"in e){const{email:p,options:m}=e;let b=null,x=null;this.flowType==="pkce"&&([b,x]=await ho(this.storage,this.storageKey));const{error:_}=await Ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},create_user:(a=m==null?void 0:m.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:b,code_challenge_method:x},redirectTo:m==null?void 0:m.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in e){const{phone:p,options:m}=e,{data:b,error:x}=await Ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(o=m==null?void 0:m.data)!==null&&o!==void 0?o:{},create_user:(c=m==null?void 0:m.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(u=m==null?void 0:m.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:b==null?void 0:b.message_id},error:x})}throw new rd("You must provide either an email or phone number.")}catch(p){if(await mn(this.storage,`${this.storageKey}-code-verifier`),Me(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(e){var s,a;try{let o,c;"options"in e&&(o=(s=e.options)===null||s===void 0?void 0:s.redirectTo,c=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:u,error:p}=await Ve(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:vs});if(p)throw p;if(!u)throw new Error("An error occurred on token verification.");const m=u.session,b=u.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:b,session:m},error:null})}catch(o){if(Me(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var s,a,o,c,u;try{let p=null,m=null;this.flowType==="pkce"&&([p,m]=await ho(this.storage,this.storageKey));const b=await Ve(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&a!==void 0?a:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:m}),headers:this.headers,xform:IC});return!((c=b.data)===null||c===void 0)&&c.url&&gn()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(b.data.url),this._returnResult(b)}catch(p){if(await mn(this.storage,`${this.storageKey}-code-verifier`),Me(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:a}=e;if(a)throw a;if(!s)throw new Vn;const{error:o}=await Ve(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(Me(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:a,type:o,options:c}=e,{error:u}=await Ve(this.fetch,"POST",s,{headers:this.headers,body:{email:a,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:a,type:o,options:c}=e,{data:u,error:p}=await Ve(this.fetch,"POST",s,{headers:this.headers,body:{phone:a,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:p})}throw new rd("You must provide either an email or phone number and a type")}catch(s){if(Me(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await a,await s()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=s();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await Xa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<op:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const u=await Xa(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=up()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=jC(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:c}=await this._callRefreshToken(e.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(e){try{return e?await Ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:_a}):await this._useSession(async s=>{var a,o,c;const{data:u,error:p}=s;if(p)throw p;return!(!((a=u.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vn}:await Ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:_a})})}catch(s){if(Me(s))return lp(s)&&(await this._removeSession(),await mn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async a=>{const{data:o,error:c}=a;if(c)throw c;if(!o.session)throw new Vn;const u=o.session;let p=null,m=null;this.flowType==="pkce"&&e.email!=null&&([p,m]=await ho(this.storage,this.storageKey));const{data:b,error:x}=await Ve(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:p,code_challenge_method:m}),jwt:u.access_token,xform:_a});if(x)throw x;return u.user=b.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(a){if(await mn(this.storage,`${this.storageKey}-code-verifier`),Me(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Vn;const s=Date.now()/1e3;let a=s,o=!0,c=null;const{payload:u}=id(e.access_token);if(u.exp&&(a=u.exp,o=a<=s),o){const{data:p,error:m}=await this._callRefreshToken(e.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p)return{data:{user:null,session:null},error:null};c=p}else{const{data:p,error:m}=await this._getUser(e.access_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});c={access_token:e.access_token,refresh_token:e.refresh_token,user:p.user,token_type:"bearer",expires_in:a-s,expires_at:a},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(s){if(Me(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var a;if(!e){const{data:u,error:p}=s;if(p)throw p;e=(a=u.session)!==null&&a!==void 0?a:void 0}if(!(e!=null&&e.refresh_token))throw new Vn;const{data:o,error:c}=await this._callRefreshToken(e.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(Me(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(e,s){try{if(!gn())throw new ad("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ad(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Rv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ad("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Rv("No code detected.");const{data:L,error:P}=await this._exchangeCodeForSession(e.code);if(P)throw P;const V=new URL(window.location.href);return V.searchParams.delete("code"),window.history.replaceState(window.history.state,"",V.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:o,access_token:c,refresh_token:u,expires_in:p,expires_at:m,token_type:b}=e;if(!c||!p||!u||!b)throw new ad("No session defined in URL");const x=Math.round(Date.now()/1e3),_=parseInt(p);let S=x+_;m&&(S=parseInt(m));const y=S-x;y*1e3<=yo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${_}s`);const E=S-_;x-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,S,x):x-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,S,x);const{data:k,error:N}=await this._getUser(c);if(N)throw N;const C={provider_token:a,provider_refresh_token:o,access_token:c,expires_in:_,expires_at:S,refresh_token:u,token_type:b,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:e.type},error:null})}catch(a){if(Me(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await Xa(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var a;const{data:o,error:c}=s;if(c&&!lp(c))return this._returnResult({error:c});const u=(a=o.session)===null||a===void 0?void 0:a.access_token;if(u){const{error:p}=await this.admin.signOut(u,e);if(p&&!(oC(p)&&(p.status===404||p.status===401||p.status===403)||lp(p)))return this._returnResult({error:p})}return e!=="others"&&(await this._removeSession(),await mn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const s=gC(),a={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,a),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async s=>{var a,o;try{const{data:{session:c},error:u}=s;if(u)throw u;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",e,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",c),console.error(c)}})}async resetPasswordForEmail(e,s={}){let a=null,o=null;this.flowType==="pkce"&&([a,o]=await ho(this.storage,this.storageKey,!0));try{return await Ve(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:o,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(await mn(this.storage,`${this.storageKey}-code-verifier`),Me(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var e;try{const{data:s,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(s){if(Me(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var s;try{const{data:a,error:o}=await this._useSession(async c=>{var u,p,m,b,x;const{data:_,error:S}=c;if(S)throw S;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(p=e.options)===null||p===void 0?void 0:p.scopes,queryParams:(m=e.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await Ve(this.fetch,"GET",y,{headers:this.headers,jwt:(x=(b=_.session)===null||b===void 0?void 0:b.access_token)!==null&&x!==void 0?x:void 0})});if(o)throw o;return gn()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),this._returnResult({data:{provider:e.provider,url:a==null?void 0:a.url},error:null})}catch(a){if(Me(a))return this._returnResult({data:{provider:e.provider,url:null},error:a});throw a}}async linkIdentityIdToken(e){return await this._useSession(async s=>{var a;try{const{error:o,data:{session:c}}=s;if(o)throw o;const{options:u,provider:p,token:m,access_token:b,nonce:x}=e,_=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=c==null?void 0:c.access_token)!==null&&a!==void 0?a:void 0,body:{provider:p,id_token:m,access_token:b,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:vs}),{data:S,error:y}=_;return y?this._returnResult({data:{user:null,session:null},error:y}):!S||!S.session||!S.user?this._returnResult({data:{user:null,session:null},error:new uo}):(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),this._returnResult({data:S,error:y}))}catch(o){if(await mn(this.storage,`${this.storageKey}-code-verifier`),Me(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async s=>{var a,o;const{data:c,error:u}=s;if(u)throw u;return await Ve(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0})})}catch(s){if(Me(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const a=Date.now();return await _C(async o=>(o>0&&await vC(200*Math.pow(2,o-1)),this._debug(s,"refreshing attempt",o),await Ve(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:vs})),(o,c)=>{const u=200*Math.pow(2,o);return c&&cp(c)&&Date.now()+u-a<yo})}catch(a){if(this._debug(s,"error",a),Me(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",a),gn()&&!s.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,s;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const o=await Xa(this.storage,this.storageKey);if(o&&this.userStorage){let u=await Xa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await vo(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:up()}else if(o&&!o.user&&!o.user){const u=await Xa(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(o.user=u.user,await mn(this.storage,this.storageKey+"-user"),await vo(this.storage,this.storageKey,o)):o.user=up()}if(this._debug(a,"session from storage",o),!this._isValidSession(o)){this._debug(a,"session is not valid"),o!==null&&await this._removeSession();return}const c=((s=o.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<op;if(this._debug(a,`session has${c?"":" not"} expired with margin of ${op}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),cp(u)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:p}=await this._getUser(o.access_token);!p&&(u!=null&&u.user)?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(a,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(a,"error",o),console.error(o);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var s,a;if(!e)throw new Vn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Bd;const{data:c,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!c.session)throw new Vn;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const p={data:c.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(c){if(this._debug(o,"error",c),Me(c)){const u={data:null,error:c};return cp(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(u),u}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,s,a=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",s,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:s});const c=[],u=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(e,s)}catch(m){c.push(m)}});if(await Promise.all(u),c.length>0){for(let p=0;p<c.length;p+=1)console.error(c[p]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await mn(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},e),a=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&s.user&&await vo(this.userStorage,this.storageKey+"-user",{user:s.user});const o=Object.assign({},s);delete o.user;const c=Uv(o);await vo(this.storage,this.storageKey,c)}else{const o=Uv(s);await vo(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await mn(this.storage,this.storageKey),await mn(this.storage,this.storageKey+"-code-verifier"),await mn(this.storage,this.storageKey+"-user"),this.userStorage&&await mn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&gn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),yo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:a}}=s;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((a.expires_at*1e3-e)/yo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${yo}ms, refresh threshold is ${Up} ticks`),o<=Up&&await this._callRefreshToken(a.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof H_)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!gn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,a){const o=[`provider=${encodeURIComponent(s)}`];if(a!=null&&a.redirectTo&&o.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&o.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[c,u]=await ho(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(p.toString())}if(a!=null&&a.queryParams){const c=new URLSearchParams(a.queryParams);o.push(c.toString())}return a!=null&&a.skipBrowserRedirect&&o.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var a;const{data:o,error:c}=s;return c?this._returnResult({data:null,error:c}):await Ve(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token})})}catch(s){if(Me(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(e){try{return await this._useSession(async s=>{var a,o;const{data:c,error:u}=s;if(u)return this._returnResult({data:null,error:u});const p=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:m,error:b}=await Ve(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(a=c==null?void 0:c.session)===null||a===void 0?void 0:a.access_token});return b?this._returnResult({data:null,error:b}):(e.factorType==="totp"&&m.type==="totp"&&(!((o=m==null?void 0:m.totp)===null||o===void 0)&&o.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(s){if(Me(s))return this._returnResult({data:null,error:s});throw s}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var a;const{data:o,error:c}=s;if(c)return this._returnResult({data:null,error:c});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?WC(e.webauthn.credential_response):XC(e.webauthn.credential_response)})}:{code:e.code}),{data:p,error:m}=await Ve(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:m}))})}catch(s){if(Me(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var a;const{data:o,error:c}=s;if(c)return this._returnResult({data:null,error:c});const u=await Ve(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token});if(u.error)return u;const{data:p}=u;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:JC(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:YC(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(Me(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(e){const{data:s,error:a}=await this._challenge({factorId:e.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){var e;const{data:{user:s},error:a}=await this.getUser();if(a)return{data:null,error:a};const o={all:[],phone:[],totp:[],webauthn:[]};for(const c of(e=s==null?void 0:s.factors)!==null&&e!==void 0?e:[])o.all.push(c),c.status==="verified"&&o[c.factor_type].push(c);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(e){var s,a,o,c;if(e)try{const{payload:y}=id(e);let E=null;y.aal&&(E=y.aal);let k=E;const{data:{user:N},error:C}=await this.getUser(e);if(C)return this._returnResult({data:null,error:C});((a=(s=N==null?void 0:N.factors)===null||s===void 0?void 0:s.filter(V=>V.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(k="aal2");const P=y.amr||[];return{data:{currentLevel:E,nextLevel:k,currentAuthenticationMethods:P},error:null}}catch(y){if(Me(y))return this._returnResult({data:null,error:y});throw y}const{data:{session:u},error:p}=await this.getSession();if(p)return this._returnResult({data:null,error:p});if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:m}=id(u.access_token);let b=null;m.aal&&(b=m.aal);let x=b;((c=(o=u.user.factors)===null||o===void 0?void 0:o.filter(y=>y.status==="verified"))!==null&&c!==void 0?c:[]).length>0&&(x="aal2");const S=m.amr||[];return{data:{currentLevel:b,nextLevel:x,currentAuthenticationMethods:S},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async s=>{const{data:{session:a},error:o}=s;return o?this._returnResult({data:null,error:o}):a?await Ve(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:a.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Vn})})}catch(s){if(Me(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(e,s){try{return await this._useSession(async a=>{const{data:{session:o},error:c}=a;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new Vn});const u=await Ve(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return u.data&&u.data.redirect_url&&gn()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(a){if(Me(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(e,s){try{return await this._useSession(async a=>{const{data:{session:o},error:c}=a;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new Vn});const u=await Ve(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return u.data&&u.data.redirect_url&&gn()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(a){if(Me(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:s},error:a}=e;return a?this._returnResult({data:null,error:a}):s?await Ve(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Vn})})}catch(e){if(Me(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async s=>{const{data:{session:a},error:o}=s;return o?this._returnResult({data:null,error:o}):a?(await Ve(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Vn})})}catch(s){if(Me(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(e,s={keys:[]}){let a=s.keys.find(p=>p.kid===e);if(a)return a;const o=Date.now();if(a=this.jwks.keys.find(p=>p.kid===e),a&&this.jwks_cached_at+aC>o)return a;const{data:c,error:u}=await Ve(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,a=c.keys.find(p=>p.kid===e),!a)?null:a}async getClaims(e,s={}){try{let a=e;if(!a){const{data:y,error:E}=await this.getSession();if(E||!y.session)return this._returnResult({data:null,error:E});a=y.session.access_token}const{header:o,payload:c,signature:u,raw:{header:p,payload:m}}=id(a);s!=null&&s.allowExpired||TC(c.exp);const b=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!b){const{error:y}=await this.getUser(a);if(y)throw y;return{data:{claims:c,header:o,signature:u},error:null}}const x=NC(o.alg),_=await crypto.subtle.importKey("jwk",b,x,!0,["verify"]);if(!await crypto.subtle.verify(x,_,u,pC(`${p}.${m}`)))throw new zp("Invalid JWT signature");return{data:{claims:c,header:o,signature:u},error:null}}catch(a){if(Me(a))return this._returnResult({data:null,error:a});throw a}}}uc.nextInstanceID={};const i6=uc,o6="2.93.3";let Vl="";typeof Deno<"u"?Vl="deno":typeof document<"u"?Vl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vl="react-native":Vl="node";const l6={"X-Client-Info":`supabase-js-${Vl}/${o6}`},c6={headers:l6},u6={schema:"public"},d6={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},h6={};function dc(r){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(r)}function f6(r,e){if(dc(r)!="object"||!r)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var a=s.call(r,e);if(dc(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function p6(r){var e=f6(r,"string");return dc(e)=="symbol"?e:e+""}function m6(r,e,s){return(e=p6(e))in r?Object.defineProperty(r,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[e]=s,r}function Vv(r,e){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),s.push.apply(s,a)}return s}function zt(r){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?Vv(Object(s),!0).forEach(function(a){m6(r,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):Vv(Object(s)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(s,a))})}return r}const g6=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),b6=()=>Headers,y6=(r,e,s)=>{const a=g6(s),o=b6();return async(c,u)=>{var p;const m=(p=await e())!==null&&p!==void 0?p:r;let b=new o(u==null?void 0:u.headers);return b.has("apikey")||b.set("apikey",r),b.has("Authorization")||b.set("Authorization",`Bearer ${m}`),a(c,zt(zt({},u),{},{headers:b}))}};function v6(r){return r.endsWith("/")?r:r+"/"}function _6(r,e){var s,a;const{db:o,auth:c,realtime:u,global:p}=r,{db:m,auth:b,realtime:x,global:_}=e,S={db:zt(zt({},m),o),auth:zt(zt({},b),c),realtime:zt(zt({},x),u),storage:{},global:zt(zt(zt({},_),p),{},{headers:zt(zt({},(s=_==null?void 0:_.headers)!==null&&s!==void 0?s:{}),(a=p==null?void 0:p.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return r.accessToken?S.accessToken=r.accessToken:delete S.accessToken,S}function x6(r){const e=r==null?void 0:r.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(v6(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var w6=class extends i6{constructor(r){super(r)}},k6=class{constructor(r,e,s){var a,o;this.supabaseUrl=r,this.supabaseKey=e;const c=x6(r);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,p={db:u6,realtime:h6,auth:zt(zt({},d6),{},{storageKey:u}),global:c6},m=_6(s??{},p);if(this.storageKey=(a=m.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=m.global.headers)!==null&&o!==void 0?o:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(x,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}});else{var b;this.auth=this._initSupabaseAuthClient((b=m.auth)!==null&&b!==void 0?b:{},this.headers,m.global.fetch)}this.fetch=y6(e,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(zt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(x=>this.realtime.setAuth(x)).catch(x=>console.warn("Failed to set initial Realtime auth token:",x)),this.rest=new oN(new URL("rest/v1",c).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new eC(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new nN(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,e={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,e,s)}channel(r,e={config:{}}){return this.realtime.channel(r,e)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,e,s;if(r.accessToken)return await r.accessToken();const{data:a}=await r.auth.getSession();return(e=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&e!==void 0?e:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:e,detectSessionInUrl:s,storage:a,userStorage:o,storageKey:c,flowType:u,lock:p,debug:m,throwOnError:b},x,_){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new w6({url:this.authUrl.href,headers:zt(zt({},S),x),storageKey:c,autoRefreshToken:r,persistSession:e,detectSessionInUrl:s,storage:a,userStorage:o,flowType:u,lock:p,debug:m,throwOnError:b,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new SN(this.realtimeUrl.href,zt(zt({},r),{},{params:zt(zt({},{apikey:this.supabaseKey}),r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,e)=>{this._handleTokenChanged(r,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(r,e,s){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const S6=(r,e,s)=>new k6(r,e,s);function E6(){if(typeof window<"u")return!1;const r=globalThis.process;if(!r)return!1;const e=r.version;if(e==null)return!1;const s=e.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}E6()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const A6="https://placeholder.supabase.co",T6="placeholder-anon-key";console.warn(" Missing Supabase environment variables. Auth and database features will not work correctly. Please set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY in your .env.local file.");const Hv=S6(A6,T6),N6=({isOpen:r,onClose:e,mode:s="modal"})=>{const[a,o]=J.useState([]),[c,u]=J.useState(null),[p,m]=J.useState(null),[b,x]=J.useState(""),[_,S]=J.useState(""),[y,E]=J.useState(""),[k,N]=J.useState(""),[C,L]=J.useState("reader"),[P,V]=J.useState(!1),[q,G]=J.useState(!1),[O,j]=J.useState(""),[I,$]=J.useState(""),[H,R]=J.useState(""),[U,D]=J.useState("reader"),[me,te]=J.useState({}),[Q,ve]=J.useState({}),[ie,se]=J.useState({}),[X,K]=J.useState({}),[ee,Z]=J.useState(()=>Gy().slice(0,30));J.useEffect(()=>{(r||s==="inline")&&re()},[r,s]);const re=()=>{const M=go(),B=Il(),Y=ii(),de=new Set([...Object.keys(M),...Object.keys(B),...Object.keys(Y)]),xe=Array.from(de).map(Ne=>{const Ae=Ne.toLowerCase(),Le=B[Ae]||{firstName:"",lastName:""},Ze=Y[Ae]||{blocked:!1,forcePasswordChange:!1,lastAccessAt:null};return{email:Ae,role:M[Ae]||"reader",firstName:Le.firstName,lastName:Le.lastName,password:"",blocked:!!Ze.blocked,forcePasswordChange:!!Ze.forcePasswordChange,lastAccessAt:Ze.lastAccessAt??null}}).sort((Ne,Ae)=>Ne.email.localeCompare(Ae.email));o(xe);const oe={};xe.forEach(Ne=>{oe[Ne.email]={firstName:Ne.firstName,lastName:Ne.lastName}}),ve(oe);const Te={};xe.forEach(Ne=>{Te[Ne.email]=Ne.password}),se(Te),Z(Gy().slice(0,30))},we=async()=>{var M;if(!b.trim()||!_.trim()||!y.trim()||!k.trim()){u("Nombre, apellido, email y contrasea son requeridos");return}if(k.length<6){u("La contrasea debe tener al menos 6 caracteres");return}G(!0),u(null),m(null);try{const B=y.trim().toLowerCase(),Y=b.trim(),de=_.trim(),{error:xe}=await Hv.auth.signUp({email:B,password:k,options:{emailRedirectTo:window.location.origin,data:{role:C,first_name:Y,last_name:de,full_name:`${Y} ${de}`.trim()}}});if(xe)throw xe;const oe=go();oe[B]=C,Wu(oe);const Te=Il();Te[B]={firstName:Y,lastName:de},Xu(Te);const Ne=ii();Ne[B]={blocked:!1,forcePasswordChange:!1,lastAccessAt:null},Yl(Ne),xn({scope:"admin",action:"create_user",actor:"admin",target:B,details:`Creado con rol ${C}`}),re(),m(`Usuario ${B} creado exitosamente como ${Fl[C]}`),x(""),S(""),E(""),N(""),L("reader"),V(!1)}catch(B){(M=B.message)!=null&&M.includes("already registered")?u("Este email ya est registrado"):u(B.message||"Error al crear usuario")}finally{G(!1)}},Re=(M,B)=>{const Y=go();Y[M.toLowerCase()]=B,Wu(Y),xn({scope:"admin",action:"change_role",actor:"admin",target:M,details:`Rol actualizado a ${B}`}),re(),m(`Rol de ${M} cambiado a ${Fl[B]}`)},Ee=M=>{if(M.toLowerCase()==="mguzmanahumada@gmail.com"){u("No puedes eliminar al administrador principal");return}const B=go();delete B[M.toLowerCase()],Wu(B);const Y=Il();delete Y[M.toLowerCase()],Xu(Y);const de=ii();delete de[M.toLowerCase()],Yl(de),xn({scope:"admin",action:"remove_user",actor:"admin",target:M,details:"Usuario eliminado del panel"}),re(),m(`Usuario ${M} eliminado de la gestin de roles`)},Pe=()=>{if(!H.trim()){u("Ingresa un email");return}if(!O.trim()||!I.trim()){u("Ingresa nombre y apellido del usuario");return}const M=H.trim().toLowerCase(),B=O.trim(),Y=I.trim(),de=go();if(de[M]){u("Este usuario ya est en la lista");return}de[M]=U,Wu(de);const xe=Il();xe[M]={firstName:B,lastName:Y},Xu(xe);const oe=ii();oe[M]||(oe[M]={blocked:!1,forcePasswordChange:!1,lastAccessAt:null}),Yl(oe),xn({scope:"admin",action:"add_existing_user",actor:"admin",target:M,details:`Asignado como ${U}`}),re(),m(`Usuario ${M} aadido como ${Fl[U]}`),j(""),$(""),R(""),D("reader")},De=(M,B,Y)=>{ve(de=>({...de,[M]:{...de[M]||{firstName:"",lastName:""},[B]:Y}}))},Fe=M=>{const B=Q[M]||{firstName:"",lastName:""},Y=B.firstName.trim(),de=B.lastName.trim();if(!Y||!de){u("Nombre y apellido no pueden quedar vacos");return}const xe=Il();xe[M.toLowerCase()]={firstName:Y,lastName:de},Xu(xe),xn({scope:"admin",action:"update_profile",actor:"admin",target:M,details:`Nombre actualizado a ${Y} ${de}`}),re(),m(`Datos actualizados para ${M}`)},gt=async M=>{const B=M.toLowerCase();u(null),m(null),te(Y=>({...Y,[B]:!0}));try{const{error:Y}=await Hv.auth.resetPasswordForEmail(B,{redirectTo:`${window.location.origin}/reset-password`});if(Y)throw Y;hd(B,{forcePasswordChange:!1}),xn({scope:"admin",action:"reset_password_email",actor:"admin",target:B,details:"Envio de email de restablecimiento"}),m(`Se envi un enlace de restablecimiento de contrasea a ${B}`)}catch(Y){u(Y.message||"No se pudo iniciar el restablecimiento de contrasea")}finally{te(Y=>({...Y,[B]:!1}))}},Qe=(M,B)=>{hd(M,{blocked:B}),xn({scope:"admin",action:B?"block_user":"unblock_user",actor:"admin",target:M,details:B?"Cuenta bloqueada":"Cuenta desbloqueada"}),re(),m(B?`Usuario ${M} bloqueado`:`Usuario ${M} desbloqueado`)},A=(M,B)=>{hd(M,{forcePasswordChange:B}),xn({scope:"admin",action:B?"force_password_change_on":"force_password_change_off",actor:"admin",target:M,details:B?"Cambio de contrasea obligatorio activado":"Cambio de contrasea obligatorio desactivado"}),re(),m(B?`Se exigir cambio de contrasea a ${M}`:`Se quit la exigencia de cambio para ${M}`)},ye=()=>h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 rounded-2xl p-5 border border-slate-200 dark:border-slate-700",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[h.jsx(hv,{className:"w-5 h-5 text-indigo-500"}),h.jsx("h3",{className:"font-black text-slate-900 dark:text-white",children:"Crear Nuevo Usuario"})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2",children:"Nombre"}),h.jsx("input",{type:"text",value:b,onChange:M=>x(M.target.value),placeholder:"Ej: Juan",className:"w-full px-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2",children:"Apellido"}),h.jsx("input",{type:"text",value:_,onChange:M=>S(M.target.value),placeholder:"Ej: Perez",className:"w-full px-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2",children:"Email"}),h.jsxs("div",{className:"relative",children:[h.jsx(m0,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),h.jsx("input",{type:"email",value:y,onChange:M=>E(M.target.value),placeholder:"usuario@email.com",className:"w-full pl-10 pr-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2",children:"Contrasea"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:P?"text":"password",value:k,onChange:M=>N(M.target.value),placeholder:"Mnimo 6 caracteres",className:"w-full pl-4 pr-11 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"}),h.jsx("button",{type:"button",onClick:()=>V(M=>!M),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",title:P?"Ocultar contrasea":"Mostrar contrasea",children:P?h.jsx(v_,{size:16}):h.jsx(sc,{size:16})})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-2",children:"Rol"}),h.jsxs("select",{value:C,onChange:M=>L(M.target.value),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[h.jsx("option",{value:"reader",children:"Lector"}),h.jsx("option",{value:"editor",children:"Editor"}),h.jsx("option",{value:"admin",children:"Administrador"})]})]}),h.jsx("div",{className:"flex items-end",children:h.jsx("button",{onClick:we,disabled:q,className:"w-full py-2.5 bg-indigo-600 hover:bg-indigo-700 disabled:bg-slate-400 text-white font-bold rounded-xl transition-colors flex items-center justify-center gap-2",children:q?h.jsxs(h.Fragment,{children:[h.jsx(Tp,{className:"w-4 h-4 animate-spin"})," Creando..."]}):h.jsxs(h.Fragment,{children:[h.jsx(hv,{className:"w-4 h-4"})," Crear Usuario"]})})})]}),h.jsx("p",{className:"text-xs text-slate-400 mt-3",children:"Se creara el usuario con nombre, apellido y rol. Supabase enviara confirmacion por correo si esta habilitada."})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[h.jsx(Td,{className:"w-5 h-5 text-indigo-500"}),h.jsx("h3",{className:"font-black text-slate-900 dark:text-white",children:"Usuarios Registrados"}),h.jsx("span",{className:"px-2 py-0.5 bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-full text-xs font-bold",children:a.length})]}),h.jsxs("div",{className:"space-y-2",children:[a.map(M=>{var B,Y;return h.jsxs("div",{className:"p-4 bg-white dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-xl space-y-3",children:[h.jsxs("div",{className:"flex items-center justify-between gap-3",children:[h.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[h.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${M.role==="admin"?"bg-purple-100 dark:bg-purple-900/40":"bg-slate-100 dark:bg-slate-800"}`,children:M.role==="admin"?h.jsx(c5,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}):h.jsx(sc,{className:"w-5 h-5 text-slate-500 dark:text-slate-400"})}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("p",{className:"font-bold text-sm text-slate-900 dark:text-white truncate",children:M.firstName||M.lastName?`${M.firstName} ${M.lastName}`.trim():"Sin nombre configurado"}),h.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:M.email}),h.jsxs("p",{className:"text-[10px] text-slate-400 dark:text-slate-500 flex items-center gap-1 mt-0.5",children:[h.jsx(cv,{className:"w-3 h-3"}),M.lastAccessAt?`ltimo acceso: ${new Date(M.lastAccessAt).toLocaleString("es-CL")}`:"Sin accesos registrados"]}),h.jsx("span",{className:`inline-flex mt-1 px-2 py-0.5 rounded-md text-[10px] font-black uppercase tracking-wider ${kp[M.role].bg} ${kp[M.role].text}`,children:Fl[M.role]})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("select",{value:M.role,onChange:de=>Re(M.email,de.target.value),disabled:M.email.toLowerCase()==="mguzmanahumada@gmail.com",className:"px-3 py-1.5 bg-slate-100 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg text-xs font-bold disabled:opacity-50 disabled:cursor-not-allowed",children:[h.jsx("option",{value:"reader",children:"Lector"}),h.jsx("option",{value:"editor",children:"Editor"}),h.jsx("option",{value:"admin",children:"Admin"})]}),M.email.toLowerCase()!=="mguzmanahumada@gmail.com"&&h.jsx("button",{onClick:()=>Ee(M.email),className:"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Eliminar de la gestin",children:h.jsx(E_,{className:"w-4 h-4"})})]})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_1fr_auto] gap-2",children:[h.jsx("input",{type:"text",value:((B=Q[M.email])==null?void 0:B.firstName)??"",onChange:de=>De(M.email,"firstName",de.target.value),placeholder:"Nombre",className:"px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg text-sm"}),h.jsx("input",{type:"text",value:((Y=Q[M.email])==null?void 0:Y.lastName)??"",onChange:de=>De(M.email,"lastName",de.target.value),placeholder:"Apellido",className:"px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg text-sm"}),h.jsxs("button",{onClick:()=>Fe(M.email),className:"px-3 py-2 bg-slate-800 hover:bg-slate-900 dark:bg-slate-700 dark:hover:bg-slate-600 text-white rounded-lg text-xs font-bold flex items-center justify-center gap-1.5",children:[h.jsx(Np,{size:13})," Guardar"]})]}),h.jsx("div",{className:"flex justify-end mt-1",children:h.jsx("button",{onClick:()=>gt(M.email),disabled:!!me[M.email],className:"px-3 py-2 bg-indigo-50 hover:bg-indigo-100 dark:bg-indigo-900/30 dark:hover:bg-indigo-900/50 text-indigo-700 dark:text-indigo-300 rounded-lg text-xs font-bold flex items-center gap-2 disabled:opacity-60",children:me[M.email]?h.jsxs(h.Fragment,{children:[h.jsx(Tp,{className:"w-4 h-4 animate-spin"})," Enviando..."]}):h.jsxs(h.Fragment,{children:[h.jsx(R5,{className:"w-4 h-4"})," Restablecer por Email"]})})}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[h.jsxs("button",{onClick:()=>Qe(M.email,!M.blocked),className:`px-3 py-2 rounded-lg text-xs font-bold flex items-center justify-center gap-2 ${M.blocked?"bg-emerald-50 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300":"bg-red-50 text-red-700 dark:bg-red-900/30 dark:text-red-300"}`,children:[h.jsx(a4,{className:"w-4 h-4"}),M.blocked?"Desbloquear usuario":"Bloquear usuario"]}),h.jsx("button",{onClick:()=>A(M.email,!M.forcePasswordChange),className:`px-3 py-2 rounded-lg text-xs font-bold ${M.forcePasswordChange?"bg-amber-50 text-amber-700 dark:bg-amber-900/30 dark:text-amber-300":"bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-200"}`,children:M.forcePasswordChange?"Quitar cambio obligatorio":"Forzar cambio de contrasea"})]})]},M.email)}),a.length===0&&h.jsxs("div",{className:"text-center py-8 text-slate-400",children:[h.jsx(Td,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),h.jsx("p",{className:"text-sm",children:"No hay usuarios registrados"})]})]})]}),h.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-2xl p-5",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx(g0,{className:"w-5 h-5 text-amber-600"}),h.jsx("h3",{className:"font-black text-amber-800 dark:text-amber-300",children:"Asignar Rol a Usuario Existente"})]}),h.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-400 mb-4",children:"Si el usuario ya tiene cuenta en Supabase, puedes registrarlo en este panel con su nombre, apellido y rol."}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[h.jsx("input",{type:"text",value:O,onChange:M=>j(M.target.value),placeholder:"Nombre",className:"px-4 py-2 bg-white dark:bg-slate-800 border border-amber-300 dark:border-amber-700 rounded-lg text-sm"}),h.jsx("input",{type:"text",value:I,onChange:M=>$(M.target.value),placeholder:"Apellido",className:"px-4 py-2 bg-white dark:bg-slate-800 border border-amber-300 dark:border-amber-700 rounded-lg text-sm"}),h.jsx("input",{type:"email",value:H,onChange:M=>R(M.target.value),placeholder:"email@existente.com",className:"sm:col-span-2 px-4 py-2 bg-white dark:bg-slate-800 border border-amber-300 dark:border-amber-700 rounded-lg text-sm"})]}),h.jsxs("div",{className:"flex gap-2 mt-2",children:[h.jsxs("select",{value:U,onChange:M=>D(M.target.value),className:"px-3 py-2 bg-white dark:bg-slate-800 border border-amber-300 dark:border-amber-700 rounded-lg text-sm",children:[h.jsx("option",{value:"reader",children:"Lector"}),h.jsx("option",{value:"editor",children:"Editor"}),h.jsx("option",{value:"admin",children:"Admin"})]}),h.jsx("button",{onClick:Pe,className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white font-bold rounded-lg text-sm",children:"Anadir"})]})]}),h.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 rounded-2xl p-5 border border-slate-200 dark:border-slate-700",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx(cv,{className:"w-5 h-5 text-indigo-500"}),h.jsx("h3",{className:"font-black text-slate-900 dark:text-white",children:"Auditora reciente"})]}),h.jsxs("div",{className:"space-y-2 max-h-56 overflow-y-auto custom-scrollbar",children:[ee.length===0&&h.jsx("p",{className:"text-xs text-slate-500",children:"Sin eventos registrados."}),ee.map(M=>h.jsxs("div",{className:"p-2.5 rounded-lg bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700",children:[h.jsxs("p",{className:"text-xs font-bold text-slate-700 dark:text-slate-200",children:[M.action," ",M.target?` ${M.target}`:""]}),h.jsx("p",{className:"text-[11px] text-slate-500 dark:text-slate-400",children:M.details||"Sin detalle"}),h.jsx("p",{className:"text-[10px] text-slate-400 dark:text-slate-500 mt-1",children:new Date(M.timestamp).toLocaleString("es-CL")})]},M.id))]})]})]}),pe=()=>h.jsxs(h.Fragment,{children:[c&&h.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl flex items-start gap-3",children:[h.jsx(Do,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),h.jsx("p",{className:"text-sm text-red-700 dark:text-red-400",children:c}),h.jsx("button",{onClick:()=>u(null),className:"ml-auto text-red-400 hover:text-red-600",children:h.jsx(qn,{size:16})})]}),p&&h.jsxs("div",{className:"p-4 bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800 rounded-xl flex items-start gap-3",children:[h.jsx(wc,{className:"w-5 h-5 text-emerald-500 flex-shrink-0 mt-0.5"}),h.jsx("p",{className:"text-sm text-emerald-700 dark:text-emerald-400",children:p}),h.jsx("button",{onClick:()=>m(null),className:"ml-auto text-emerald-400 hover:text-emerald-600",children:h.jsx(qn,{size:16})})]})]});return s!=="inline"&&!r?null:s==="inline"?h.jsxs("div",{className:"space-y-6",children:[pe(),ye()]}):h.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4",children:[h.jsx("div",{className:"absolute inset-0 bg-slate-900/80 backdrop-blur-sm",onClick:e}),h.jsxs("div",{className:"relative w-full max-w-2xl max-h-[90vh] bg-white dark:bg-slate-800 rounded-3xl shadow-2xl overflow-hidden flex flex-col",children:[h.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 px-6 py-5 flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:h.jsx(ac,{className:"w-5 h-5 text-white"})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-black text-white",children:"Panel de Administracin"}),h.jsx("p",{className:"text-xs text-white/70",children:"Gestin de usuarios y roles"})]})]}),h.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:h.jsx(qn,{className:"w-5 h-5 text-white"})})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[pe(),ye()]})]})]})},C6=({isOpen:r,onClose:e,records:s,employees:a,onNavigate:o,onNewDecree:c,onSelectEmployee:u,onSelectRecord:p,onExportData:m})=>{const[b,x]=J.useState(""),[_,S]=J.useState(0),y=J.useRef(null),E=J.useRef(null);J.useEffect(()=>{r&&(x(""),S(0),setTimeout(()=>{var G;return(G=y.current)==null?void 0:G.focus()},50))},[r]);const k=J.useMemo(()=>[{id:"new-pa",type:"action",icon:h.jsx(uv,{className:"w-4 h-4"}),title:"Nuevo Permiso Administrativo",subtitle:"Crear un nuevo decreto de PA",keywords:["nuevo","crear","permiso","administrativo","pa"],action:()=>{c("PA"),e()},shortcut:"N"},{id:"new-fl",type:"action",icon:h.jsx(uv,{className:"w-4 h-4"}),title:"Nuevo Feriado Legal",subtitle:"Crear un nuevo decreto de FL",keywords:["nuevo","crear","feriado","legal","fl","vacaciones"],action:()=>{c("FL"),e()},shortcut:"F"},{id:"nav-dashboard",type:"navigation",icon:h.jsx(m_,{className:"w-4 h-4"}),title:"Ir al Dashboard",subtitle:"Ver estadsticas y reportes",keywords:["dashboard","estadisticas","reportes","graficos"],action:()=>{o("dashboard"),e()},shortcut:"D"},{id:"nav-calendar",type:"navigation",icon:h.jsx(bi,{className:"w-4 h-4"}),title:"Ver Calendario",subtitle:"Visualizar decretos en calendario",keywords:["calendario","fechas","mes","semana"],action:()=>{o("calendar"),e()},shortcut:"C"},{id:"nav-employees",type:"navigation",icon:h.jsx(ui,{className:"w-4 h-4"}),title:"Lista de Funcionarios",subtitle:"Gestionar empleados",keywords:["funcionarios","empleados","personas","lista"],action:()=>{o("employees"),e()},shortcut:"E"},{id:"nav-settings",type:"navigation",icon:h.jsx(ac,{className:"w-4 h-4"}),title:"Configuracin",subtitle:"Preferencias y administracin",keywords:["configuracion","ajustes","settings","admin"],action:()=>{o("settings"),e()},shortcut:"S"},{id:"export-data",type:"action",icon:h.jsx(y_,{className:"w-4 h-4"}),title:"Exportar Datos",subtitle:"Descargar datos a Excel",keywords:["exportar","descargar","excel","datos"],action:()=>{m(),e()},shortcut:"X"}],[c,o,m,e]),N=J.useMemo(()=>a.map(G=>({id:`emp-${G.rut}`,type:"employee",icon:h.jsx(ui,{className:"w-4 h-4"}),title:G.nombre,subtitle:`RUT: ${G.rut}`,keywords:[G.nombre.toLowerCase(),G.rut.toLowerCase()],action:()=>{u(G),e()}})),[a,u,e]),C=J.useMemo(()=>s.slice().sort((G,O)=>gi(G,O)).slice(0,120).map(G=>({id:`rec-${G.id}`,type:"decree",icon:h.jsx(rc,{className:"w-4 h-4"}),title:`${G.solicitudType} N ${G.acto}`,subtitle:`${G.funcionario}  ${G.cantidadDias} das`,keywords:[G.funcionario.toLowerCase(),G.acto.toLowerCase(),G.solicitudType.toLowerCase(),G.rut.toLowerCase()],action:()=>{p(G),e()}})),[s,p,e]),L=J.useMemo(()=>{const G=b.toLowerCase().trim().split(/\s+/);return b.trim()?[...k,...N,...C].filter(j=>{var $;const I=[j.title.toLowerCase(),(($=j.subtitle)==null?void 0:$.toLowerCase())||"",...j.keywords||[]].join(" ");return G.every(H=>I.includes(H))}).slice(0,60):k},[b,k,N,C]),P=J.useCallback(G=>{switch(G.key){case"ArrowDown":G.preventDefault(),S(O=>O<L.length-1?O+1:0);break;case"ArrowUp":G.preventDefault(),S(O=>O>0?O-1:L.length-1);break;case"Enter":G.preventDefault(),L[_]&&L[_].action();break;case"Escape":G.preventDefault(),e();break}},[L,_,e]);if(J.useEffect(()=>{var O;const G=(O=E.current)==null?void 0:O.children[_];G&&G.scrollIntoView({block:"nearest",behavior:"smooth"})},[_]),J.useEffect(()=>{S(0)},[b]),!r)return null;const V=G=>{switch(G){case"action":return"ACCIN";case"employee":return"FUNCIONARIO";case"decree":return"DECRETO";case"navigation":return"NAVEGACIN"}},q=G=>{switch(G){case"action":return"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/50 dark:text-emerald-400";case"employee":return"bg-blue-100 text-blue-700 dark:bg-blue-900/50 dark:text-blue-400";case"decree":return"bg-purple-100 text-purple-700 dark:bg-purple-900/50 dark:text-purple-400";case"navigation":return"bg-amber-100 text-amber-700 dark:bg-amber-900/50 dark:text-amber-400"}};return h.jsxs("div",{className:"fixed inset-0 z-[300] flex items-start justify-center pt-[15vh]",onClick:e,children:[h.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm"}),h.jsxs("div",{className:"relative w-full max-w-2xl bg-white dark:bg-slate-800 rounded-2xl shadow-2xl overflow-hidden mx-4 animate-in zoom-in-95 slide-in-from-top-4 duration-200",onClick:G=>G.stopPropagation(),children:[h.jsxs("div",{className:"flex items-center gap-3 px-5 py-4 border-b border-slate-200 dark:border-slate-700",children:[h.jsx(Cp,{className:"w-5 h-5 text-slate-400 flex-shrink-0"}),h.jsx("input",{ref:y,type:"text",value:b,onChange:G=>x(G.target.value),onKeyDown:P,placeholder:"Buscar decretos, funcionarios o comandos...",className:"flex-1 bg-transparent text-slate-900 dark:text-white text-base placeholder-slate-400 dark:placeholder-slate-500 outline-none"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("kbd",{className:"hidden sm:flex items-center gap-0.5 px-2 py-1 bg-slate-100 dark:bg-slate-700 rounded text-[10px] font-bold text-slate-500 dark:text-slate-400 uppercase",children:[h.jsx(o5,{className:"w-3 h-3"}),"K"]}),h.jsx("button",{onClick:e,className:"p-1.5 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:h.jsx(qn,{className:"w-4 h-4 text-slate-400"})})]})]}),h.jsx("div",{ref:E,className:"max-h-[50vh] overflow-y-auto custom-scrollbar",children:L.length>0?h.jsx("div",{className:"py-2",children:L.map((G,O)=>h.jsxs("button",{onClick:G.action,onMouseEnter:()=>S(O),className:`w-full flex items-center gap-3 px-5 py-3 text-left transition-colors ${O===_?"bg-indigo-50 dark:bg-indigo-900/30":"hover:bg-slate-50 dark:hover:bg-slate-700/50"}`,children:[h.jsx("div",{className:`p-2 rounded-xl ${O===_?"bg-indigo-100 text-indigo-600 dark:bg-indigo-900/50 dark:text-indigo-400":"bg-slate-100 text-slate-500 dark:bg-slate-700 dark:text-slate-400"}`,children:G.icon}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:`text-sm font-semibold truncate ${O===_?"text-indigo-900 dark:text-indigo-100":"text-slate-800 dark:text-slate-200"}`,children:G.title}),G.subtitle&&h.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate mt-0.5",children:G.subtitle})]}),h.jsx("span",{className:`hidden sm:inline-block px-2 py-0.5 rounded-full text-[9px] font-black uppercase tracking-wider ${q(G.type)}`,children:V(G.type)}),G.shortcut&&h.jsx("kbd",{className:"hidden sm:block px-2 py-1 bg-slate-100 dark:bg-slate-700 rounded text-[10px] font-bold text-slate-500 dark:text-slate-400 font-mono",children:G.shortcut}),h.jsx(h_,{className:`w-4 h-4 flex-shrink-0 transition-transform ${O===_?"text-indigo-500 translate-x-0.5":"text-slate-300 dark:text-slate-600"}`})]},G.id))}):h.jsxs("div",{className:"py-12 text-center",children:[h.jsx(__,{className:"w-10 h-10 text-slate-200 dark:text-slate-700 mx-auto mb-3"}),h.jsxs("p",{className:"text-sm font-bold text-slate-400 dark:text-slate-500",children:['Sin resultados para "',b,'"']}),h.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-600 mt-1",children:"Intenta con otro trmino de bsqueda"})]})}),h.jsxs("div",{className:"px-5 py-3 bg-slate-50 dark:bg-slate-800/50 border-t border-slate-200 dark:border-slate-700 flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-4 text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:[h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx("kbd",{className:"px-1.5 py-0.5 bg-slate-200 dark:bg-slate-700 rounded text-[9px]",children:""}),"Navegar"]}),h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx("kbd",{className:"px-1.5 py-0.5 bg-slate-200 dark:bg-slate-700 rounded text-[9px]",children:""}),"Seleccionar"]}),h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx("kbd",{className:"px-1.5 py-0.5 bg-slate-200 dark:bg-slate-700 rounded text-[9px]",children:"ESC"}),"Cerrar"]})]}),h.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"GDP Cloud v2.5"})]})]})]})},j6=({userName:r,totalRecords:e,totalEmployees:s,criticalAlerts:a,onClickDecrees:o,onClickEmployees:c,onClickUrgent:u})=>{const[p,m]=J.useState(!1),[b,x]=J.useState(!1);J.useEffect(()=>{const k=`gdp-banner-dismissed-${new Date().toDateString()}`;localStorage.getItem(k)&&m(!0)},[]);const _=()=>{x(!0);const k=`gdp-banner-dismissed-${new Date().toDateString()}`;localStorage.setItem(k,"true"),setTimeout(()=>m(!0),300)},S=J.useMemo(()=>{const k=new Date().getHours();return k<12?"Buenos das":k<18?"Buenas tardes":"Buenas noches"},[]),y=J.useMemo(()=>new Date().toLocaleDateString("es-CL",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),[]),E=(r==null?void 0:r.trim())||null;return p?null:h.jsxs("div",{className:`relative overflow-hidden rounded-2xl p-5 page-fade-in ${b?"toast-exit":""}`,children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500/5 via-purple-500/5 to-pink-500/5 dark:from-indigo-500/10 dark:via-purple-500/10 dark:to-pink-500/10"}),h.jsx("div",{className:"absolute inset-0 border border-indigo-100/50 dark:border-indigo-800/30 rounded-2xl"}),h.jsxs("div",{className:"relative flex items-start justify-between gap-4",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx(b0,{className:"w-4 h-4 text-indigo-500"}),h.jsx("span",{className:"text-[10px] font-black text-indigo-500/70 dark:text-indigo-400/70 uppercase tracking-widest",children:y})]}),h.jsxs("h2",{className:"text-base sm:text-lg font-black text-slate-800 dark:text-white tracking-tight",children:[S,E?`, ${E}`:""]}),h.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1 leading-relaxed max-w-lg",children:a>0?`Tienes ${a} alerta${a>1?"s":""} que requiere${a>1?"n":""} atencin.`:"Todo en orden. Los saldos y registros estn actualizados."}),h.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[h.jsxs("button",{type:"button",onClick:o,title:"Ver decretos","aria-label":"Ver decretos",className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-white/80 dark:bg-slate-800/80 border border-slate-200/50 dark:border-slate-700/50 rounded-lg text-[10px] font-bold text-slate-600 dark:text-slate-300 hover:bg-white dark:hover:bg-slate-800 transition-colors",children:[h.jsx(m4,{className:"w-3 h-3 text-indigo-500"}),e," decretos"]}),h.jsxs("button",{type:"button",onClick:c,title:"Ver funcionarios","aria-label":"Ver funcionarios",className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-white/80 dark:bg-slate-800/80 border border-slate-200/50 dark:border-slate-700/50 rounded-lg text-[10px] font-bold text-slate-600 dark:text-slate-300 hover:bg-white dark:hover:bg-slate-800 transition-colors",children:[h.jsx(g0,{className:"w-3 h-3 text-emerald-500"}),s," funcionarios"]}),a>0&&h.jsxs("button",{type:"button",onClick:u,title:"Ver alertas urgentes","aria-label":"Ver alertas urgentes",className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-red-50 dark:bg-red-900/20 border border-red-200/50 dark:border-red-800/50 rounded-lg text-[10px] font-bold text-red-600 dark:text-red-400 hover:bg-red-100/70 dark:hover:bg-red-900/30 transition-colors",children:[h.jsx(f0,{className:"w-3 h-3"}),a," urgente",a>1?"s":""]})]})]}),h.jsx("button",{onClick:_,className:"p-1.5 rounded-lg hover:bg-slate-200/50 dark:hover:bg-slate-700/50 transition-colors text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 shrink-0","aria-label":"Cerrar banner",children:h.jsx(qn,{className:"w-4 h-4"})})]})]})},hp=Ro.create("ExcelExport"),R6=async r=>{const e=r.filter(a=>a.solicitudType==="PA"),s=r.filter(a=>a.solicitudType==="FL");if(e.length+s.length===0)return{success:!1,error:"No hay datos para exportar"};try{hp.info(`Iniciando exportacin de ${r.length} registros...`);const a=await Ns(()=>import("./xlsx-CkFp8p6R.js"),[]),o=new Date().toLocaleString(),c=a.utils.book_new();if(e.length>0){const m=e.map((_,S)=>[S+1,_.solicitudType,_.acto,_.materia||"Decreto Exento",_.funcionario,_.rut,_.periodo,_.cantidadDias,Ts(_.fechaInicio),_.tipoJornada,_.diasHaber,Yy(_.fechaDecreto),_.diasHaber-_.cantidadDias,_.ra,_.emite]),b=a.utils.aoa_to_sheet([[fv],[`Generado el ${o}`],[],D4,...m]),x=a.utils.decode_range(b["!ref"]||"A1:O1");for(let _=4;_<=x.e.r;++_){const S=b[a.utils.encode_cell({r:_,c:7})];S&&(S.t="n");const y=b[a.utils.encode_cell({r:_,c:10})];y&&(y.t="n");const E=b[a.utils.encode_cell({r:_,c:12})];E&&(E.t="n")}a.utils.book_append_sheet(c,b,"PA")}if(s.length>0){const m=["#","Tipo","Acto","Materia","Funcionario","RUT","Cantidad de das","Perodo 1","Saldo Disp P1","Solicitado P1","Saldo Final P1","Perodo 2","Saldo Disp P2","Solicitado P2","Saldo Final P2","Fecha inicio","Fecha trmino","Fecha decreto","R.A","Emite"],b=s.map((y,E)=>{const k=y.saldoFinalP1??(y.saldoDisponibleP1||0)-(y.solicitadoP1||0),N=y.saldoFinalP2??(y.saldoDisponibleP2||0)-(y.solicitadoP2||0);return[E+1,y.solicitudType,y.acto,y.materia||"Decreto Exento",y.funcionario,y.rut,y.cantidadDias,y.periodo1||"",y.saldoDisponibleP1||0,y.solicitadoP1||0,k,y.periodo2||"",y.saldoDisponibleP2||0,y.solicitadoP2||0,N,Ts(y.fechaInicio),Ts(y.fechaTermino||""),Yy(y.fechaDecreto),y.ra,y.emite]}),x=a.utils.aoa_to_sheet([[fv],[`Generado el ${o}`],[],m,...b]),_=a.utils.decode_range(x["!ref"]||"A1:T1"),S=[6,8,9,10,12,13,14];for(let y=4;y<=_.e.r;++y)S.forEach(E=>{const k=x[a.utils.encode_cell({r:y,c:E})];k&&(k.t="n")});a.utils.book_append_sheet(c,x,"FL")}const p=`Planilla_Decretos_${new Date().toISOString().split("T")[0]}.xlsx`;return a.writeFile(c,p),hp.info(`Exportacin completada: ${p}`),{success:!0,filename:p}}catch(a){const o=a instanceof Error?a.message:"Error desconocido al exportar";return hp.error("Error en exportacin Excel:",a),{success:!1,error:o}}},D6=/^\d{4}-\d{2}-\d{2}$/,Rd=r=>{if(!D6.test(r))return!1;const[e,s,a]=r.split("-").map(Number),o=new Date(e,s-1,a);return Number.isFinite(e)&&Number.isFinite(s)&&Number.isFinite(a)&&o.getFullYear()===e&&o.getMonth()===s-1&&o.getDate()===a},hc=r=>{if(!Rd(r))return new Date(Number.NaN);const[e,s,a]=r.split("-").map(Number);return new Date(e,s-1,a)},Z6=(r,e="short")=>{if(!r||!Rd(r))return"";const s=hc(r);return e==="long"?s.toLocaleDateString("es-CL",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):e==="medium"?s.toLocaleDateString("es-CL",{day:"numeric",month:"short",year:"numeric"}):s.toLocaleDateString("es-CL",{day:"2-digit",month:"2-digit",year:"numeric"})},Q6=()=>{const r=new Date;return`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}-${String(r.getDate()).padStart(2,"0")}`},Bp=r=>`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}-${String(r.getDate()).padStart(2,"0")}`,O6=(r,e,s,a)=>{if(!r||!e||!Rd(r)||!Rd(e))return 0;const o=hc(r),c=hc(e);if(Number.isNaN(o.getTime())||Number.isNaN(c.getTime())||c<o)return 0;if(r===e&&a!==It.JC)return .5;const u=new Date(o);let p=0;for(;u<=c;){const m=Bp(u),b=u.getDay(),x=b===0||b===6,_=L4.includes(m);s===Nt.LEGAL_HOLIDAY||s===Nt.ADMINISTRATIVE?!x&&!_&&p++:p++,u.setDate(u.getDate()+1)}return p},ej=r=>{switch(r){case It.JM:return"Jornada Maana";case It.JT:return"Jornada Tarde";default:return"Jornada Completa"}},qv=()=>({vacation:0,administrative:0,sickLeave:0}),Ml=(r,e,s=new Date().getFullYear())=>{const a=new Map,o=new Date(s,0,1),c=new Date(s,11,31);return e.forEach(u=>{if(u.status!==Eo.APPROVED)return;const p=hc(u.startDate),m=hc(u.endDate);if(Number.isNaN(p.getTime())||Number.isNaN(m.getTime())||p>c||m<o)return;const b=p<o?o:p,x=m>c?c:m,_=O6(Bp(b),Bp(x),u.type,u.shift);if(_<=0)return;const S=a.get(u.employeeId)||qv();u.type===Nt.LEGAL_HOLIDAY?S.vacation+=_:u.type===Nt.ADMINISTRATIVE?S.administrative+=_:u.type===Nt.SICK_LEAVE&&(S.sickLeave+=_),a.set(u.employeeId,S)}),r.map(u=>{const p=a.get(u.id)||qv();return{...u,usedVacationDays:p.vacation,usedAdminDays:p.administrative,usedSickLeaveDays:p.sickLeave}})},I6=J.lazy(()=>Ns(()=>import("./EmployeeListModal-BJreNU0S.js"),__vite__mapDeps([0,1,2,3]))),Gv=J.lazy(()=>Ns(()=>import("./Dashboard-CE-3C9Hc.js"),__vite__mapDeps([4,3,2]))),L6=J.lazy(()=>Ns(()=>import("./LowBalanceModal-DPgAvshY.js"),__vite__mapDeps([5,2,3]))),U6=J.lazy(()=>Ns(()=>import("./DecreeBookModal-B4fDUHkW.js"),__vite__mapDeps([6,3]))),Kv=J.lazy(()=>Ns(()=>import("./CalendarView-D9V9D3V3.js"),__vite__mapDeps([7,3]))),M6=J.lazy(()=>Ns(()=>import("./ThemeSelector-B5BQBLJW.js"),__vite__mapDeps([8,9,3]))),P6=J.lazy(()=>Ns(()=>import("./Settings-BbVhWDC4.js"),__vite__mapDeps([10,1,3])).then(r=>({default:r.Settings}))),z6=J.lazy(()=>Ns(()=>import("./Reports-FZYMBw1c.js"),__vite__mapDeps([11,12,9,3])).then(r=>({default:r.Reports}))),B6=J.lazy(()=>Ns(()=>import("./LeaveRequests-DY4TEwMc.js"),__vite__mapDeps([13,12,9,3])).then(r=>({default:r.LeaveRequests}))),$6=J.lazy(()=>Ns(()=>import("./EmployeeList-XMhQq6wu.js"),__vite__mapDeps([14,3])).then(r=>({default:r.EmployeeList}))),Pl=()=>h.jsx("div",{className:"fixed inset-0 z-[150] flex items-center justify-center bg-slate-900/50 backdrop-blur-md notification-backdrop-enter",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-3xl shadow-2xl page-fade-in",children:[h.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center mx-auto shadow-lg",children:h.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full"})}),h.jsx("p",{className:"text-sm font-bold text-slate-600 dark:text-slate-300 mt-4 text-center",children:"Cargando"}),h.jsxs("div",{className:"flex justify-center gap-1.5 mt-2",children:[h.jsx("span",{className:"w-1.5 h-1.5 bg-indigo-400 rounded-full loading-dot"}),h.jsx("span",{className:"w-1.5 h-1.5 bg-indigo-400 rounded-full loading-dot"}),h.jsx("span",{className:"w-1.5 h-1.5 bg-indigo-400 rounded-full loading-dot"})]})]})}),Za=({view:r})=>h.jsxs("div",{className:"space-y-6 animate-pulse",children:[h.jsx("div",{className:"h-8 bg-slate-200 dark:bg-slate-700 rounded-lg w-1/3"}),h.jsx("div",{className:"h-64 bg-slate-200 dark:bg-slate-700 rounded-2xl"}),h.jsx("div",{className:"h-32 bg-slate-200 dark:bg-slate-700 rounded-2xl"})]}),zl=()=>new Date().getFullYear(),Jv=r=>r.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toUpperCase().replace(/\s+/g," ").trim(),K_=(r,e)=>{const s=Jv(r),a=Jv(e);if(s===a||s.length>3&&a.length>3&&(s.startsWith(a)||a.startsWith(s)))return!0;const o=s.split(" "),c=a.split(" ");if(o.length>=2&&c.length>=2&&o[0]===c[0]&&o[1]===c[1])return!0;const[u,p]=o.length<=c.length?[o,c]:[c,o];return!!(u.length>=2&&u.every(m=>p.includes(m)))},Yv=r=>{const e=[],s=new Set;for(let a=0;a<r.length;a++){if(s.has(a))continue;let o={...r[a]};const c=`${r[a].firstName} ${r[a].lastName}`.trim();for(let u=a+1;u<r.length;u++){if(s.has(u))continue;const p=`${r[u].firstName} ${r[u].lastName}`.trim();if(o.rut&&r[u].rut&&o.rut===r[u].rut||K_(c,p)){s.add(u);const m=r[u];!o.rut&&m.rut&&(o.rut=m.rut);const b=`${o.firstName} ${o.lastName}`.trim();`${m.firstName} ${m.lastName}`.trim().length>b.length&&(o.firstName=m.firstName,o.lastName=m.lastName,o.avatarUrl=m.avatarUrl),o.position==="Funcionario"&&m.position!=="Funcionario"&&(o.position=m.position),o.department==="General"&&m.department!=="General"&&(o.department=m.department),o.email.includes("@institucion.cl")&&!m.email.includes("@institucion.cl")&&(o.email=m.email),m.usedVacationDays>o.usedVacationDays&&(o.totalVacationDays=m.totalVacationDays,o.usedVacationDays=m.usedVacationDays),m.usedAdminDays>o.usedAdminDays&&(o.totalAdminDays=m.totalAdminDays,o.usedAdminDays=m.usedAdminDays),m.usedSickLeaveDays>o.usedSickLeaveDays&&(o.totalSickLeaveDays=m.totalSickLeaveDays,o.usedSickLeaveDays=m.usedSickLeaveDays)}}o.firstName=o.firstName.toUpperCase(),o.lastName=o.lastName.toUpperCase(),e.push(o)}return e},F6=()=>{const{user:r,signOut:e,permissions:s,role:a,roleLabel:o,roleColors:c}=u0(),[u,p]=J.useState("decretos"),[m,b]=J.useState(!1),[x,_]=J.useState(()=>{try{const fe=localStorage.getItem("gdp_unified_employees_v2");if(fe){const Oe=JSON.parse(fe);if(Array.isArray(Oe)&&Oe.length>0)return Yv(Oe)}}catch{}return Ml(U4,pv,zl())}),[S,y]=J.useState(()=>{try{const fe=localStorage.getItem("gdp_unified_requests_v2");if(fe){const Oe=JSON.parse(fe);if(Array.isArray(Oe)&&Oe.length>0)return Oe}}catch{}return pv}),[E,k]=J.useState(()=>{try{const fe=localStorage.getItem("gdp_unified_config_v2");if(fe)return{...mv,...JSON.parse(fe)}}catch{}return mv}),[N,C]=J.useState(null),L=J.useMemo(()=>x.map(fe=>({nombre:`${fe.firstName} ${fe.lastName}`.trim().toUpperCase(),rut:fe.rut||""})).filter(fe=>fe.nombre).sort((fe,Oe)=>fe.nombre.localeCompare(Oe.nombre)),[x]),{employees:P}=bT(()=>{},fe=>console.warn("Error empleados:",fe)),V=J.useRef(!1);J.useEffect(()=>{P.length===0||V.current||(V.current=!0,_(fe=>{let Oe=!1;for(const ze of P){if(!ze.rut||!ze.nombre||fe.find(Ct=>Ct.rut===ze.rut))continue;const et=fe.find(Ct=>K_(`${Ct.firstName} ${Ct.lastName}`.trim(),ze.nombre));if(et){et.rut||(et.rut=ze.rut,Oe=!0);continue}const On=ze.nombre.split(" "),Lt=On[0]||"",Qt=On.slice(1).join(" ")||"";fe=[...fe,{id:crypto.randomUUID(),firstName:Lt,lastName:Qt,rut:ze.rut,email:`${Lt.toLowerCase()}.${Qt.toLowerCase().replace(/ /g,"")}@institucion.cl`,position:"Funcionario",department:"General",totalVacationDays:E.defaultVacationDays,usedVacationDays:0,totalAdminDays:E.defaultAdminDays,usedAdminDays:0,totalSickLeaveDays:E.defaultSickLeaveDays,usedSickLeaveDays:0,avatarUrl:`https://ui-avatars.com/api/?name=${Lt}+${Qt}&background=random&color=fff`}],Oe=!0}return Oe?Yv([...fe]):fe}))},[P,E]);const[q,G]=J.useState(null),[O,j]=J.useState("ALL"),[I,$]=J.useState(!1),[H,R]=J.useState(""),[U,D]=J.useState(null),[me,te]=J.useState(!1),[Q,ve]=J.useState(null),{modals:ie,openModal:se,closeModal:X}=nT(),K=J.useRef(null),{isDark:ee,toggle:Z}=tT(),{toasts:re,toast:we,removeToast:Re}=T4(),{records:Ee,setRecords:Pe,isSyncing:De,syncError:Fe,lastSync:gt,isOnline:Qe,syncWarnings:A,pendingSync:ye,isRetryScheduled:pe,fetchFromCloud:M,syncToCloud:B,undo:Y,canUndo:de}=gT(()=>we.success("Sincronizado","Datos actualizados correctamente"),fe=>we.error("Error de sincronizacion",fe)),xe=J.useRef("");J.useEffect(()=>{if(A.length===0)return;const fe=A.join("|");if(fe===xe.current)return;xe.current=fe;const Oe=A.slice(0,3).join(" . "),ze=A.length>3?` (+${A.length-3} mas)`:"";we.warning("Datos con formato inesperado",`${Oe}${ze}`)},[A,we]),J.useEffect(()=>{const fe=sessionStorage.getItem("hrAppToken");fe&&C(fe)},[]),J.useEffect(()=>{try{localStorage.setItem("gdp_unified_employees_v2",JSON.stringify(x))}catch{}},[x]),J.useEffect(()=>{try{localStorage.setItem("gdp_unified_requests_v2",JSON.stringify(S))}catch{}},[S]),J.useEffect(()=>{try{localStorage.setItem("gdp_unified_config_v2",JSON.stringify(E))}catch{}},[E]);const oe=J.useMemo(()=>{const fe=new Date().getFullYear();return lT(Ee,fe)},[Ee]),Te=J.useMemo(()=>{let fe=0;return L.forEach(Oe=>{const ze=Ee.filter(et=>et.rut===Oe.rut&&et.solicitudType==="PA");if(ze.length>0){const et=[...ze].sort((Lt,Qt)=>Qt.createdAt-Lt.createdAt);et[0].diasHaber-et[0].cantidadDias<=0&&fe++}const Ke=Ee.filter(et=>et.rut===Oe.rut&&et.solicitudType==="FL");if(Ke.length>0){const et=[...Ke].sort((Lt,Qt)=>Qt.createdAt-Lt.createdAt);Ud(et[0],0)<=0&&fe++}}),fe},[Ee,L]),Ne=fe=>{const Oe=(r==null?void 0:r.email)||"sistema";let ze;q?(ze=Ee.map(Ke=>Ke.id===q.id?{...fe,id:Ke.id,createdAt:Ke.createdAt}:Ke),G(null),we.success("Decreto actualizado",`${fe.acto} modificado correctamente`),xn({scope:"decree",action:"update_decree",actor:Oe,target:`${fe.solicitudType} ${fe.acto}`,details:`Funcionario: ${fe.funcionario}`})):(ze=[...Ee,{...fe,id:crypto.randomUUID(),createdAt:Date.now()}],we.success("Decreto emitido",`Resolucion ${fe.acto} creada exitosamente`),xn({scope:"decree",action:"create_decree",actor:Oe,target:`${fe.solicitudType} ${fe.acto}`,details:`Funcionario: ${fe.funcionario}`})),Pe(ze),B(ze)},Ae=fe=>{D(fe),se("confirmDelete")},Le=J.useCallback(()=>{if(U){const fe=Ee.find(ze=>ze.id===U),Oe=Ee.filter(ze=>ze.id!==U);Pe(Oe),B(Oe),we.warning("Decreto eliminado","Puedes deshacer esta accion"),xn({scope:"decree",action:"delete_decree",actor:(r==null?void 0:r.email)||"sistema",target:fe?`${fe.solicitudType} ${fe.acto}`:U,details:fe?`Funcionario: ${fe.funcionario}`:"Eliminado por ID"}),D(null)}},[U,Ee,Pe,B,we,r==null?void 0:r.email]),Ze=()=>{Y(),we.info("Accion deshecha","Se restauro el estado anterior")},Ge=fe=>{R(fe),p("decretos")},nn=fe=>{const Oe=L.find(ze=>ze.rut===fe);R((Oe==null?void 0:Oe.nombre)||fe),se("employeeList")},Gn=fe=>{var Oe;p("decretos"),(Oe=K.current)==null||Oe.scrollIntoView({behavior:"smooth"}),we.info("Nuevo decreto",`Preparando decreto para ${fe.nombre}`)},Vt=J.useCallback(async()=>{if(!s.canExportExcel){we.warning("Sin permiso","Tu rol no permite exportar a Excel");return}const fe=await R6(Ee);fe.success?we.success("Exportado","Excel generado"):we.error("Error",fe.error||"No se pudo exportar")},[s.canExportExcel,Ee,we]),us=fe=>{var Oe;if(!s.canCreateDecree){we.warning("Sin permiso","Tu rol no permite crear decretos");return}p("decretos"),fe&&ve(fe),(Oe=K.current)==null||Oe.scrollIntoView({behavior:"smooth"}),we.info("Nuevo decreto",fe?`Preparando ${fe==="PA"?"Permiso Administrativo":"Feriado Legal"}`:"Preparando nuevo decreto")},it=fe=>{p("decretos"),j(fe.solicitudType),R(fe.acto||fe.funcionario)},tt=J.useCallback((fe,Oe="info")=>{Oe==="success"?we.success("Exito",fe):Oe==="error"?we.error("Error",fe):we.info("Info",fe)},[we]),sn=J.useCallback(fe=>{const Oe=fe.nombre.toUpperCase().split(" "),ze=Oe[0]||"",Ke=Oe.slice(1).join(" ")||"",et={id:crypto.randomUUID(),firstName:ze,lastName:Ke,rut:fe.rut,email:`${ze.toLowerCase()}.${Ke.toLowerCase().replace(/ /g,"")}@institucion.cl`,position:"Funcionario",department:"General",totalVacationDays:E.defaultVacationDays,usedVacationDays:0,totalAdminDays:E.defaultAdminDays,usedAdminDays:0,totalSickLeaveDays:E.defaultSickLeaveDays,usedSickLeaveDays:0,avatarUrl:`https://ui-avatars.com/api/?name=${ze}+${Ke}&background=random&color=fff`};_(On=>[...On,et]),tt("Funcionario agregado exitosamente","success")},[E,tt]),dt=J.useCallback((fe,Oe)=>{const ze=Oe.nombre.toUpperCase().split(" "),Ke=ze[0]||"",et=ze.slice(1).join(" ")||"";_(On=>On.map(Lt=>Lt.rut===fe?{...Lt,firstName:Ke,lastName:et,rut:Oe.rut,avatarUrl:`https://ui-avatars.com/api/?name=${Ke}+${et}&background=random&color=fff`}:Lt)),tt("Funcionario actualizado","success")},[tt]),tr=J.useCallback(fe=>{const Oe=x.find(ze=>ze.rut===fe);Oe&&(_(ze=>ze.filter(Ke=>Ke.rut!==fe)),y(ze=>ze.filter(Ke=>Ke.employeeId!==Oe.id)),tt("Funcionario eliminado","info"))},[x,tt]),nr=fe=>{const Oe={id:crypto.randomUUID(),firstName:fe.firstName.toUpperCase(),lastName:fe.lastName.toUpperCase(),email:fe.email,position:fe.position,department:fe.department,totalVacationDays:E.defaultVacationDays,usedVacationDays:0,totalAdminDays:E.defaultAdminDays,usedAdminDays:0,totalSickLeaveDays:E.defaultSickLeaveDays,usedSickLeaveDays:0,avatarUrl:`https://ui-avatars.com/api/?name=${fe.firstName}+${fe.lastName}&background=random&color=fff`};_(ze=>[...ze,Oe]),tt("Funcionario registrado con exito","success")},Lr=(fe,Oe)=>{_(ze=>ze.map(Ke=>Ke.id===fe?{...Ke,...Oe,firstName:Oe.firstName.toUpperCase(),lastName:Oe.lastName.toUpperCase(),avatarUrl:`https://ui-avatars.com/api/?name=${Oe.firstName}+${Oe.lastName}&background=random&color=fff`}:Ke)),tt("Datos del funcionario actualizados","success")},kn=fe=>{window.confirm("Estas seguro de que deseas eliminar este funcionario?")&&(y(Oe=>{const ze=Oe.filter(Ke=>Ke.employeeId!==fe);return _(Ke=>Ml(Ke.filter(et=>et.id!==fe),ze,zl())),ze}),tt("Funcionario eliminado","info"))},Kn=(fe,Oe)=>{y(ze=>{const Ke=ze.map(et=>et.id===fe?{...et,status:Oe}:et);return _(et=>Ml(et,Ke,zl())),Ke}),tt(`Solicitud ${Oe===Eo.APPROVED?"aprobada":"rechazada"}`,Oe===Eo.APPROVED?"success":"info")},xt=fe=>{const Oe={...fe,id:crypto.randomUUID(),status:Eo.PENDING};y(ze=>{const Ke=[Oe,...ze];return _(et=>Ml(et,Ke,zl())),Ke}),tt("Solicitud creada correctamente","success")},cn=(fe,Oe)=>{k(fe),Oe?(_(ze=>ze.map(Ke=>({...Ke,totalVacationDays:fe.defaultVacationDays,totalAdminDays:fe.defaultAdminDays,totalSickLeaveDays:fe.defaultSickLeaveDays}))),tt("Configuracion aplicada a todos los funcionarios","success")):tt("Configuracion guardada","success")},Jn=fe=>{y(fe.requests||S),k(fe.config||E),_(Ml(fe.employees||x,fe.requests||S,zl())),tt("Datos importados correctamente","success")},Sn=J.useCallback(async()=>{sessionStorage.removeItem("hrAppToken"),C(null),e()},[e]),vi=J.useMemo(()=>[{key:"n",ctrlKey:!0,action:()=>{var fe;p("decretos"),(fe=K.current)==null||fe.scrollIntoView({behavior:"smooth"})},description:"Nuevo decreto"},{key:"s",ctrlKey:!0,action:()=>M(),description:"Sincronizar"},{key:"e",ctrlKey:!0,action:Vt,description:"Exportar Excel"},{key:"d",ctrlKey:!0,action:Z,description:"Cambiar tema"},{key:"b",ctrlKey:!0,action:()=>se("decreeBook"),description:"Libro de decretos"},{key:"g",ctrlKey:!0,action:()=>$(fe=>!fe),description:"Ver graficos"},{key:"c",ctrlKey:!0,action:()=>se("calendar"),description:"Calendario"},{key:"z",ctrlKey:!0,action:Ze,description:"Deshacer"},{key:"k",ctrlKey:!0,action:()=>te(!0),description:"Buscar comandos"},{key:"?",action:()=>se("shortcuts"),description:"Mostrar atajos"}],[M,Vt,Z,se,Ze]);E4(vi);const _i=De?"Sincronizando...":Qe?Fe?"Error de sincronizacion":ye?pe?"Reintentando...":"Pendiente":"Sincronizado":ye?"Pendiente (offline)":"Offline",Yn=De?"bg-indigo-500 animate-ping":ye?"bg-amber-500":Fe?"bg-red-500":Qe?"bg-emerald-500":"bg-red-500",sr=J.useMemo(()=>r!=null&&r.displayName?r.displayName:r==null?void 0:r.email,[r]),Io=()=>{switch(u){case"decretos":return h.jsxs("div",{className:"space-y-10 sm:space-y-12",children:[h.jsx(j_,{records:Ee,totalDatabaseEmployees:L.length}),I&&h.jsx(J.Suspense,{fallback:h.jsx(Za,{view:"dashboard"}),children:h.jsx(Gv,{records:Ee,employees:L,hrEmployees:x,hrRequests:S,onViewLowBalance:()=>se("lowBalance"),onNavigate:fe=>p(fe),baseDaysPA:E.defaultAdminDays})}),s.canCreateDecree&&h.jsx("section",{ref:K,children:h.jsx(M4,{onSubmit:Ne,editingRecord:q,onCancelEdit:()=>G(null),nextCorrelatives:oe,employees:L,records:Ee,requestedSolicitudType:Q,onRequestedSolicitudTypeHandled:()=>ve(null),baseDaysPA:E.defaultAdminDays})}),!s.canCreateDecree&&h.jsx("div",{className:"bg-sky-50 dark:bg-sky-900/20 border border-sky-200 dark:border-sky-800 rounded-2xl p-6",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:`px-3 py-1 rounded-lg text-xs font-black uppercase tracking-wider ${c.bg} ${c.text}`,children:o}),h.jsxs("p",{className:"text-sm text-sky-700 dark:text-sky-300",children:["Tu rol es de ",h.jsx("strong",{children:"lectura"}),". Puedes consultar los registros y generar documentos PDF, pero no crear ni modificar decretos."]})]})}),h.jsxs("section",{className:"space-y-6 sm:space-y-8",children:[h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 sm:gap-6",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-xl flex items-center justify-center text-white shadow-lg shadow-indigo-100 dark:shadow-indigo-900/50",children:h.jsx(w_,{className:"w-5 h-5"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-base sm:text-lg font-black text-slate-900 dark:text-white tracking-tight",children:"Registro de Decretos"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-[10px] sm:text-[11px] font-bold text-slate-400 uppercase tracking-widest mt-0.5",children:"Historial Institucional"}),gt&&!De&&h.jsxs("span",{className:"hidden sm:flex items-center gap-1 px-2 py-0.5 bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 border border-emerald-100 dark:border-emerald-800 rounded-full text-[8px] font-black uppercase tracking-tighter",children:[h.jsx(wc,{className:"w-2.5 h-2.5"})," Sincronizado"]})]})]})]}),h.jsx("div",{className:"flex bg-slate-100/80 dark:bg-slate-800/80 backdrop-blur p-1.5 rounded-2xl gap-1 border border-slate-200/50 dark:border-slate-700 shadow-inner w-full sm:w-auto",children:["ALL","PA","FL"].map(fe=>h.jsx("button",{onClick:()=>j(fe),className:`flex-1 sm:flex-none px-3 sm:px-6 lg:px-8 py-2 sm:py-2.5 rounded-xl text-[10px] sm:text-[11px] font-black tracking-wider sm:tracking-widest transition-all duration-300 uppercase ${O===fe?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 shadow-md ring-1 ring-slate-200 dark:ring-slate-600":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200"}`,children:fe==="ALL"?"Todos":fe==="PA"?"Permisos":"Feriados"},fe))})]}),h.jsx(G4,{data:Ee,activeTab:O,onDelete:Ae,onEdit:G,searchTerm:H,onSearchTermChange:R,canEdit:s.canEditDecree,canDelete:s.canDeleteDecree})]})]});case"dashboard":return h.jsx(J.Suspense,{fallback:h.jsx(Za,{view:"dashboard"}),children:h.jsx(Gv,{records:Ee,employees:L,hrEmployees:x,hrRequests:S,onViewLowBalance:()=>se("lowBalance"),onNavigate:fe=>p(fe),baseDaysPA:E.defaultAdminDays})});case"calendar":return h.jsx(J.Suspense,{fallback:h.jsx(Za,{view:"calendar"}),children:h.jsx(Kv,{isOpen:!0,onClose:()=>p("decretos"),records:Ee})});case"employees":return h.jsx(J.Suspense,{fallback:h.jsx(Za,{view:"employees"}),children:h.jsx($6,{employees:x,onAddEmployee:nr,onEditEmployee:Lr,onDeleteEmployee:kn,onViewProfile:()=>{}})});case"requests":return h.jsx(J.Suspense,{fallback:h.jsx(Za,{view:"requests"}),children:h.jsx(B6,{requests:S,employees:x,updateRequestStatus:Kn,addNewRequest:xt,onError:fe=>tt(fe,"error")})});case"reports":return h.jsx(J.Suspense,{fallback:h.jsx(Za,{view:"reports"}),children:h.jsx(z6,{employees:x,requests:S,config:E})});case"settings":return h.jsxs(J.Suspense,{fallback:h.jsx(Za,{view:"settings"}),children:[h.jsx(P6,{config:E,employees:x,requests:S,onSave:cn,onImport:Jn}),a==="admin"&&h.jsx("div",{className:"max-w-5xl mx-auto mt-8 mb-8",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-xl flex items-center justify-center",children:h.jsx(ac,{className:"w-5 h-5 text-white"})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-lg font-black text-slate-900 dark:text-white",children:"Panel de Administracin"}),h.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Gestin de usuarios y roles"})]})]}),h.jsx(N6,{isOpen:!0,onClose:()=>{},mode:"inline"})]})})]});default:return null}};return h.jsxs("div",{className:"flex h-screen bg-slate-50 dark:bg-slate-900",children:[m&&h.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>b(!1)}),h.jsx("div",{className:`fixed inset-y-0 left-0 z-50 w-64 transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static ${m?"translate-x-0":"-translate-x-full"}`,children:h.jsx(N4,{currentView:u,setView:fe=>{p(fe),b(!1)},onLogout:Sn,isSyncing:De})}),h.jsxs("div",{className:"flex-1 flex flex-col h-screen overflow-hidden",children:[h.jsxs("header",{className:"sticky top-0 z-[100] w-full border-b border-slate-200 dark:border-slate-700 bg-white/75 dark:bg-slate-900/75 backdrop-blur-xl",children:[h.jsxs("div",{className:"px-4 sm:px-6 h-16 flex items-center justify-between",children:[h.jsx("button",{onClick:()=>b(!m),className:"lg:hidden p-2 rounded-lg text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800",children:m?h.jsx(qn,{className:"w-5 h-5"}):h.jsx(H5,{className:"w-5 h-5"})}),h.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[h.jsx("span",{className:`w-2 h-2 rounded-full ${Yn}`}),h.jsx("span",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:_i})]}),h.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[h.jsx("button",{onClick:()=>M(),disabled:De,className:`p-2 rounded-lg transition-all ${De?"text-slate-300 dark:text-slate-600":Fe?"text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30":"text-indigo-600 dark:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/30"}`,title:"Sincronizar datos",children:Fe?h.jsx(Do,{className:"w-4 h-4"}):h.jsx(S_,{className:`w-4 h-4 ${De?"animate-spin":""}`})}),de&&h.jsx("button",{onClick:Ze,className:"p-2 rounded-lg text-amber-600 dark:text-amber-400 hover:bg-amber-50 dark:hover:bg-amber-900/30 transition-all",title:"Deshacer",children:h.jsx(y4,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>$(fe=>!fe),className:`hidden sm:flex p-2 rounded-lg transition-all ${I?"bg-indigo-100 dark:bg-indigo-900/50 text-indigo-600 dark:text-indigo-400":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800"}`,title:"Panel de estadisticas",children:h.jsx(m_,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>se("decreeBook"),className:"hidden sm:flex p-2 rounded-lg text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 transition-all",title:"Libro de decretos",children:h.jsx(f_,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>se("calendar"),className:"hidden sm:flex p-2 rounded-lg text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 transition-all",title:"Calendario",children:h.jsx(p_,{className:"w-4 h-4"})}),h.jsx("button",{onClick:Vt,className:"hidden md:flex p-2 rounded-lg text-emerald-600 dark:text-emerald-400 hover:bg-emerald-100 dark:hover:bg-emerald-900/30 transition-all",title:"Exportar a Excel",children:h.jsx(_5,{className:"w-4 h-4"})}),h.jsx("button",{onClick:Z,className:"p-2 rounded-lg text-slate-400 hover:text-slate-600 dark:hover:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 transition-all",title:ee?"Modo claro":"Modo oscuro",children:ee?h.jsx(Ad,{className:"w-4 h-4"}):h.jsx(G5,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>se("themeSelector"),className:"hidden sm:flex p-2 rounded-lg text-slate-400 hover:text-violet-600 dark:hover:text-violet-400 hover:bg-slate-100 dark:hover:bg-slate-800 transition-all",title:"Personalizar tema",children:h.jsx(J5,{className:"w-4 h-4"})}),h.jsx(W4,{records:Ee,employees:L,onViewEmployee:nn}),h.jsx("div",{className:"w-px h-6 bg-slate-300 dark:bg-slate-600 mx-1"}),h.jsx("span",{className:`hidden sm:inline-flex px-2 py-0.5 rounded-md text-[9px] font-black uppercase tracking-wider ${c.bg} ${c.text}`,children:o}),a==="admin"&&h.jsx("button",{onClick:()=>{p("settings"),b(!1)},className:"p-2 rounded-lg text-purple-500 hover:text-purple-600 dark:hover:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-900/30 transition-all",title:"Configuracin y Administracin",children:h.jsx(ac,{className:"w-4 h-4"})}),h.jsx("button",{onClick:Sn,className:"p-2 rounded-lg text-red-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 transition-all",title:"Cerrar sesion",children:h.jsx(k_,{className:"w-4 h-4"})})]})]}),De&&h.jsx("div",{className:"absolute bottom-0 left-0 w-full h-[3px] bg-indigo-50 dark:bg-indigo-900/50 overflow-hidden",children:h.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-600 via-sky-400 to-indigo-600 bg-[length:200%_100%] animate-sync-progress"})})]}),h.jsx("main",{className:"flex-1 overflow-auto p-4 sm:p-6 lg:p-8",children:h.jsxs("div",{className:"max-w-7xl mx-auto page-fade-in",children:[u==="decretos"&&h.jsx("div",{className:"mb-8",children:h.jsx(j6,{userName:sr,totalRecords:Ee.length,totalEmployees:L.length,criticalAlerts:Te,onClickDecrees:()=>{},onClickEmployees:()=>se("employeeList"),onClickUrgent:()=>se("lowBalance")})}),Io()]})}),u==="decretos"&&h.jsx("footer",{className:"px-4 sm:px-6 py-6 border-t border-slate-200 dark:border-slate-700",children:h.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4 opacity-40 hover:opacity-100 transition-all",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(b_,{className:"w-5 h-5 text-indigo-600"}),h.jsx("span",{className:"text-[10px] font-black text-slate-600 dark:text-slate-400 uppercase tracking-[0.2em]",children:"GDP Cloud Engine 2026"})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("button",{onClick:()=>se("shortcuts"),className:"hidden sm:flex items-center gap-1.5 text-[9px] font-bold text-slate-400 hover:text-indigo-600 transition-colors uppercase tracking-wider",children:[h.jsx(x_,{className:"w-3 h-3"})," Atajos"]}),h.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-[0.1em] text-center",children:"Desarrollado por Maximiliano Guzman"})]})]})})]}),ie.employeeList&&h.jsx(J.Suspense,{fallback:h.jsx(Pl,{}),children:h.jsx(I6,{isOpen:ie.employeeList,onClose:()=>X("employeeList"),employees:L,records:Ee,onAddEmployee:s.canManageEmployees?sn:void 0,onUpdateEmployee:s.canManageEmployees?dt:void 0,onDeleteEmployee:s.canManageEmployees?tr:void 0,onFilterByEmployee:Ge,onQuickDecree:s.canCreateDecree?Gn:void 0})}),ie.lowBalance&&h.jsx(J.Suspense,{fallback:h.jsx(Pl,{}),children:h.jsx(L6,{isOpen:ie.lowBalance,onClose:()=>X("lowBalance"),records:Ee})}),ie.decreeBook&&h.jsx(J.Suspense,{fallback:h.jsx(Pl,{}),children:h.jsx(U6,{isOpen:ie.decreeBook,onClose:()=>X("decreeBook"),records:Ee})}),h.jsx(A4,{isOpen:ie.shortcuts,onClose:()=>X("shortcuts"),shortcuts:vi}),ie.calendar&&h.jsx(J.Suspense,{fallback:h.jsx(Pl,{}),children:h.jsx(Kv,{isOpen:ie.calendar,onClose:()=>X("calendar"),records:Ee})}),h.jsx(Z4,{isOpen:ie.confirmDelete,onClose:()=>{X("confirmDelete"),D(null)},onConfirm:Le,title:"Eliminar decreto",message:"Estas seguro de que deseas eliminar este decreto? Esta accion se puede deshacer.",confirmText:"Eliminar",cancelText:"Cancelar",variant:"danger"}),h.jsx(C6,{isOpen:me,onClose:()=>te(!1),records:Ee,employees:L,onNavigate:fe=>{fe==="dashboard"?p("dashboard"):fe==="calendar"?p("calendar"):fe==="employees"?p("employees"):fe==="settings"&&p("settings")},onNewDecree:us,onSelectEmployee:fe=>Ge(fe.nombre),onSelectRecord:it,onExportData:Vt}),ie.themeSelector&&h.jsx(J.Suspense,{fallback:h.jsx(Pl,{}),children:h.jsx(M6,{isOpen:ie.themeSelector,onClose:()=>X("themeSelector")})}),h.jsx(T_,{toasts:re,onRemove:Re}),h.jsx(R4,{})]})},V6=()=>{const{user:r,loading:e}=u0();return e?h.jsx("div",{className:"min-h-screen bg-slate-100 dark:bg-slate-900 flex items-center justify-center",children:h.jsxs("div",{className:"text-center page-fade-in",children:[h.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center mx-auto shadow-xl",children:h.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-white border-t-transparent rounded-full"})}),h.jsx("p",{className:"text-sm font-bold text-slate-500 dark:text-slate-400 mt-4",children:"Verificando sesion"})]})}):r?h.jsx(F6,{}):h.jsx(j4,{})},H6=()=>h.jsx(eT,{children:h.jsx(C4,{children:h.jsx(ZA,{children:h.jsx(V6,{})})})}),q6=Ow.createRoot(document.getElementById("root"));q6.render(h.jsx(Zs.StrictMode,{children:h.jsx(H6,{})}));export{Z6 as $,ST as A,f_ as B,bi as C,y_ as D,sc as E,rc as F,ui as G,e4 as H,W6 as I,J5 as J,QA as K,Eo as L,O6 as M,hc as N,Rd as O,uv as P,Nt as Q,Zs as R,Ad as S,No as T,Td as U,m0 as V,It as W,qn as X,_5 as Y,ej as Z,Ns as _,f0 as a,Q6 as a0,E5 as a1,NT as a2,hv as a3,g_ as b,je as c,gi as d,Ed as e,Cp as f,Ud as g,wc as h,n5 as i,h as j,lv as k,h0 as l,ep as m,Np as n,E_ as o,FT as p,Ro as q,J as r,m4 as s,K6 as t,Tp as u,g5 as v,rv as w,p_ as x,X6 as y,Do as z};
